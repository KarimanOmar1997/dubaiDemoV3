/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
import{w as e,h as r,O as t,j as i}from"../../core/Accessor.js";import{y as s}from"../../chunks/layerUtils.js";import"../../core/lang.js";import"../../core/Handles.js";import"../../chunks/Logger.js";import"../../config.js";import"../../chunks/maybe.js";import"../../core/accessorSupport/decorators/subclass.js";import"../../chunks/Lifecycle.js";import"../../chunks/metadata.js";import"../../chunks/utils.js";import"../../chunks/handleUtils.js";import"../../chunks/tracking.js";import"../../chunks/ensureType.js";import"../../chunks/MapUtils.js";import"../../chunks/Warning.js";import"../../core/Error.js";import"../../chunks/get.js";import"../../chunks/ObjectPool.js";import"../../chunks/ObservableBase.js";import"../../core/accessorSupport/decorators/property.js";import"../../chunks/watch.js";import"../../core/scheduling.js";import"../../chunks/nextTick.js";import"../../chunks/PooledArray.js";import"../../core/promiseUtils.js";import"../../chunks/events.js";import"../../chunks/SetUtils.js";import"../../chunks/SimpleTrackingTarget.js";import"../../kernel.js";import"../../core/urlUtils.js";import"../../chunks/jsonUtils.js";import"../../request.js";import"../../chunks/persistableUrlUtils.js";import"../../core/Collection.js";import"../../chunks/tslib.es6.js";import"../../core/Evented.js";import"../../chunks/shared.js";import"../../chunks/SimpleObservable.js";import"../../layers/catalog/catalogUtils.js";import"../../core/reactiveUtils.js";const o=e=>"feature"===e.type&&!e.isTable,p={feature:{predicate:s,propertyGroups:[{id:"attribute-table-template",properties:["attributeTableTemplate"]},{id:"blend-mode",properties:["blendMode"],predicate:o},{id:"charts",properties:["charts"]},{id:"custom-parameters",properties:["customParameters"]},{id:"definition-expression",properties:["definitionExpression"]},{id:"display-filter",properties:["displayFilterInfo","displayFilterEnabled"],predicate:o},{id:"effect",properties:["effect","featureEffect"],predicate:o},{id:"feature-reduction",properties:["featureReduction"],predicate:o},{id:"floor-info",properties:["floorInfo"],predicate:o},{id:"form-template",properties:["formTemplate"]},{id:"labels",properties:["labelingInfo","labelsVisible"],predicate:o},{id:"legend-enabled",properties:["legendEnabled"],predicate:o},{id:"opacity",properties:["opacity"],predicate:o},{id:"order-by",properties:["orderBy"],predicate:o},{id:"popup",properties:["popupTemplate","popupEnabled"]},{id:"refresh-interval",properties:["refreshInterval"]},{id:"renderer",properties:["renderer"],predicate:o},{id:"scale-range",properties:["minScale","maxScale"],predicate:o},{id:"use-view-time",properties:["useViewTime"]}]}};function n(e){const r=p[e.type];return r?.propertyGroups.filter((r=>!r.predicate||r.predicate(e)))??[]}function c(e){const r=n(e),t=[];for(const e of r)t.push(...e.properties);return t}function a(t,i,s){const o=e(s);t.revert(i,r(o-1))}function u(r,s,o){const p=e(o),n=r,c=n.originIdOf(s);c<p&&c!==t.COMPUTED&&n.updateOrigin(s,i(p))}function d(e){const r=p[e.type];return!(!r||r.predicate&&!r.predicate(e))}function l(e){return d(e)}function m(e,r){return function(e,r){if(!d(e))return;const t=c(e);for(const i of t)a(e,i,r)}(e,r)}function f(e,r){return function(e,r){if(!d(e))return;const t=c(e);for(const i of t)u(e,i,r)}(e,r)}function j(r,t){return function(r,t){if(!d(r))return;const i=n(r).map((i=>function(r,t,i){const s=e(i),{id:o,properties:p}=t,n=p.map((e=>function(e,r,t){return e.originIdOf(r)<t?"source":"overridden"}(r,e,s))).reduce(((e,r)=>e===r?e:"overridden"));return{id:o,properties:[...p],status:n}}(r,i,t)));return{propertyGroupOriginInfos:i,status:i.map((e=>e.status)).reduce(((e,r)=>e===r?e:"mixed"))}}(r,t)}export{m as clearOverrides,f as disconnectFromSource,j as getLayerOriginInfo,l as isSupportedLayer};
