"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[6379],{26809:(t,e,n)=>{n.d(e,{B:()=>f,C:()=>z,D:()=>P,E:()=>d,F:()=>l,G:()=>h,H:()=>v,I:()=>K,a:()=>N,b:()=>y,c:()=>a,d:()=>S,e:()=>U,f:()=>w,i:()=>c,j:()=>M,k:()=>u,l:()=>o,m:()=>I,n:()=>A,o:()=>p,p:()=>m,q:()=>E,r:()=>q,s:()=>s,t:()=>L,u:()=>b,v:()=>_,w:()=>x,x:()=>g,y:()=>D});var i=n(2589),r=n(18527);function o(t){const e=t[0],n=t[1],i=t[2];return Math.sqrt(e*e+n*n+i*i)}function a(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function s(t,e,n,i){return t[0]=e,t[1]=n,t[2]=i,t}function c(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function u(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function l(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function h(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function f(t,e){return t[0]=Math.abs(e[0]),t[1]=Math.abs(e[1]),t[2]=Math.abs(e[2]),t}function d(t,e){return t[0]=Math.sign(e[0]),t[1]=Math.sign(e[1]),t[2]=Math.sign(e[2]),t}function p(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t}function m(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t}function M(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function y(t,e,n,i){return t[0]=e[0]+n[0]*i,t[1]=e[1]+n[1]*i,t[2]=e[2]+n[2]*i,t}function g(t,e){const n=e[0]-t[0],i=e[1]-t[1],r=e[2]-t[2];return Math.sqrt(n*n+i*i+r*r)}function x(t,e){const n=e[0]-t[0],i=e[1]-t[1],r=e[2]-t[2];return n*n+i*i+r*r}function _(t){const e=t[0],n=t[1],i=t[2];return e*e+n*n+i*i}function b(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function v(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function A(t,e){const n=e[0],i=e[1],r=e[2];let o=n*n+i*i+r*r;return o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o),t}function S(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function w(t,e,n){const i=e[0],r=e[1],o=e[2],a=n[0],s=n[1],c=n[2];return t[0]=r*c-o*s,t[1]=o*a-i*c,t[2]=i*s-r*a,t}function I(t,e,n,i){const r=e[0],o=e[1],a=e[2];return t[0]=r+i*(n[0]-r),t[1]=o+i*(n[1]-o),t[2]=a+i*(n[2]-a),t}function L(t,e,n){const i=e[0],r=e[1],o=e[2];return t[0]=n[0]*i+n[4]*r+n[8]*o+n[12],t[1]=n[1]*i+n[5]*r+n[9]*o+n[13],t[2]=n[2]*i+n[6]*r+n[10]*o+n[14],t}function E(t,e,n){const i=e[0],r=e[1],o=e[2];return t[0]=i*n[0]+r*n[3]+o*n[6],t[1]=i*n[1]+r*n[4]+o*n[7],t[2]=i*n[2]+r*n[5]+o*n[8],t}function q(t,e,n){const i=n[0],r=n[1],o=n[2],a=n[3],s=e[0],c=e[1],u=e[2],l=r*u-o*c,h=o*s-i*u,f=i*c-r*s,d=r*f-o*h,p=o*l-i*f,m=i*h-r*l,M=2*a;return t[0]=s+l*M+2*d,t[1]=c+h*M+2*p,t[2]=u+f*M+2*m,t}const T=(0,i.c)(),R=(0,i.c)();function U(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function D(t,e,n){const i=n[0]-e[0],r=n[1]-e[1],o=n[2]-e[2];let a=i*i+r*r+o*o;return a>0?(a=1/Math.sqrt(a),t[0]=i*a,t[1]=r*a,t[2]=o*a,t):(t[0]=0,t[1]=0,t[2]=0,t)}const N=u,O=l,Z=h,K=g,z=x,k=o,P=_;Object.freeze(Object.defineProperty({__proto__:null,abs:f,add:c,angle:function(t,e){A(T,t),A(R,e);const n=S(T,R);return n>1?0:n<-1?Math.PI:Math.acos(n)},bezier:function(t,e,n,i,r,o){const a=1-o,s=a*a,c=o*o,u=s*a,l=3*o*s,h=3*c*a,f=c*o;return t[0]=e[0]*u+n[0]*l+i[0]*h+r[0]*f,t[1]=e[1]*u+n[1]*l+i[1]*h+r[1]*f,t[2]=e[2]*u+n[2]*l+i[2]*h+r[2]*f,t},ceil:function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t},clamp:function(t,e=0,n=1){return t[0]=Math.min(Math.max(t[0],e),n),t[1]=Math.min(Math.max(t[1],e),n),t[2]=Math.min(Math.max(t[2],e),n),t},copy:a,cross:w,crossAndNormalize:function(t,e,n){const i=e[0],r=e[1],o=e[2],a=n[0],s=n[1],c=n[2],u=r*c-o*s,l=o*a-i*c,h=i*s-r*a,f=Math.sqrt(u*u+l*l+h*h);return t[0]=u/f,t[1]=l/f,t[2]=h/f,t},direction:D,dist:K,distance:g,div:Z,divide:h,dot:S,equals:function(t,e){if(t===e)return!0;const n=t[0],i=t[1],o=t[2],a=e[0],s=e[1],c=e[2],u=(0,r.g)();return Math.abs(n-a)<=u*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(i-s)<=u*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(o-c)<=u*Math.max(1,Math.abs(o),Math.abs(c))},exactEquals:U,floor:function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t},hermite:function(t,e,n,i,r,o){const a=o*o,s=a*(2*o-3)+1,c=a*(o-2)+o,u=a*(o-1),l=a*(3-2*o);return t[0]=e[0]*s+n[0]*c+i[0]*u+r[0]*l,t[1]=e[1]*s+n[1]*c+i[1]*u+r[1]*l,t[2]=e[2]*s+n[2]*c+i[2]*u+r[2]*l,t},inverse:v,len:k,length:o,lerp:I,max:m,min:p,mul:O,multiply:l,negate:b,normalize:A,random:function(t,e=1){const n=r.R,i=2*n()*Math.PI,o=2*n()-1,a=Math.sqrt(1-o*o)*e;return t[0]=Math.cos(i)*a,t[1]=Math.sin(i)*a,t[2]=o*e,t},rotateX:function(t,e,n,i){const r=[],o=[];return r[0]=e[0]-n[0],r[1]=e[1]-n[1],r[2]=e[2]-n[2],o[0]=r[0],o[1]=r[1]*Math.cos(i)-r[2]*Math.sin(i),o[2]=r[1]*Math.sin(i)+r[2]*Math.cos(i),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},rotateY:function(t,e,n,i){const r=[],o=[];return r[0]=e[0]-n[0],r[1]=e[1]-n[1],r[2]=e[2]-n[2],o[0]=r[2]*Math.sin(i)+r[0]*Math.cos(i),o[1]=r[1],o[2]=r[2]*Math.cos(i)-r[0]*Math.sin(i),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},rotateZ:function(t,e,n,i){const r=[],o=[];return r[0]=e[0]-n[0],r[1]=e[1]-n[1],r[2]=e[2]-n[2],o[0]=r[0]*Math.cos(i)-r[1]*Math.sin(i),o[1]=r[0]*Math.sin(i)+r[1]*Math.cos(i),o[2]=r[2],t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},round:function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t},scale:M,scaleAndAdd:y,set:s,sign:d,sqrDist:z,sqrLen:P,squaredDistance:x,squaredLength:_,str:function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},sub:N,subtract:u,transformMat3:E,transformMat4:L,transformQuat:q},Symbol.toStringTag,{value:"Module"}))},29583:(t,e,n)=>{n.r(e),n.d(e,{default:()=>D});var i=n(32816),r=n(64604),o=n(6407),a=n(20266),s=n(16699),c=n(2810),u=n(80959),l=n(67321),h=n(29298),f=(n(32773),n(49877)),d=n(69421),p=n(77792),m=n(26809),M=n(2589),y=n(69763),g=n(44600),x=n(7969),_=n(47387),b=n(73597),v=n(67315),A=n(8368),S=n(4335),w=n(88730),I=n(38424),L=n(96807),E=n(65174),q=n(53671),T=n(2026),R=n(1178);n(90740),n(29512),n(99063),n(41390),n(85176),n(93181),n(13671),n(50704),n(40499),n(36555),n(58498),n(91047),n(35819),n(45371),n(61532),n(36172),n(99924),n(19247),n(36544),n(48064),n(76636),n(93049),n(51601),n(18527),n(93804),n(96221),n(18683),n(2160),n(56273),n(64752),n(48844),n(29208),n(46728),n(81272),n(80473),n(73509),n(28276),n(58194),n(4734),n(50214),n(59192),n(16345),n(54483),n(73067),n(23916),n(17745),n(44945),n(93074),n(82408),n(91658),n(70580),n(75191),n(24319),n(62092),n(43059),n(89935),n(49813),n(82454),n(88321),n(36533),n(84200),n(97827),n(91695),n(18169),n(20762),n(48402),n(67504),n(21632),n(64102),n(49755),n(30011),n(54131),n(19869),n(53065),n(20804),n(63834),n(52731),n(87357),n(19969),n(9207),n(64524),n(2763);let U=class extends((0,A.A)((0,w.q)((0,I.A)((0,L.j)((0,c.M)((0,S.d)((0,v.p)(b.A)))))))){readModifications(t,e,n){this._modificationsSource={url:(0,R.f)(t,n),context:n}}initialize(){this.addHandles((0,l.on)((()=>this.modifications),"after-changes",(()=>this.modifications=this.modifications),l.OH))}constructor(t){super(t),this.operationalLayerType="IntegratedMesh3DTilesLayer",this.modifications=null,this._modificationsSource=null,this.spatialReference=new x.A({wkid:4326,vcsWkid:115700}),this.fullExtent=new g.A(-180,-90,180,90,this.spatialReference),this.url=null,this.type="integrated-mesh-3dtiles",this.path=null,this.minScale=0,this.maxScale=0,this.rootTilesetJSON=null}set elevationInfo(t){null!=t&&"absolute-height"!==t.mode||this._set("elevationInfo",t),this._validateElevationInfo(t)}_verifyArray(t,e){if(!Array.isArray(t)||t.length<e)return!1;for(const e of t)if("number"!=typeof e)return!1;return!0}_initFullExtent(){const t=this.rootTilesetJSON?.root?.boundingVolume;if(!t)return;if(t.box){const e=t?.box;if(e[3]>7645211&&e[7]>7645211&&e[11]>7645211)return}const e=this.rootTilesetJSON?.root?.transform,n=(0,M.c)();if(t.region&&this._verifyArray(t.region,6)){const e=t.region,n=(0,s.r)(e[0]),i=(0,s.r)(e[1]),r=e[4],o=(0,s.r)(e[2]),a=(0,s.r)(e[3]),c=e[5];this.fullExtent=new g.A({xmin:n,ymin:i,zmin:r,xmax:o,ymax:a,zmax:c,spatialReference:this.spatialReference})}else if(t.sphere&&this._verifyArray(t.sphere,4)){const i=t.sphere,r=(0,M.f)(i[0],i[1],i[2]),o=i[3]/Math.sqrt(3),a=(0,M.c)();(0,m.k)(a,r,(0,M.f)(o,o,o));const s=(0,M.c)();if((0,m.i)(s,r,(0,M.f)(o,o,o)),e&&this._verifyArray(e,16)){const t=e;(0,m.t)(n,a,t),(0,m.c)(a,n),(0,m.t)(n,s,t),(0,m.c)(s,n)}(0,_.p)(a,y.W,0,a,x.A.WGS84,0),(0,_.p)(s,y.W,0,s,x.A.WGS84,0);const c=(0,M.c)(),u=(0,M.c)();(0,m.o)(c,a,s),(0,m.p)(u,a,s),this.fullExtent=new g.A({xmin:c[0],ymin:c[1],zmin:c[2],xmax:u[0],ymax:u[1],zmax:u[2],spatialReference:this.spatialReference})}else if(t.box&&this._verifyArray(t.box,12)){const n=t.box,i=(0,M.f)(n[0],n[1],n[2]),r=(0,M.f)(n[3],n[4],n[5]),o=(0,M.f)(n[6],n[7],n[8]),a=(0,M.f)(n[9],n[10],n[11]),s=[];for(let t=0;t<8;++t)s.push((0,M.c)());if((0,m.i)(s[0],i,r),(0,m.i)(s[0],s[0],o),(0,m.i)(s[0],s[0],a),(0,m.a)(s[1],i,r),(0,m.i)(s[1],s[1],o),(0,m.i)(s[1],s[1],a),(0,m.i)(s[2],i,r),(0,m.a)(s[2],s[2],o),(0,m.i)(s[2],s[2],a),(0,m.a)(s[3],i,r),(0,m.a)(s[3],s[3],o),(0,m.i)(s[3],s[3],a),(0,m.i)(s[4],i,r),(0,m.i)(s[4],s[4],o),(0,m.a)(s[4],s[4],a),(0,m.a)(s[5],i,r),(0,m.i)(s[5],s[5],o),(0,m.a)(s[5],s[5],a),(0,m.i)(s[6],i,r),(0,m.a)(s[6],s[6],o),(0,m.a)(s[6],s[6],a),(0,m.a)(s[7],i,r),(0,m.a)(s[7],s[7],o),(0,m.a)(s[7],s[7],a),e&&this._verifyArray(e,16)){const t=e;for(let e=0;e<8;++e)(0,m.t)(s[e],s[e],t)}const c=(0,M.f)(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE),u=(0,M.f)(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE);for(let t=0;t<8;++t)(0,_.p)(s[t],y.W,0,s[t],x.A.WGS84,0),(0,m.o)(u,u,s[t]),(0,m.p)(c,c,s[t]);this.fullExtent=new g.A({xmin:u[0],ymin:u[1],zmin:u[2],xmax:c[0],ymax:c[1],zmax:c[2],spatialReference:this.spatialReference})}}async load(t){return this.addResolvingPromise(this._doLoad(t)),this}async _doLoad(t){const e=null!=t?t.signal:null;try{await this.loadFromPortal({supportedTypes:["3DTiles Service"],validateItem:t=>{if(t.typeKeywords?.includes("IntegratedMesh"))return!0;throw new o.A("portal:invalid-layer-item-type","Invalid layer item, expected '${expectedType}' ",{expectedType:"3DTiles Service containing IntegratedMesh"})}},t)}catch(t){(0,u.QP)(t)}if(null!=this._modificationsSource){const e=await q.A.fromUrl(this._modificationsSource.url,this.spatialReference,t);this.setAtOrigin("modifications",e,this._modificationsSource.context.origin),this._modificationsSource=null}if(this.url){const t=(0,r.A)(this.url,{query:{...this.customParameters,token:this.apiKey},responseType:"json",signal:e}).then((t=>{this.rootTilesetJSON=t.data,this._initFullExtent()}),(t=>{(0,u.QP)(t)}));await t}}beforeSave(){if(null!=this._modificationsSource)return this.load().then((()=>{}),(()=>{}))}async fetchAttributionData(){return this.load().then((()=>({})))}_validateElevationInfo(t){const e="Integrated mesh 3d tiles layers";(0,T.l)(a.L.getLogger(this),(0,T.e)(e,"absolute-height",t)),(0,T.l)(a.L.getLogger(this),(0,T.f)(e,t))}};(0,i._)([(0,h.MZ)({type:["IntegratedMesh3DTilesLayer"]})],U.prototype,"operationalLayerType",void 0),(0,i._)([(0,h.MZ)({type:q.A,clonable:t=>t.clone()}),(0,p.p)({origins:["web-scene","portal-item"],type:"resource",prefix:"modifications"})],U.prototype,"modifications",void 0),(0,i._)([(0,f.r)(["web-scene","portal-item"],"modifications")],U.prototype,"readModifications",null),(0,i._)([(0,h.MZ)({type:x.A})],U.prototype,"spatialReference",void 0),(0,i._)([(0,h.MZ)({type:g.A})],U.prototype,"fullExtent",void 0),(0,i._)([(0,h.MZ)(E.e)],U.prototype,"elevationInfo",null),(0,i._)([(0,h.MZ)({type:["show","hide"]})],U.prototype,"listMode",void 0),(0,i._)([(0,h.MZ)(E.u)],U.prototype,"url",void 0),(0,i._)([(0,h.MZ)({readOnly:!0})],U.prototype,"type",void 0),(0,i._)([(0,h.MZ)({type:String,json:{origins:{"web-scene":{read:!0,write:!0},"portal-item":{read:!0,write:!0}},read:!1}})],U.prototype,"path",void 0),(0,i._)([(0,h.MZ)({type:Number,json:{name:"layerDefinition.minScale",write:!0,origins:{service:{read:!1,write:!1}}}})],U.prototype,"minScale",void 0),(0,i._)([(0,h.MZ)({type:Number,json:{name:"layerDefinition.maxScale",write:!0,origins:{service:{read:!1,write:!1}}}})],U.prototype,"maxScale",void 0),U=(0,i._)([(0,d.$)("esri.layers.IntegratedMesh3DTilesLayer")],U);const D=U},67315:(t,e,n)=>{n.d(e,{p:()=>a});var i=n(32816),r=n(29298),o=(n(32773),n(20266),n(69421));n(36544),n(85176),n(93181),n(13671),n(40499),n(6407),n(90740),n(50704),n(91047),n(48064);const a=t=>{let e=class extends t{get apiKey(){return this._isOverridden("apiKey")?this._get("apiKey"):"portalItem"in this?this.portalItem?.apiKey:null}set apiKey(t){null!=t?this._override("apiKey",t):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}};return(0,i._)([(0,r.MZ)({type:String})],e.prototype,"apiKey",null),e=(0,i._)([(0,o.$)("esri.layers.mixins.APIKeyMixin")],e),e}},73341:(t,e,n)=>{function i(t){return t&&"getAtOrigin"in t&&"originOf"in t}n.d(e,{i:()=>i})},93049:(t,e,n)=>{n.d(e,{a:()=>o,b:()=>a,g:()=>r,n:()=>s});const i="randomUUID"in crypto;function r(){if(i)return crypto.randomUUID();const t=crypto.getRandomValues(new Uint16Array(8));t[3]=4095&t[3]|16384,t[4]=16383&t[4]|32768;const e=e=>t[e].toString(16).padStart(4,"0");return e(0)+e(1)+"-"+e(2)+"-"+e(3)+"-"+e(4)+"-"+e(5)+e(6)+e(7)}function o(){return`{${r().toUpperCase()}}`}function a(){return`{${r()}}`}function s(t){const e=t.toUpperCase();return"{"!==t[0]?`{${e}}`:e}}}]);