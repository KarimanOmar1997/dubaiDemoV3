"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[8578],{8368:(e,t,r)=>{r.d(t,{A:()=>o});var n=r(32816),i=r(20266),a=r(29298),s=(r(32773),r(69421)),l=r(64604);const o=e=>{let t=class extends e{get title(){if(this._get("title")&&"defaults"!==this.originOf("title"))return this._get("title");if(this.url){const e=(0,l.p)(this.url);if(e?.title)return e.title}return this._get("title")||""}set title(e){this._set("title",e)}set url(e){this._set("url",(0,l.s)(e,i.L.getLogger(this)))}};return(0,n._)([(0,a.MZ)()],t.prototype,"title",null),(0,n._)([(0,a.MZ)({type:String})],t.prototype,"url",null),t=(0,n._)([(0,s.$)("esri.layers.mixins.ArcGISService")],t),t}},20873:(e,t,r)=>{r.d(t,{f:()=>d,g:()=>p,p:()=>f});var n=r(64604),i=r(44600),a=r(64752),s=r(7969),l=r(55095),o=r(47368),u=r(8824);async function c(e,t,r){const c=(0,o.p)(e),{rasterFunction:d,sourceJSON:p}=t||{},f=d?JSON.stringify(d.rasterFunctionDefinition||d):null,m=(0,o.e)({...c.query,renderingRule:f,f:"json"}),h=(0,o.a)(m,r);e=c.path;const y=p||await(0,n.A)(e,h).then((e=>e.data)),g=y.hasRasterAttributeTable?(0,n.A)(`${e}/rasterAttributeTable`,h):null,v=y.hasColormap?(0,n.A)(`${e}/colormap`,h):null,b=y.hasHistograms?(0,n.A)(`${e}/histograms`,h):null,x=y.currentVersion>=10.3?(0,n.A)(`${e}/keyProperties`,h):null,w=y.hasMultidimensions?(0,n.A)(`${e}/multidimensionalInfo`,h):null,A=await Promise.allSettled([g,v,b,x,w]);let R=null;if(y.minValues&&y.minValues.length===y.bandCount){R=[];for(let e=0;e<y.minValues.length;e++)R.push({min:y.minValues[e],max:y.maxValues[e],avg:y.meanValues[e],stddev:y.stdvValues[e]})}const S=i.A.fromJSON(y.extent),M=Math.ceil(S.width/y.pixelSizeX-.1),V=Math.ceil(S.height/y.pixelSizeY-.1),_=s.A.fromJSON(y.spatialReference||y.extent.spatialReference),D="fulfilled"===A[0].status?A[0].value?.data:null,I=D?.features?.length?u.A.fromJSON(D):null,T="fulfilled"===A[1].status?A[1].value?.data.colormap:null,P=T?.length?T:null,N="fulfilled"===A[2].status?A[2].value?.data.histograms:null,C=N?.[0]?.counts?.length?N:null,O="fulfilled"===A[3].status?A[3].value?.data??{}:{},k="fulfilled"===A[4].status?A[4].value?.data.multidimensionalInfo:null,j=k?.variables?.length?k:null;j&&j.variables.forEach((e=>{e.statistics?.length&&e.statistics.forEach((e=>{e.avg=e.mean,e.stddev=e.standardDeviation})),e.dimensions?.forEach((e=>{"StdTime"!==e.name||e.recurring||e.unit||(e.unit="ISO8601")}))}));const{defaultVariable:Z,serviceDataType:$}=y;Z&&Z!==O.DefaultVariable&&(O.DefaultVariable=Z),$?.includes("esriImageServiceDataTypeVector")&&!$.includes(O.DataType)&&(O.DataType=$.replace("esriImageServiceDataType",""));let J=y.noDataValue;y.noDataValues?.length&&y.noDataValues.some((e=>e!==J))&&(J=y.noDataValues);const L=y.transposeInfo?new l.R({blockWidth:256,blockHeight:256,pyramidBlockWidth:256,pyramidBlockHeight:256,pyramidScalingFactor:2,compression:"lerc",origin:new a.A({x:y.extent.xmin,y:y.extent.ymax,spatialReference:_}),firstPyramidLevel:1,maximumPyramidLevel:Math.max(0,Math.round(Math.log(Math.max(M,V))/Math.LN2-8)),transposeInfo:y.transposeInfo}):void 0;return new l.A({width:M,height:V,bandCount:y.bandCount,extent:i.A.fromJSON(y.extent),spatialReference:_,pixelSize:new a.A({x:y.pixelSizeX,y:y.pixelSizeY,spatialReference:_}),pixelType:y.pixelType.toLowerCase(),statistics:R,attributeTable:I,colormap:P,histograms:C,keyProperties:O,noDataValue:J,multidimensionalInfo:j,storageInfo:L})}function d(e,t,r){return c(e,{sourceJSON:t},r)}function p(e,t,r){return c(e,{rasterFunction:t},r)}function f(e,t){e.attributeTable||(t.hasRasterAttributeTable=!1),e.histograms||(t.hasHistograms=!1),e.colormap||(t.hasColormap=!1),e.multidimensionalInfo||(t.hasMultidimensions=!1)}},24133:(e,t,r)=>{r.d(t,{H:()=>l});var n=r(32816),i=r(29298),a=(r(32773),r(20266),r(69421)),s=r(74181);r(36544),r(85176),r(93181),r(13671),r(40499),r(6407),r(90740),r(50704),r(91047),r(48064),r(52731),r(41390),r(36555),r(58498),r(35819),r(45371),r(61532),r(80959),r(19247),r(36172),r(99924),r(88663),r(93804),r(99506),r(91381),r(48844),r(49877),r(56273),r(30011),r(54483),r(60027),r(57111),r(75651),r(88614),r(1030),r(35902),r(24330),r(16699),r(15319),r(60785),r(56487),r(6399),r(9498),r(24079),r(38149),r(19681),r(64524),r(40328),r(84539),r(65299),r(38641),r(27281),r(72393),r(17745),r(81272),r(44945),r(51961),r(62399),r(64995),r(70861),r(33150),r(58173),r(66110),r(67520),r(27532),r(48103),r(50214),r(59192),r(16345),r(65085),r(33611),r(84857),r(60373),r(98187),r(16794),r(52357),r(11090),r(49319),r(93546),r(29570),r(34592),r(79825),r(95101),r(67578),r(17857),r(82537),r(14896),r(95611),r(98089),r(91366),r(80473),r(43435),r(73435),r(67321),r(77037),r(44600),r(2160),r(7969),r(69763),r(96221),r(18683),r(64604),r(29512),r(99063),r(1178),r(64752),r(29208),r(36533),r(84200),r(97827),r(91695),r(18169),r(20762),r(48402),r(67504),r(91815),r(92517),r(85232),r(93471),r(7182),r(47788),r(19297),r(82408),r(73509),r(28276),r(91658),r(70580),r(75191),r(24319),r(62092),r(53252),r(34039),r(43534),r(3495),r(97906),r(65023),r(31424),r(74676),r(32368),r(7391),r(22529),r(44747),r(38094),r(67723),r(2589),r(47239),r(63728),r(4157),r(62401),r(89322),r(20138),r(53370),r(59858),r(46946),r(3816),r(71992),r(80167),r(4478),r(91808),r(7161),r(55586),r(92229),r(18344),r(53610),r(29447),r(78273),r(49475),r(64884),r(23351),r(35121),r(51222),r(42870),r(54512),r(53103),r(19648),r(42948),r(19869),r(3827),r(98238),r(78328),r(23916),r(93074),r(54616),r(25018),r(41740),r(75399),r(46341),r(79943),r(68258),r(13226),r(91276),r(18527),r(62482),r(12692),r(60303),r(79769),r(17813),r(3112),r(46626),r(45560),r(56303),r(85890),r(55884),r(42656),r(3952),r(339),r(79281),r(47368),r(55807),r(10348),r(89779),r(40790),r(70061),r(73067),r(60369),r(13201),r(47215),r(47812),r(23875),r(12856),r(91524),r(4718),r(56570),r(23787),r(22151);const l=e=>{let t=class extends e{constructor(){super(...arguments),this.activePresetRendererName=null,this.presetRenderers=null}};return(0,n._)([(0,i.MZ)({type:String,json:{name:"layerDefinition.activePresetRendererName",write:{allowNull:!0}}})],t.prototype,"activePresetRendererName",void 0),(0,n._)([(0,i.MZ)({type:[s.A],json:{name:"layerDefinition.presetRenderers",write:!0}})],t.prototype,"presetRenderers",void 0),t=(0,n._)([(0,a.$)("esri.layers.mixins.RasterPresetRendererMixin")],t),t}},33489:(e,t,r)=>{r.d(t,{a:()=>l,b:()=>s,d:()=>d,e:()=>u,f:()=>p,g:()=>a,i:()=>i});var n=r(32773);function i(e){return 32+e.length}const a=16;function s(e){if(!e)return 0;let t=d;for(const r in e)e.hasOwnProperty(r)&&(t+=o(e[r],!1));return t}function l(e){if(!e)return 0;if("number"==typeof e[0])return u(e);if(Array.isArray(e))return function(e){const t=e.length;if(0===t||"number"==typeof e[0])return c(e,8);let r=p;for(let n=0;n<t;n++)r+=o(e[n]);return r}(e);let t=d;for(const r in e)e.hasOwnProperty(r)&&(t+=o(e[r]));return t}function o(e,t=!0){switch(typeof e){case"object":return t?l(e):d;case"string":return i(e);case"number":return 16;case"boolean":return 4;default:return 8}}function u(...e){return e.reduce(((e,t)=>e+(t?(0,n.c)(t)?t.byteLength+f:Array.isArray(t)?c(t,16):0:0)),0)}function c(e,t){return p+e.length*t}const d=32,p=16,f=145},74181:(e,t,r)=>{r.d(t,{A:()=>d});var n=r(32816),i=r(52731),a=r(99924),s=r(29298),l=r(36544),o=(r(32773),r(88663)),u=r(69421),c=r(99506);r(41390),r(20266),r(90740),r(85176),r(93181),r(13671),r(50704),r(40499),r(36555),r(58498),r(91047),r(35819),r(45371),r(61532),r(80959),r(6407),r(19247),r(36172),r(48064),r(93804),r(91381),r(48844),r(49877),r(56273),r(30011),r(54483),r(60027),r(57111),r(75651),r(88614),r(1030),r(35902),r(24330),r(16699),r(15319),r(60785),r(56487),r(6399),r(9498),r(24079),r(38149),r(19681),r(64524),r(40328),r(84539),r(65299),r(38641),r(27281),r(72393),r(17745),r(81272),r(44945),r(51961),r(62399),r(64995),r(70861),r(33150),r(58173),r(66110),r(67520),r(27532),r(48103),r(50214),r(59192),r(16345),r(65085),r(33611),r(84857),r(60373),r(98187),r(16794),r(52357),r(11090),r(49319),r(93546),r(29570),r(34592),r(79825),r(95101),r(67578),r(17857),r(82537),r(14896),r(95611),r(98089),r(91366),r(80473),r(43435),r(73435),r(67321),r(77037),r(44600),r(2160),r(7969),r(69763),r(96221),r(18683),r(64604),r(29512),r(99063),r(1178),r(64752),r(29208),r(36533),r(84200),r(97827),r(91695),r(18169),r(20762),r(48402),r(67504),r(91815),r(92517),r(85232),r(93471),r(7182),r(47788),r(19297),r(82408),r(73509),r(28276),r(91658),r(70580),r(75191),r(24319),r(62092),r(53252),r(34039),r(43534),r(3495),r(97906),r(65023),r(31424),r(74676),r(32368),r(7391),r(22529),r(44747),r(38094),r(67723),r(2589),r(47239),r(63728),r(4157),r(62401),r(89322),r(20138),r(53370),r(59858),r(46946),r(3816),r(71992),r(80167),r(4478),r(91808),r(7161),r(55586),r(92229),r(18344),r(53610),r(29447),r(78273),r(49475),r(64884),r(23351),r(35121),r(51222),r(42870),r(54512),r(53103),r(19648),r(42948),r(19869),r(3827),r(98238),r(78328),r(23916),r(93074),r(54616),r(25018),r(41740),r(75399),r(46341),r(79943),r(68258),r(13226),r(91276),r(18527),r(62482),r(12692),r(60303),r(79769),r(17813),r(3112),r(46626),r(45560),r(56303),r(85890),r(55884),r(42656),r(3952),r(339),r(79281),r(47368),r(55807),r(10348),r(89779),r(40790),r(70061),r(73067),r(60369),r(13201),r(47215),r(47812),r(23875),r(12856),r(91524),r(4718),r(56570),r(23787),r(22151);let d=class extends(i.A.ClonableMixin(a.A)){constructor(e){super(e),this.name=void 0,this.method="none",this.value=void 0,this.bandIds=void 0,this.renderer=void 0}};(0,n._)([(0,s.MZ)({type:String,json:{write:{isRequired:!0}}})],d.prototype,"name",void 0),(0,n._)([(0,s.MZ)({type:["raster-function-template","variable","none"],json:{write:{isRequired:!0}}}),(0,o.e)({rasterFunctionTemplate:"raster-function-template",variable:"variable",none:"none"})],d.prototype,"method",void 0),(0,n._)([(0,s.MZ)({type:String,json:{write:{isRequired:!0}}})],d.prototype,"value",void 0),(0,n._)([(0,s.MZ)({type:[l.I],json:{write:{isRequired:!0}}})],d.prototype,"bandIds",void 0),(0,n._)([(0,s.MZ)({types:c.r,json:{write:!0,origins:{"web-scene":{types:c.w,write:{overridePolicy:e=>({enabled:e&&"vector-field"!==e.type&&"flow"!==e.type})}}}}})],d.prototype,"renderer",void 0),d=(0,n._)([(0,u.$)("esri.renderers.support.RasterPresetRenderer")],d)}}]);