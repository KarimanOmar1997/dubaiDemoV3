/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
import{r as t}from"./WGLContainer.js";import{g as s}from"./programUtils.js";import{v as r}from"./utils30.js";import{B as e,V as a}from"./VertexArrayObject.js";import{D as i,U as o,e as n}from"./enums.js";import{V as h}from"./VertexElementDescriptor.js";const p=t=>{let s="";s+=t[0].toUpperCase();for(let r=1;r<t.length;r++){const e=t[r];e===e.toUpperCase()?(s+="_",s+=e):s+=e.toUpperCase()}return s},c=(r,e,a,i)=>{const o=r+r.slice(Math.max(0,r.lastIndexOf("/"))),n=e+e.slice(Math.max(0,e.lastIndexOf("/"))),h=(t=>{const r={};for(const s in t)r[p(s)]=t[s];return s(r)})(i);return{attributes:a,shaders:{vertexShader:h+t(`${o}.vert`),fragmentShader:h+t(`${n}.frag`)}}};class m{constructor(t,s){this._rctx=t,this._attributes=[{name:"position",offset:0,type:i.SHORT,count:2}],this.layout={hash:r(this._attributes),attributes:this._attributes,stride:4},this._vertexBuffer=e.createVertex(t,o.STATIC_DRAW,new Uint16Array(s)),this._vao=new a(t,new Map([["a_position",0]]),new Map([["geometry",[new h("a_position",2,i.SHORT,0,4)]]]),new Map([["geometry",this._vertexBuffer]])),this._count=s.length/2}bind(){this._rctx.bindVAO(this._vao)}unbind(){this._rctx.bindVAO(null)}dispose(){this._vao.dispose()}draw(){this._rctx.bindVAO(this._vao),this._rctx.drawArrays(n.TRIANGLE_STRIP,0,this._count)}}export{m as V,c};
