/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
import{d as t}from"./formUtils.js";import{NumericRangeValidationError as n,v as e,validateFieldValue as r}from"../layers/support/fieldUtils.js";import{d as a}from"./dateUtils.js";var i,u;!function(t){t.Text="text",t.Number="number",t.Date="date",t.Unsupported="unsupported"}(i||(i={})),function(t){t.CANNOT_BE_EMPTY="input-validation-error::cannot-be-empty",t.TOO_SHORT="length-validation-error::too-short",t.TOO_LONG="length-validation-error::too-long"}(u||(u={}));const o=(t,n)=>{if(!t)return!0;const{operations:e}=t;switch(n){case"INSERT":return e.supportsAdd;case"UPDATE":case"DELETE":return e.supportsUpdate;default:return!0}};function s(t,i){const{dataType:o,domain:s,field:f,maxLength:l,minLength:p,range:c,required:d}=i;if(null==t)return d?u.CANNOT_BE_EMPTY:null;if("text"===o&&"string"==typeof t){if(p>-1&&t.length<p)return u.TOO_SHORT;if(l>-1&&t.length>l)return u.TOO_LONG}return"date"!==o||a({type:f.type,range:c,value:t})?s?e(f,t,s):r(f,t)??e(f,t):n.OUT_OF_RANGE}function f(t,n){return!(!l(t)||!l(n))||t===n}function l(t){return null==t||""===t}function p({dataType:n,field:e,input:r}){if(n===i.Date)return-1;const a=d(e.length);if(!r||!t(r))return a;const u=d(r.maxLength);return-1===u?a:-1===a?u:Math.min(a,u)}function c({dataType:n,field:e,input:r}){if(n===i.Date)return-1;if(!r||!t(r))return-1;const a=d(r.minLength);if(a<0)return-1;const u=d(e.length);return u>-1&&u<a?-1:a}function d(t){return"number"==typeof t&&t>-1?t:-1}const m={type:"number"},g={type:"number",intlOptions:{notation:"scientific"}};function O(t){return t>=1e7||t<=-1e7}function T(t,n){return null!=t.max&&null!=t.min?n.outsideRange:null!=t.max?n.outsideRangeMax:n.outsideRangeMin}const h=t=>t&&!Number.isNaN(t.valueOf());export{i as F,u as I,c as a,T as b,g as c,h as d,o as e,f,p as g,l as i,m as n,O as s,s as v};
