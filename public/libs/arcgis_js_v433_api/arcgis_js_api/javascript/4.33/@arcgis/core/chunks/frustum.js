/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
import{O as T,c as _,g as O,b as R}from"./ray.js";import{m as r,i as t}from"./mat4.js";import{i as n,j as A,l as E,s as F}from"./vec3.js";import{c as o}from"./vec3f64.js";import{t as s}from"./vec4.js";import{f as a}from"./vec4f64.js";import{n as c,c as e,a as f,l as i,o as u,q as M}from"./plane.js";import{d as B,s as N}from"./vector.js";function G(T){return T?{ray:_(T.ray),c0:T.c0,c1:T.c1}:{ray:_(),c0:0,c1:Number.MAX_VALUE}}function H(T,_=G()){return O(T,_.ray),_.c0=0,_.c1=Number.MAX_VALUE,_}function I(T,_){return P(T,T.c0,_)}function L(T,_){return P(T,T.c1,_)}function P(T,_,O){return n(O,T.ray.origin,A(O,T.ray.direction,_))}function m(T){return[e(),e(),e(),e(),e(),e()]}function p(){return[o(),o(),o(),o(),o(),o(),o(),o()]}function l(T,_){for(let O=0;O<X;O++)f(T[O],_[O]);return T}function j(T,_,O,R=C){const n=r(B.get(),_,T);t(n,n);for(let T=0;T<k;++T){const _=s(N.get(),x[T],n);F(R[T],_[0]/_[3],_[1]/_[3],_[2]/_[3])}g(O,R)}function g(T,_){i(_[U.FAR_BOTTOM_LEFT],_[U.NEAR_BOTTOM_LEFT],_[U.NEAR_TOP_LEFT],T[w.LEFT]),i(_[U.NEAR_BOTTOM_RIGHT],_[U.FAR_BOTTOM_RIGHT],_[U.FAR_TOP_RIGHT],T[w.RIGHT]),i(_[U.FAR_BOTTOM_LEFT],_[U.FAR_BOTTOM_RIGHT],_[U.NEAR_BOTTOM_RIGHT],T[w.BOTTOM]),i(_[U.NEAR_TOP_LEFT],_[U.NEAR_TOP_RIGHT],_[U.FAR_TOP_RIGHT],T[w.TOP]),i(_[U.NEAR_BOTTOM_LEFT],_[U.NEAR_BOTTOM_RIGHT],_[U.NEAR_TOP_RIGHT],T[w.NEAR]),i(_[U.FAR_BOTTOM_RIGHT],_[U.FAR_BOTTOM_LEFT],_[U.FAR_TOP_LEFT],T[w.FAR])}function y(T,_){for(let O=0;O<X;O++){const R=T[O];if(R[0]*_[0]+R[1]*_[1]+R[2]*_[2]+R[3]>=_[3])return!1}return!0}function v(T,_){return q(T,H(_,z.get()))}function b(T,_){for(let O=0;O<X;O++){const R=T[O];if(!c(R,_))return!1}return!0}function d(T,_,O){return q(T,function(T,_,O=G()){const r=E(T.vector);return R(T.origin,_,O.ray),O.c0=0,O.c1=r,O}(_,O,z.get()))}function h(T,_){for(let O=0;O<X;O++)if(u(T[O],_)>0)return!1;return!0}function q(T,_){for(let O=0;O<X;O++)if(!M(T[O],_))return!1;return!0}var w,U;new T((()=>G())),function(T){T[T.LEFT=0]="LEFT",T[T.RIGHT=1]="RIGHT",T[T.BOTTOM=2]="BOTTOM",T[T.TOP=3]="TOP",T[T.NEAR=4]="NEAR",T[T.FAR=5]="FAR"}(w||(w={})),function(T){T[T.NEAR_BOTTOM_LEFT=0]="NEAR_BOTTOM_LEFT",T[T.NEAR_BOTTOM_RIGHT=1]="NEAR_BOTTOM_RIGHT",T[T.NEAR_TOP_RIGHT=2]="NEAR_TOP_RIGHT",T[T.NEAR_TOP_LEFT=3]="NEAR_TOP_LEFT",T[T.FAR_BOTTOM_LEFT=4]="FAR_BOTTOM_LEFT",T[T.FAR_BOTTOM_RIGHT=5]="FAR_BOTTOM_RIGHT",T[T.FAR_TOP_RIGHT=6]="FAR_TOP_RIGHT",T[T.FAR_TOP_LEFT=7]="FAR_TOP_LEFT"}(U||(U={}));const V={bottom:[U.FAR_BOTTOM_RIGHT,U.NEAR_BOTTOM_RIGHT,U.NEAR_BOTTOM_LEFT,U.FAR_BOTTOM_LEFT],near:[U.NEAR_BOTTOM_LEFT,U.NEAR_BOTTOM_RIGHT,U.NEAR_TOP_RIGHT,U.NEAR_TOP_LEFT],far:[U.FAR_BOTTOM_RIGHT,U.FAR_BOTTOM_LEFT,U.FAR_TOP_LEFT,U.FAR_TOP_RIGHT],right:[U.NEAR_BOTTOM_RIGHT,U.FAR_BOTTOM_RIGHT,U.FAR_TOP_RIGHT,U.NEAR_TOP_RIGHT],left:[U.FAR_BOTTOM_LEFT,U.NEAR_BOTTOM_LEFT,U.NEAR_TOP_LEFT,U.FAR_TOP_LEFT],top:[U.FAR_TOP_LEFT,U.NEAR_TOP_LEFT,U.NEAR_TOP_RIGHT,U.FAR_TOP_RIGHT]},X=6,k=8,x=[a(-1,-1,-1,1),a(1,-1,-1,1),a(1,1,-1,1),a(-1,1,-1,1),a(-1,-1,1,1),a(1,-1,1,1),a(1,1,1,1),a(-1,1,1,1)],z=new T(G),C=p();export{U as P,L as a,y as b,G as c,h as d,w as e,H as f,I as g,m as h,b as i,l as j,j as k,p as l,g as m,v as n,d as o,V as p,X as q};
