/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
import"./mathUtils.js";import{e as t,m as s,o as n,h as r,j as a,i as e,b as o}from"./vec2.js";import{c}from"./vec2f64.js";function i(t,s){return t[0]*s[1]-t[1]*s[0]}function u(s,e,c,i,u=c){return t(N,i,c),t(m,e,u),function(t,s,a){const e=r(a,m)/n(a);o(t,a,e)}(y,0,N),a(s,u,y)}function f(n,r,a,o){t(N,r,a);const c=o/e(N);return s(n,a,N,c)}function p(n,r){const a=n.start,e=n.end,o=r.start,c=r.end,u=t(N,e,a),f=t(h,c,o),p=i(u,f);if(Math.abs(p)<=I)return[];const L=t(m,a,o),j=i(f,L)/p,b=i(u,L)/p;if(j>=0){if(b>=0||r.type===E.LINE)return[s(y,a,u,j)]}else if(n.type===E.LINE&&(b>=0||r.type===E.LINE))return[s(y,a,u,j)];return[]}function L(a,e,o){const c=[],i=t(N,a.end,a.start),u=t(h,a.start,e),f=n(i),p=2*r(i,u),L=p*p-4*f*(n(u)-o*o);if(0===L){const t=-p/(2*f);(a.type===E.LINE||t>=0)&&c.push(s(y,a.start,i,t))}else if(L>0){const t=Math.sqrt(L),n=(-p+t)/(2*f);(a.type===E.LINE||n>=0)&&c.push(s(y,a.start,i,n));const r=(-p-t)/(2*f);(a.type===E.LINE||r>=0)&&c.push(s(m,a.start,i,r))}return c}var E;!function(t){t[t.RAY=0]="RAY",t[t.LINE=1]="LINE"}(E||(E={}));const I=1e-6,N=c(),h=c(),m=c(),y=c();export{E as L,f as a,p as b,L as i,u as p};
