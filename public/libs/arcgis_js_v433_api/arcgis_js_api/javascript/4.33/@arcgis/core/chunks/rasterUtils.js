/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
import{Z as t}from"./vec2f64.js";import{S as a,P as e,b as n,T as i,c as s}from"./enums.js";import{a as u,T as r}from"./Texture.js";function o(t,o,m="nearest",l=!1){const c=!(l&&"u8"===o.pixelType),f=c?e.FLOAT:e.UNSIGNED_BYTE,p=null==o.pixels||0===o.pixels.length?null:c?o.getAsRGBAFloat():o.getAsRGBA(),_=t.capabilities.textureFloatLinear,g=new u;return g.width=o.width,g.height=o.height,g.internalFormat=c?a.RGBA32F:s.RGBA,g.samplingMode=!_||"bilinear"!==m&&"cubic"!==m?n.NEAREST:n.LINEAR,g.dataType=f,g.wrapMode=i.CLAMP_TO_EDGE,new r(t,g,p)}function m(t,s){const{spacing:o,offsets:m,coefficients:l,size:[c,f]}=s,p=o[0]>1,_=new u;_.width=p?4*c:c,_.height=f,_.internalFormat=a.RGBA32F,_.dataType=e.FLOAT,_.samplingMode=n.NEAREST,_.wrapMode=i.CLAMP_TO_EDGE;const g=new Float32Array(p?c*f*16:2*m.length);if(p&&null!=l)for(let t=0,a=0;t<l.length;t++)g[a++]=l[t],t%3==2&&(g[a++]=1);else for(let t=0;t<f;t++)for(let a=0;a<c;a++){const e=4*(t*c+a),n=2*(a*f+t);g[e]=m[n],g[e+1]=m[n+1],g[e+3]=-1===m[n]?0:1}return new r(t,_,g)}function l(t,a){const e=new u;return e.internalFormat=s.RGBA,e.width=a.length/4,e.height=1,e.samplingMode=n.NEAREST,e.wrapMode=i.CLAMP_TO_EDGE,new r(t,e,a)}function c(t,a,o){const m=new u;return m.internalFormat=s.ALPHA,m.pixelFormat=s.ALPHA,m.dataType=e.UNSIGNED_BYTE,m.width=o[0],m.height=o[1],m.samplingMode=n.NEAREST,m.wrapMode=i.CLAMP_TO_EDGE,new r(t,m,a)}function f(a,e,n,i=1,s=!0){return{u_flipY:s,u_applyTransform:!!a,u_opacity:i,u_transformSpacing:a?a.spacing:t,u_transformGridSize:a?a.size:t,u_targetImageSize:e,u_srcImageSize:n}}function p(t,a){return{u_colormapOffset:a||0,u_colormapMaxIndex:t?t.length/4-1:0}}function _(t){return{u_bandCount:t.bandCount,u_minOutput:t.minOutput,u_maxOutput:t.maxOutput,u_minCutOff:t.minCutOff,u_maxCutOff:t.maxCutOff,u_factor:t.factor,u_useGamma:t.useGamma,u_gamma:t.gamma,u_gammaCorrection:t.gammaCorrection}}function g(t){return{u_hillshadeType:t.hillshadeType,u_sinZcosAs:t.sinZcosAs,u_sinZsinAs:t.sinZsinAs,u_cosZs:t.cosZs,u_weights:t.weights,u_factor:t.factor,u_minValue:t.minValue,u_maxValue:t.maxValue}}export{p as a,_ as b,m as c,g as d,o as e,l as f,f as g,c as h};
