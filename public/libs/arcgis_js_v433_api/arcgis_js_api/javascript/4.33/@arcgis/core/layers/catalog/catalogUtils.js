/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
import{m as t}from"../../chunks/handleUtils.js";import{watch as r,syncAndInitial as e}from"../../core/reactiveUtils.js";import"../../chunks/events.js";import"../../chunks/maybe.js";import"../../core/promiseUtils.js";import"../../core/Error.js";import"../../core/lang.js";import"../../chunks/Logger.js";import"../../config.js";import"../../chunks/watch.js";import"../../chunks/ObjectPool.js";import"../../core/scheduling.js";import"../../chunks/nextTick.js";import"../../chunks/PooledArray.js";import"../../chunks/SetUtils.js";import"../../chunks/get.js";import"../../chunks/utils.js";import"../../chunks/Lifecycle.js";import"../../chunks/tracking.js";import"../../chunks/SimpleTrackingTarget.js";const n=new WeakMap;function o(s){return!s.destroyed&&(n.has(s)||s.addHandles([r((()=>{const t=s.parent;return!(!t||!("type"in t))&&("catalog-dynamic-group"===t.type||o(t))}),(t=>n.set(s,t)),e),t((()=>n.delete(s)))]),n.get(s))}function s(t){return t.parent&&"type"in t.parent&&"catalog-dynamic-group"===t.parent.type?t.parent.parent:null}function i(t,r){const e=t.parent,n=t.layer;if("map-image"!==n?.type||!n.sourceJSON||!e)return!1;const o=n.sourceJSON.layers;if(!o)return!1;const s=o.find((r=>t.id===r.id)),i="footprints"===r?"Feature Layer":"Catalog Dynamic Group Layer";return s?.type===i&&"Catalog Layer"===o.find((t=>t.id===e.id))?.type}export{s as getCatalogLayerForLayer,i as isCatalogSublayer,o as isLayerFromCatalog};
