/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
import{_ as e}from"../chunks/tslib.es6.js";import{i as t}from"../core/lang.js";import s from"../core/Collection.js";import{b as i}from"../chunks/events.js";import{m as o}from"../chunks/handleUtils.js";import{d as r}from"../chunks/maybe.js";import{debounce as n,isAbortError as a}from"../core/promiseUtils.js";import{watch as l,initial as c,on as p}from"../core/reactiveUtils.js";import{e as d}from"../chunks/Logger.js";import{property as m}from"../core/accessorSupport/decorators/property.js";import{subclass as h}from"../core/accessorSupport/decorators/subclass.js";import u from"../portal/Portal.js";import{d as v}from"../chunks/defaultUnit.js";import _ from"../rest/support/Stop.js";import y from"../symbols/SimpleMarkerSymbol.js";import g from"./Search.js";import b from"./Widget.js";import k from"../core/Evented.js";import{I as S}from"../chunks/InteractiveToolBase.js";import w,{f as j,a as f,D,g as C}from"./Directions/DirectionsViewModel.js";import M from"../core/Accessor.js";import{i as I,m as T}from"./Search/LocatorSearchSource.js";import{l as F}from"../chunks/componentsUtils.js";import{g as x}from"../chunks/globalCss.js";import"../chunks/widgetUtils.js";import{m as P}from"../chunks/messageBundle.js";import{t as L}from"../chunks/jsxFactory.js";import"../chunks/watch.js";import"../chunks/ObjectPool.js";import"../core/scheduling.js";import"../chunks/nextTick.js";import"../chunks/PooledArray.js";import"../core/Error.js";import"../config.js";import"../chunks/SetUtils.js";import"../chunks/get.js";import"../chunks/utils.js";import"../chunks/Lifecycle.js";import"../chunks/tracking.js";import"../chunks/SimpleTrackingTarget.js";import"../chunks/ensureType.js";import"../chunks/MapUtils.js";import"../chunks/shared.js";import"../chunks/SimpleObservable.js";import"../chunks/ObservableBase.js";import"../chunks/jsonUtils.js";import"../core/Handles.js";import"../chunks/metadata.js";import"../chunks/Warning.js";import"../kernel.js";import"../core/urlUtils.js";import"../request.js";import"../chunks/persistableUrlUtils.js";import"../core/JSONSupport.js";import"../core/Loadable.js";import"../core/Promise.js";import"../chunks/reader.js";import"../geometry/Extent.js";import"../geometry/Geometry.js";import"../geometry/SpatialReference.js";import"../chunks/unitUtils.js";import"../chunks/jsonMap.js";import"../chunks/pe.js";import"../chunks/assets.js";import"../chunks/writer.js";import"../geometry/Point.js";import"../core/accessorSupport/decorators/cast.js";import"../geometry/support/webMercatorUtils.js";import"../chunks/locale.js";import"../portal/PortalGroup.js";import"../portal/PortalQueryParams.js";import"../portal/PortalQueryResult.js";import"../portal/PortalUser.js";import"../portal/PortalFolder.js";import"../chunks/getDefaultUnitForView.js";import"../Graphic.js";import"../PopupTemplate.js";import"../core/Clonable.js";import"../layers/support/fieldUtils.js";import"../core/sql.js";import"../chunks/guards.js";import"../chunks/datetime.js";import"../popup/content.js";import"../popup/content/AttachmentsContent.js";import"../popup/content/Content.js";import"../popup/support/AttachmentsOrderByInfo.js";import"../popup/content/CustomContent.js";import"../popup/content/ExpressionContent.js";import"../popup/ElementExpressionInfo.js";import"../popup/content/FieldsContent.js";import"../popup/FieldInfo.js";import"../chunks/enumeration.js";import"../popup/support/FieldInfoFormat.js";import"../chunks/date.js";import"../chunks/constants.js";import"../popup/content/MediaContent.js";import"../popup/content/BarChartMediaInfo.js";import"../popup/content/mixins/ChartMediaInfo.js";import"../popup/content/mixins/MediaInfo.js";import"../popup/content/support/ChartMediaInfoValue.js";import"../Color.js";import"../chunks/colorUtils2.js";import"../chunks/mathUtils.js";import"../popup/content/support/ChartMediaInfoValueSeries.js";import"../chunks/chartMediaInfoUtils.js";import"../popup/content/ColumnChartMediaInfo.js";import"../popup/content/ImageMediaInfo.js";import"../popup/content/support/ImageMediaInfoValue.js";import"../popup/content/LineChartMediaInfo.js";import"../popup/content/PieChartMediaInfo.js";import"../popup/content/RelationshipContent.js";import"../popup/support/RelatedRecordsInfoFieldOrder.js";import"../popup/content/TextContent.js";import"../popup/content/UtilityNetworkAssociationsContent.js";import"../popup/support/UtilityNetworkAssociationType.js";import"../popup/ExpressionInfo.js";import"../popup/LayerOptions.js";import"../popup/RelatedRecordsInfo.js";import"../support/actions/ActionBase.js";import"../core/Identifiable.js";import"../support/actions/ActionButton.js";import"../support/actions/ActionToggle.js";import"../geometry/support/jsonUtils.js";import"../geometry/Multipoint.js";import"../chunks/zmUtils.js";import"../geometry/Polygon.js";import"../chunks/coordsUtils.js";import"../chunks/Axis.js";import"../chunks/extentUtils.js";import"../chunks/boundsUtils.js";import"../chunks/aaBoundingRect.js";import"../geometry/Polyline.js";import"../chunks/typeUtils2.js";import"../chunks/createFeatureId.js";import"../chunks/typeUtils.js";import"../symbols/CIMSymbol.js";import"../symbols/Symbol.js";import"../symbols/LabelSymbol3D.js";import"../symbols/Symbol3D.js";import"../chunks/collectionUtils.js";import"../symbols/ExtrudeSymbol3DLayer.js";import"../symbols/Symbol3DLayer.js";import"../chunks/utils5.js";import"../symbols/edges/Edges3D.js";import"../chunks/screenUtils.js";import"../chunks/materialUtils.js";import"../chunks/opacityUtils.js";import"../symbols/edges/SketchEdges3D.js";import"../symbols/edges/SolidEdges3D.js";import"../chunks/Symbol3DMaterial.js";import"../symbols/FillSymbol3DLayer.js";import"../symbols/patterns/LineStylePattern3D.js";import"../symbols/patterns/StylePattern3D.js";import"../chunks/utils6.js";import"../chunks/colors.js";import"../chunks/symbolLayerUtils3D.js";import"../chunks/vec3f64.js";import"../chunks/aaBoundingBox.js";import"../symbols/IconSymbol3DLayer.js";import"../symbols/LineSymbol3DLayer.js";import"../symbols/LineStyleMarker3D.js";import"../chunks/lineMarkers.js";import"../symbols/ObjectSymbol3DLayer.js";import"../symbols/PathSymbol3DLayer.js";import"../symbols/TextSymbol3DLayer.js";import"../symbols/Font.js";import"../symbols/WaterSymbol3DLayer.js";import"../symbols/support/StyleOrigin.js";import"../chunks/Thumbnail.js";import"../chunks/calloutUtils.js";import"../symbols/callouts/Callout3D.js";import"../symbols/callouts/LineCallout3D.js";import"../symbols/support/Symbol3DVerticalOffset.js";import"../symbols/LineSymbol3D.js";import"../symbols/MeshSymbol3D.js";import"../symbols/PictureFillSymbol.js";import"../symbols/FillSymbol.js";import"../symbols/SimpleLineSymbol.js";import"../symbols/LineSymbol.js";import"../symbols/LineSymbolMarker.js";import"../chunks/urlUtils.js";import"../symbols/PictureMarkerSymbol.js";import"../symbols/MarkerSymbol.js";import"../symbols/PointSymbol3D.js";import"../symbols/PolygonSymbol3D.js";import"../symbols/SimpleFillSymbol.js";import"../symbols/TextSymbol.js";import"../symbols/WebStyleSymbol.js";import"../chunks/utils16.js";import"../chunks/networkEnums.js";import"../intl.js";import"../chunks/number2.js";import"../chunks/substitute.js";import"../chunks/messages.js";import"./Search/SearchResultRenderer.js";import"./Search/SearchViewModel.js";import"../chunks/geometryUtils2.js";import"../chunks/scaleUtils.js";import"../chunks/layerViewUtils.js";import"./Search/LayerSearchSource.js";import"./Search/SearchSource.js";import"../chunks/FullTextSearch.js";import"../chunks/geolocationUtils.js";import"../chunks/project.js";import"../chunks/utils10.js";import"../chunks/utils11.js";import"../rest/support/ProjectParameters.js";import"./support/GoTo.js";import"../chunks/goToUtils.js";import"../chunks/suggestLocations.js";import"../rest/support/AddressCandidate.js";import"../chunks/commonProperties3.js";import"../chunks/domUtils.js";import"../chunks/uuid.js";import"../chunks/projector.js";import"../chunks/sanitizerUtils.js";import"../chunks/jsxWidgetSupport.js";import"../chunks/vmEvent.js";import"../chunks/interfaces2.js";import"../rest/networkService.js";import"../rest/support/TravelMode.js";import"../rest/support/RouteParameters.js";import"../rest/support/DataLayer.js";import"../rest/support/FeatureSet.js";import"../layers/support/Field.js";import"../chunks/domains.js";import"../layers/support/CodedValueDomain.js";import"../layers/support/Domain.js";import"../layers/support/InheritedDomain.js";import"../layers/support/RangeDomain.js";import"../chunks/fieldType.js";import"../rest/support/NetworkFeatureSet.js";import"../rest/support/NetworkUrl.js";import"../chunks/timeZoneUtils.js";import"../chunks/quantityUtils.js";import"../chunks/unitFormatUtils.js";import"../chunks/ByteSizeUnit.js";import"../chunks/Cyclical.js";import"../chunks/dateUtils.js";const E="esri-directions",R={base:E,accordion:`${E}__accordion`,actionContainer:`${E}__action-container`,addStopButton:`${E}__add-stop-button`,departureTime:`${E}__departure-time`,departureTimeOptions:`${E}__departure-time-options`,directionsHeader:`${E}__directions-header`,directionsHeaderStopName:`${E}__directions-header-stop-name`,editFooter:`${E}__edit-footer`,editRouteButton:`${E}__edit-route-button`,editToolbar:`${E}__edit-toolbar`,editToolbarContainer:`${E}__edit-toolbar-container`,flexColumn:`${E}__flex-column`,flexRow:`${E}__flex-row`,folder:`${E}__folder`,folderHome:`${E}__folder-home`,headerStops:`${E}__header-stops`,labelEmphasize:`${E}__label-emphasize`,labelNoBottomMargin:`${E}__label-no-bottom-margin`,marginInlineMedium:`${E}__margin-inline-medium`,optimizeSection:`${E}__optimize-section`,optimizeSwitches:`${E}__optimize-switches`,paddingMedium:`${E}__padding-medium`,primaryFlowItem:`${E}__primary-flow-item`,primaryFooter:`${E}__primary-footer`,primaryFooterCentered:`${E}__primary-footer-centered`,primaryFooterLoader:`${E}__primary-footer-loader`,printAvoidPageBreak:`${E}__print--avoid-page-break`,printBody:`${E}__print-body`,printDocument:`${E}__print-document`,printDocumentClose:`${E}__print-document-close`,printDocumentPrint:`${E}__print-document-print`,printHeader:`${E}__print-header`,printHeaderButtons:`${E}__print-header-buttons`,printHeaderLabel:`${E}__print-header-label`,printHideOnPrint:`${E}__print--hide-on-print`,printMedia:`${E}__print-media`,printSection:`${E}__print-section`,routeItem:`${E}__route-item`,routeItemButton:`${E}__route-item-button`,routeItemButtonContent:`${E}__route-item-button-content`,routeItemDescription:`${E}__route-item-description`,routeItemLabel:`${E}__route-item-label`,saveError:`${E}__save-error`,saveErrorIcon:`${E}__save-error-icon`,saveErrorLabel:`${E}__save-error-label`,saveProcessLoader:`${E}__save-process-loader`,selectedFeatureContainer:`${E}__selected-feature-container`,separator:`${E}__separator`,solveRoute:`${E}__solve-route`,stopContainer:`${E}__stop-container`,stopItem:`${E}__stop-item`,stopList:`${E}__stop-list`};let $=class extends(k.EventedMixin(S)){constructor(e){super(e)}get cursor(){return"crosshair"}onInputEvent(e){"click"===e.type&&this._handleClick(e)}_handleClick(e){this.emit("click",e)}};e([m({readOnly:!0})],$.prototype,"cursor",null),e([m({constructOnly:!0})],$.prototype,"stop",void 0),$=e([h("esri.widgets.Directions.DirectionsSearchTool")],$);let A=class extends M{constructor(){super(...arguments),this.editRouteButton=!0,this.layerDetails=!0,this.printButton=!0,this.saveAsButton=!0,this.saveButton=!0}};e([m({type:Boolean,nonNullable:!0})],A.prototype,"editRouteButton",void 0),e([m({type:Boolean,nonNullable:!0})],A.prototype,"layerDetails",void 0),e([m({type:Boolean,nonNullable:!0})],A.prototype,"printButton",void 0),e([m({type:Boolean,nonNullable:!0})],A.prototype,"saveAsButton",void 0),e([m({type:Boolean,nonNullable:!0})],A.prototype,"saveButton",void 0),A=e([h("esri.widgets.Directions.DirectionsVisibleElements")],A);const B=A;function U(e){const{branchName:s,displayText:i,exitName:o,intersectingName:r,name:n,towardName:a}=e;if(null==i)return null;const l=[s,o,r,n,a].filter(t).sort(((e,t)=>t.length-e.length)).map((e=>d(e)));if(!l.length)return i;const c=new RegExp(l.join("|"),"g"),p=i.matchAll(c);let m=0;const h=[];for(const{0:e,index:t}of p)h.push(i.slice(m,t),L("span",{class:R.labelEmphasize,key:`maneuver-${t}`},e)),m=t+e.length;return h.push(i.slice(m)),L("span",null,h)}let O=class extends b{constructor(e,t){super(e,t),this._activeManeuver=null,this._placeholderStops=new s([new _,new _]),this._portalFolderCombobox=null,this._portalFolders=null,this._portalItemNameInput=null,this._portalUserName=null,this._printDocument=null,this._printDocumentParent=null,this._sections=null,this._stopsToSearches=new Map,this._printDocumentOpen=!1,this._currentFlowItem="primary",this._parentFlowItem="primary",this._saveState="initialized",this._searchTool=null,this.headingLevel=2,this.messages=null,this.messagesUnits=null,this.searchProperties=null,this.viewModel=new w,this.visibleElements=new B,this._solveRouteDebounced=n((()=>this._solveRoute()))}initialize(){this.addHandles([l((()=>this.viewModel.layer),(()=>{try{this.viewModel.load()}catch{}}),c),l((()=>this.viewModel.layer?.routeInfo),(()=>{this._sections=this._getStopSections()}),c),l((()=>this.viewModel.layer?.stops.toArray()),(e=>{e&&this.view?.activeTool&&this._searchTool&&this.view.activeTool===this._searchTool&&!e.includes(this._searchTool.stop)&&(this.view.tools.remove(this._searchTool),this._searchTool=null)})),i(window,"beforeprint",this._beforePrint.bind(this)),i(window,"afterprint",this._afterPrint.bind(this))])}loadDependencies(){return F({accordion:()=>import("../chunks/index56.js"),"accordion-item":()=>import("../chunks/index57.js"),action:()=>import("../chunks/index5.js"),"action-menu":()=>import("../chunks/index17.js").then((e=>e.i)),"block-section":()=>import("../chunks/index58.js"),button:()=>import("../chunks/index6.js"),combobox:()=>import("../chunks/index30.js"),"combobox-item":()=>import("../chunks/index31.js"),flow:()=>import("../chunks/index32.js"),"flow-item":()=>import("../chunks/index33.js"),icon:()=>import("../chunks/index.js"),input:()=>import("../chunks/index10.js"),"input-date-picker":()=>import("../chunks/index13.js"),"input-time-picker":()=>import("../chunks/index14.js"),label:()=>import("../chunks/index2.js"),list:()=>import("../chunks/index19.js"),"list-item":()=>import("../chunks/index18.js"),loader:()=>import("../chunks/index28.js"),notice:()=>import("../chunks/index20.js"),panel:()=>import("../chunks/index25.js").then((e=>e.i)),switch:()=>import("../chunks/index3.js")})}destroy(){this._stopsToSearches.forEach(r)}get apiKey(){return this.viewModel.apiKey}set apiKey(e){this.viewModel.apiKey=e}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(e){this.viewModel.goToOverride=e}get icon(){return"right"}set icon(e){this._overrideIfSome("icon",e)}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}get lastRoute(){return this.viewModel.lastRoute}get layer(){return this.viewModel.layer}set layer(e){this.viewModel.layer=e}get maxStops(){return this.viewModel.maxStops}set maxStops(e){this.viewModel.maxStops=e}get unit(){return this.defaultUnit}set unit(e){this._overrideIfSome("unit",e)}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}acquireSearch(e){const{view:t}=this.viewModel;if(this._stopsToSearches.has(e)){const s=this._stopsToSearches.get(e);return s.view=t,this._overrideDefaultSources(s),s}const s=new g({icon:!1,popupEnabled:!1,resultGraphicEnabled:!1,view:t,...this.searchProperties});return this._normalizeSearchSources(s),this.addHandles([p((()=>s.allSources),"change",(()=>this._normalizeSearchSources(s))),s.on("search-clear",(()=>{e.geometry=null,e.name=null,this.viewModel.layer?.removeResult()})),s.on("select-result",(()=>{const t=s.selectedResult;e.geometry=t?.feature.geometry,e.name=t?.name,this._solveRouteDebounced()})),l((()=>s.searchTerm),(t=>{e.name=t}))],s),this._stopsToSearches.set(e,s),s}getDirections(){return this.viewModel.getDirections()}render(){return L("div",{class:this.classes(R.base,x.widget,x.panel)},L("calcite-flow",null,this._renderPrimaryFlowItem(),this._renderDirectionsFlowItem(),this._renderEditFlowItem(),this._renderSaveFlowItem()),this._renderPrintDocument())}save(){return this.viewModel.save()}saveAs(e,t={}){return this.viewModel.saveAs(e,t)}zoomToRoute(){return this.viewModel.zoomToRoute()}_afterPrint(){this._printDocumentOpen&&this._printDocument&&this._printDocumentParent?.appendChild(this._printDocument)}_applyLocatorSourceOverrides({allSources:e}){for(const t of e)"url"in t&&t.url&&(t.locationType??="street",I(t.url)&&this.apiKey&&null==t.apiKey&&(t.apiKey=this.apiKey,t.url=T))}_beforePrint(){this._printDocumentOpen&&this._printDocument&&document.body.appendChild(this._printDocument)}_disposeSearch(e){if(!e||!this._stopsToSearches.has(e))return;const t=this._stopsToSearches.get(e);this.removeHandles(t),t.destroy(),this._stopsToSearches.delete(e)}_getEffectiveStops(){return this.viewModel.layer?.stops??this._placeholderStops}_getErrorDescription(){switch(this.viewModel.lastError?.name){case"directions-view-model:unable-to-route":return this.messages.errors.unableToRoute;case"directions-view-model:service-metadata-unavailable":return this.messages.errors.unableToLoadServiceMetadata;default:return this.messages.errors.unknownError}}_getNetworkFeatureName(e){switch(e.type){case"stop":switch(e.locationType){case"stop":default:return this.messages.networkFeatures.stops.stop;case"waypoint":return this.messages.networkFeatures.stops.waypoint;case"break":return this.messages.networkFeatures.stops.break}case"point-barrier":return this.messages.networkFeatures.pointBarrier;case"polyline-barrier":return this.messages.networkFeatures.polylineBarrier;case"polygon-barrier":return this.messages.networkFeatures.polygonBarrier}}_getRouteCostSummary(){const e=this.viewModel.layer?.routeInfo;if(!e)return null;const t=e.totalDistance??0,s=e.totalDuration??0,{messagesUnits:i,unit:o}=this;return{distance:j(i,t,o),duration:f(s)}}_getStopCostDescription(e){if(!e.directions.length)return;const{totalDistance:t,totalDuration:s}=e.directions.reduce(((e,{lines:t})=>{for(const{distance:s,duration:i}of t)e.totalDistance+=s??0,e.totalDuration+=i??0;return e}),{totalDistance:0,totalDuration:0}),{messagesUnits:i,unit:o}=this,r=j(i,t,o);return`${f(s)} (${r})`}_getStopSections(){if(!this.viewModel.layer)return null;const{directionPoints:e,directionLines:t,stops:s}=this.viewModel.layer;if(!e||!t)return null;const i=[];let o=null;for(const r of e){const{objectId:e,stopId:n}=r;if(null!=n){const e=s.find((({objectId:e})=>e===n));o&&o.stop===e||(o={stop:e,directions:[]},i.push(o));continue}if(null==o)continue;const a=t.toArray().filter((({directionPointId:t})=>t===e));0!==a.length&&o.directions.push({directionPoint:r,lines:a})}return i}_handleAddStopClick(){const e=new y;this.viewModel.layer?.stops.add(new _({symbol:e}))}_handleAutoSolveChange({target:e}){this.viewModel.autoSolve=e.checked}_handleCreatePolylineBarrierClick(){this.viewModel.create("polyline-barrier")}_handleClearRouteClick(){this._currentFlowItem="primary",this.viewModel.reset()}_handleCreateStopClick(){this.viewModel.create("stop")}_handleDeleteNetworkFeatureClick(e){this.viewModel.remove(e),this.viewModel.autoSolve&&this._solveRouteDebounced()}_handleDeleteStopClick(e){this._getEffectiveStops().remove(e),this._disposeSearch(e),this._solveRouteDebounced()}_handleDepartureDateChange({currentTarget:{value:e}}){Array.isArray(e)||(this.viewModel.departureIsoDate=e,this._solveRouteDebounced())}_handleDepartureTimeChange({currentTarget:{value:e}}){this.viewModel.departureIsoTime=e,this._solveRouteDebounced()}_handleDepartureTimeOptionChange({currentTarget:e}){const{selectedItems:t}=e;t.length&&(this.viewModel.departureOption=t[0].value,this._solveRouteDebounced())}_handleDirectionsFlowItemBackClick(e){e.stopPropagation(),this._currentFlowItem="primary"}_handleDirectionTurnItemSelect(e){this._activeManeuver===e?this.zoomToRoute():(this._activeManeuver=e,this.viewModel.centerAt(e.geometry))}_handleDirectionTurnPointerEnter(e){this.viewModel.highlight(e)}_handleDirectionTurnPointerLeave(){this.viewModel.clearHighlights()}_handleEditFlowItemBackClick(e){e.stopPropagation(),this.viewModel.stopEditing(),this._currentFlowItem="primary"}_handleEditingDoneClick(){this.viewModel.stopEditing(),this._currentFlowItem="primary"}_handleEditRouteClick(){this._currentFlowItem="edit",this.viewModel.startEditing()}_handleItemDetailsClick(){const e=this.viewModel.layer?.portalItem;e&&window.open(`${e.portal.url}/home/item.html?id=${e.id}`,"_blank")}_handleLocateStopClick(e){const{view:t}=this;if(!t)return;const s="directions-search-tool";this.removeHandles(s),this._searchTool=new $({stop:e,view:t}),this.addHandles([this._searchTool.on("click",(async t=>{if(t.mapPoint&&this._stopsToSearches.has(e)){const s=this._stopsToSearches.get(e),i=await s.search(t.mapPoint),o=i?.results?.[0].results?.[0];if(o){const{feature:t,name:i}=o;s.searchTerm=i,e.geometry=t.geometry}}this.removeHandles(s)})),o((()=>{this._searchTool&&(this.view?.tools.remove(this._searchTool),this._searchTool=null)}))],s),t.addAndActivateTool(this._searchTool)}_handleOptimizeStopOrderToggle({target:{expanded:e}}){this.viewModel.routeParameters.findBestSequence=e,this._solveRouteDebounced()}_handlePanToStopClick(e){this.viewModel.centerAt(e)}_handlePreserveFirstStopChange({target:{checked:e}}){this.viewModel.routeParameters.preserveFirstStop=e,this._solveRouteDebounced()}_handlePreserveLastStopChange({target:{checked:e}}){this.viewModel.routeParameters.preserveLastStop=e,this._solveRouteDebounced()}_handlePrintDocumentAfterCreate(e){e.focus(),this._printDocument=e,this._printDocumentParent=e.parentElement}_handlePrintDocumentClick(){this._printDocumentOpen=!0}_handlePrintDocumentCloseClick(){this._printDocumentOpen=!1}_handlePrintDocumentKeyDown(e){"Escape"===e.key&&(this._printDocumentOpen=!1)}_handlePrintDocumentPrintClick(){document.body.classList.add(R.printMedia),window.print(),document.body.classList.remove(R.printMedia)}_handleResolveRouteClick(){this._solveRouteDebounced()}_handleReverseStopOrderClick(){this._getEffectiveStops().reverse(),this._solveRouteDebounced()}_handleSaveErrorCloseClick(){this._currentFlowItem=this._parentFlowItem}_handleSaveFlowItemBackClick(e){e.stopPropagation(),this._currentFlowItem=this._parentFlowItem}async _handleSaveLayerAs(){const e=u.getDefault();try{await e.signIn()}catch(e){if(a(e)||"identity-manager:user-aborted"===e.name)return;return this._parentFlowItem=this._currentFlowItem,this._currentFlowItem="save",void(this._saveState="connect-to-portal-error")}this._saveState="fetch-portal-information",this._parentFlowItem=this._currentFlowItem,this._currentFlowItem="save",this._portalUserName=e.user?.username;try{this._portalFolders=await(e.user?.fetchFolders())}catch{return void(this._saveState="fetch-portal-information-error")}this._saveState="save-layer"}_handleSaveLayerClick(){this.viewModel.layer?.save()}_handleSaveLayerButtonClick(){this._saveState="saving";const{layer:e}=this;if(!e||!this._portalFolders)return;const t=this._portalItemNameInput?.value,s=this._portalFolderCombobox?.value,i=this._portalFolders.find((({id:e})=>e===s));e.saveAs({title:t},{folder:i}).then((()=>{e.title=t,this._currentFlowItem=this._parentFlowItem})).catch((()=>{this._saveState="saving-error"}))}_handleSaveLayerCancelClick(){this._currentFlowItem=this._parentFlowItem}_handleSaveLayerFolderCreate(e){this._portalFolderCombobox=e}_handleSaveLayerNameCreate(e){this._portalItemNameInput=e}_handleSignInClick(){this.viewModel.load().catch((()=>{}))}_handleStopListReorder({detail:{dragEl:e,newIndex:t}}){this._getEffectiveStops().reorder(e.value,t),this._solveRouteDebounced()}_handleTravelModeChange({currentTarget:{selectedItems:e}}){e.length&&(this.viewModel.selectedTravelMode=e[0].value,this._solveRouteDebounced())}_handleViewDrivingDirectionsClick(){this._currentFlowItem="directions"}_normalizeSearchSources(e){this._overrideDefaultSources(e),this._applyLocatorSourceOverrides(e)}_overrideDefaultSources(e){for(const t of e.viewModel.defaultSources)t.autoNavigate=!1}_renderClearRouteAction(e){return L("calcite-action",{bind:this,icon:"trash",key:"clear-route",onclick:this._handleClearRouteClick,...e,text:this.messages.common.clear,textEnabled:!0})}_renderDeleteStopAction(e){return L("calcite-action",{icon:"trash",onclick:this._handleDeleteStopClick.bind(this,e),scale:"s",slot:"actions-end",text:this.messages.deleteStop,title:this.messages.deleteStop})}_renderDepartureTime(){const{DEPART_AT:e,NOW:t,UNSPECIFIED:s}=D;return L("calcite-label",{class:R.departureTime,key:"departure-time"},this.messages.departureTime,L("calcite-combobox",{bind:this,clearDisabled:!0,label:this.messages.departureTime,overlayPositioning:"fixed",selectionMode:"single-persist",onCalciteComboboxChange:this._handleDepartureTimeOptionChange},L("calcite-combobox-item",{heading:this.messages.leaveNow,key:t,label:this.messages.leaveNow,selected:this.viewModel.departureOption===t,value:t}),L("calcite-combobox-item",{heading:this.messages.departAt,key:e,label:this.messages.departAt,selected:this.viewModel.departureOption===e,value:e}),L("calcite-combobox-item",{heading:this.messages.timeUnspecified,key:s,label:this.messages.timeUnspecified,selected:this.viewModel.departureOption===s,value:s})))}_renderDepartureTimeOptions(){return this.viewModel.departureOption!==D.DEPART_AT?null:L("div",{class:R.departureTimeOptions},L("calcite-input-date-picker",{bind:this,scale:"s",value:this.viewModel.departureIsoDate,onCalciteInputDatePickerChange:this._handleDepartureDateChange}),L("calcite-input-time-picker",{bind:this,scale:"s",value:this.viewModel.departureIsoTime,onCalciteInputTimePickerClose:this._handleDepartureTimeChange}))}_renderDirectionsFlowItem(){if("directions"!==this._currentFlowItem)return null;const e=this._getRouteCostSummary();if(!this._sections||!e)return null;const{distance:t,duration:s}=e,{formattedEta:i}=this.viewModel,o=this._sections.at(0)?.stop.name??"",r=this._sections.at(-1)?.stop.name??"";return L("calcite-flow-item",{bind:this,key:"directions-flow-item",overlayPositioning:"fixed",selected:"directions"===this._currentFlowItem,onCalciteFlowItemBack:this._handleDirectionsFlowItemBackClick},L("div",{class:R.directionsHeader,slot:"header-content"},L("div",{class:R.headerStops},L("span",null,this.messages.from)," ",L("span",{class:R.directionsHeaderStopName},o),L("span",null,this.messages.to)," ",L("span",{class:R.directionsHeaderStopName},r)),L("div",{class:R.flexColumn},L("span",null,`${s} (${t})`),i?L("span",null,i):null)),this._renderRouteLayerActions({slot:"header-menu-actions"}),L("calcite-accordion",{class:R.accordion,iconPosition:"start",selectionMode:"single"},this._sections.map(((e,t)=>this._renderDirectionSection(e,t)))))}_renderDirectionSection(e,t){const{stop:s,directions:i}=e,{name:o}=s,r=0===t,n=this._getStopCostDescription(e);return L("calcite-accordion-item",{description:n,expanded:r,heading:o??"",key:`stop-${t}`},L("calcite-action",{icon:"zoom-to-object",onclick:this._handlePanToStopClick.bind(this,s),slot:"actions-end",text:this.messages.panToStop,title:this.messages.panToStop}),this._renderDirectionTurns(i))}_renderDirectionTurns(e){return L("calcite-list",{label:this.messages.drivingDirections,selectionMode:"none"},e.map(((e,t)=>{const{directionPoint:s,lines:i}=e,o=i[0],{distance:r,duration:n}=o,a=j(this.messagesUnits,r??0,this.unit),l=f(n??0),c=a&&l?`${a} | ${l}`:`${a||l}`,p=U(s),d=C(s.directionPointType);return L("calcite-list-item",{class:R.labelNoBottomMargin,key:`driving-direction-${t}`,onpointerenter:this._handleDirectionTurnPointerEnter.bind(this,o),onpointerleave:this._handleDirectionTurnPointerLeave.bind(this),onCalciteListItemSelect:this._handleDirectionTurnItemSelect.bind(this,o)},L("calcite-icon",{icon:d,slot:"content-start"}),L("div",{slot:"content"},L("calcite-label",{layout:"inline",scale:"s"},p),L("calcite-label",{layout:"inline",scale:"s"},c)))})))}_renderEditFlowItem(){return"edit"!==this._currentFlowItem?null:L("calcite-flow-item",{bind:this,heading:this.messages.editRoute,headingLevel:this.headingLevel,key:"edit-flow-item",loading:"routing"===this.viewModel.state,selected:"edit"===this._currentFlowItem,onCalciteFlowItemBack:this._handleEditFlowItemBackClick},L("div",{class:R.flexColumn,key:"edit-container"},L("div",{class:R.editToolbarContainer},L("calcite-label",{layout:"inline",scale:"s"},this.messages.automaticallySolve,L("calcite-switch",{bind:this,checked:this.viewModel.autoSolve,scale:"s",onCalciteSwitchChange:this._handleAutoSolveChange})),L("div",{class:R.editToolbar},L("calcite-action",{bind:this,disabled:!this.viewModel.layer||this.viewModel.layer.stops.length>=this.maxStops,icon:"flag",onclick:this._handleCreateStopClick,scale:"s",text:this.messages.networkFeatures.stops.stop,textEnabled:!0}),L("calcite-action",{bind:this,icon:"line",onclick:this._handleCreatePolylineBarrierClick,scale:"s",text:this.messages.barrier,textEnabled:!0}),L("calcite-action",{bind:this,class:R.solveRoute,disabled:this.viewModel.autoSolve,icon:"refresh",onclick:this._handleResolveRouteClick,scale:"s",text:this.messages.solve,textEnabled:!0}))),L("div",{class:R.selectedFeatureContainer},L("calcite-list",{label:this.messages.selectedNetworkFeatures,scale:"s",selectionMode:"none"},this.viewModel.selectedNetworkFeatures?.toArray().map(((e,t)=>L("calcite-list-item",{description:this._getNetworkFeatureName(e),key:`network-feature-${t}`,label:e.name??e.objectId?.toString()??this.messages.unnamed},L("calcite-action",{icon:"trash",onclick:this._handleDeleteNetworkFeatureClick.bind(this,e),scale:"s",slot:"actions-end",text:this.messages.common.delete})))))),L("div",{class:R.editFooter},this._renderEditFooterContent())))}_renderEditFooterContent(){return this.viewModel.lastError?this._renderErrorNotice():L("calcite-button",{appearance:"outline-fill",bind:this,onclick:this._handleEditingDoneClick,width:"full"},this.messages.common.done)}_renderErrorNotice(){return L("calcite-notice",{icon:"exclamation-mark-circle",kind:"danger",open:!0},L("calcite-label",{class:R.labelNoBottomMargin,slot:"message"},this._getErrorDescription()))}_renderFooter(){if(!this.viewModel.layer)return L("div",{class:R.primaryFooter,key:"footer-missing-layer"},L("calcite-notice",{icon:"information",open:!0},L("calcite-label",{class:R.labelNoBottomMargin,slot:"message"},this.messages.missingLayer)));if("unauthenticated"===this.viewModel.state)return L("div",{class:R.primaryFooterCentered,key:"footer-sign-in"},L("calcite-label",null,this.messages.signInRequired),L("calcite-button",{bind:this,onclick:this._handleSignInClick},this.messages.common.auth.signIn));if("routing"===this.viewModel.state)return L("div",{class:this.classes(R.primaryFooter,R.primaryFooterLoader),key:"footer-routing"},L("calcite-loader",{label:this.messages.solve,scale:"s"}));if("error"===this.viewModel.state)return L("div",{class:R.primaryFooter,key:"footer-service-error"},this._renderErrorNotice());if(!this.viewModel.layer?.routeInfo)return L("div",{class:R.primaryFooter,key:"footer-unsolved-route"},L("calcite-notice",{icon:"information",open:!0},L("calcite-label",{class:R.labelNoBottomMargin,slot:"message"},this.messages.directionsPlaceholder)));const e=this._getRouteCostSummary();if(!e||!this.viewModel.layer?.directionPoints)return L("div",{class:R.primaryFooter,key:"footer-invalid-route"},L("calcite-notice",{icon:"exclamation-mark-triangle",kind:"danger",open:!0},L("calcite-label",{class:R.labelNoBottomMargin,slot:"message"},this.messages.invalidRoute)));const{distance:t,duration:s}=e,{formattedEta:i}=this.viewModel;return L("div",{class:R.routeItem,key:"footer-directions-summary"},L("button",{"aria-busy":"false","aria-label":this.messages.viewDrivingDirections,"aria-live":"polite",bind:this,class:R.routeItemButton,onclick:this._handleViewDrivingDirectionsClick,title:this.messages.viewDrivingDirections,type:"button"},L("div",{class:R.routeItemButtonContent},L("span",{class:R.routeItemLabel},`${s} (${t})`),L("span",{class:R.routeItemDescription},i)),L("calcite-icon",{flipRtl:!0,icon:"chevron-right",scale:"s"})),L("calcite-action-menu",{label:"test"},L("calcite-action",{icon:"ellipsis",key:"route-actions",slot:"trigger",text:"Route actions"}),this._renderRouteLayerActions()))}_renderInteractiveRouteActions(){return L("div",{class:R.actionContainer,key:R.actionContainer},L("calcite-button",{appearance:"outline",bind:this,class:R.addStopButton,disabled:this._getEffectiveStops().length>=this.maxStops,iconStart:"plus",kind:"neutral",label:this.messages.addStop,onclick:this._handleAddStopClick,title:this.messages.addStop,width:"half"},this.messages.addStop),this.visibleElements.editRouteButton?L("calcite-button",{appearance:"outline",bind:this,class:R.editRouteButton,disabled:"2d"!==this.viewModel.view?.type,iconStart:"pencil",kind:"neutral",label:this.messages.editRoute,onclick:this._handleEditRouteClick,title:this.messages.editRoute,width:"half"},this.messages.editRoute):null)}_renderLocateStopAction(e){if(null!=e.name||null!=e.geometry)return null;const t=this._getEffectiveStops().indexOf(e),s=!!this.view?.activeTool&&this.view.activeTool===this._searchTool&&this._searchTool.stop===e;return L("calcite-action",{active:s,icon:"crosshair",key:`stop-location-action-${t}`,onclick:this._handleLocateStopClick.bind(this,e),scale:"s",slot:"actions-end",text:this.messages.pickALocationOnTheMap,title:this.messages.pickALocationOnTheMap})}_renderOptimizeStopOrder(){const{routeParameters:e}=this.viewModel,{findBestSequence:t,preserveFirstStop:s,preserveLastStop:i}=e;return L("calcite-block-section",{bind:this,class:R.optimizeSection,text:this.messages.optimizeOrder,toggleDisplay:"switch",onCalciteBlockSectionToggle:this._handleOptimizeStopOrderToggle},t?[L("calcite-label",{class:R.optimizeSwitches,key:"preserve-first-stop",layout:"inline-space-between"},this.messages.preserveFirstStop,L("calcite-switch",{bind:this,checked:s,scale:"s",onCalciteSwitchChange:this._handlePreserveFirstStopChange})),L("calcite-label",{class:R.optimizeSwitches,key:"preserve-last-stop",layout:"inline-space-between"},this.messages.preserveLastStop,L("calcite-switch",{bind:this,checked:i,scale:"s",onCalciteSwitchChange:this._handlePreserveLastStopChange}))]:null)}_renderPrimaryFlowItem(){return L("calcite-flow-item",{key:"primary-flow-item",loading:"initializing"===this.viewModel.state,selected:"primary"===this._currentFlowItem},L("calcite-panel",{class:R.primaryFlowItem,disabled:!this.viewModel.layer||"unauthenticated"===this.viewModel.state||"error"===this.viewModel.state&&!this.viewModel.serviceDescription},this._renderStops(),this._renderInteractiveRouteActions(),this._renderSeparator(),this._renderRouteSolveOptions()),this._renderFooter())}_renderPrintDocument(){if(!this._printDocumentOpen)return null;const e=this._getRouteCostSummary();if(!this._sections||!e)return null;const{distance:t,duration:s}=e,{formattedEta:i}=this.viewModel,o=this._sections.at(0)?.stop.name??"",r=this._sections.at(-1)?.stop.name??"";return L("div",{afterCreate:this._handlePrintDocumentAfterCreate,bind:this,class:R.printDocument,onkeydown:this._handlePrintDocumentKeyDown,tabindex:0},L("div",{class:R.printBody},L("div",{class:R.printHeader},L("div",{class:R.printHeaderLabel},L("div",{class:R.headerStops},L("span",null,this.messages.from)," ",L("span",{class:R.directionsHeaderStopName},o),L("span",null,this.messages.to)," ",L("span",{class:R.directionsHeaderStopName},r))),L("div",{class:this.classes(R.printHeaderButtons,R.printHideOnPrint)},L("calcite-button",{class:R.printDocumentPrint,iconStart:"print",onclick:this._handlePrintDocumentPrintClick},this.messages.common.print),L("calcite-button",{appearance:"outline",bind:this,class:R.printDocumentClose,iconStart:"x-circle",onclick:this._handlePrintDocumentCloseClick},this.messages.common.close))),L("div",{class:R.directionsHeader},L("span",null,`${s} (${t})`),i?L("span",null,i):null),this._sections.map(((e,t)=>this._renderPrintSection(e,t)))))}_renderPrintManuever(e,t){const{directionPoint:s,lines:i}=e,{distance:o,duration:r}=i.at(0)??{},n=j(this.messagesUnits,o??0,this.unit),a=f(r??0),l=n&&a?`${n} | ${a}`:`${n||a}`,c=U(s),p=C(s.directionPointType);return L("div",{class:this.classes(R.flexRow,R.printAvoidPageBreak),key:`direction-${t}`},L("calcite-icon",{icon:p}),L("div",{class:R.flexColumn},L("span",null,c),L("span",null,l)))}_renderPrintRouteAction(e){if(!this.visibleElements.printButton)return null;const t=!this.viewModel.layer?.routeInfo;return L("calcite-action",{bind:this,disabled:t,icon:"print",key:"print-route",onclick:this._handlePrintDocumentClick,...e,text:this.messages.common.print,textEnabled:!0})}_renderPrintSection({stop:e,directions:t},s){return L("div",{class:R.printSection,key:`section-${s}`},L("span",{class:R.directionsHeaderStopName},e.name??""),t.map(((e,t)=>this._renderPrintManuever(e,t))))}_renderRouteLayerActions(e){return[this._renderClearRouteAction(e),this._renderSaveLayerAction(e),this._renderSaveLayerAsAction(e),this._renderPrintRouteAction(e),this._renderViewItemDetailsAction(e)]}_renderRouteSolveOptions(){return L("div",{class:R.marginInlineMedium,key:"route-solve-options"},this._renderTravelModes(),this._renderDepartureTime(),this._renderDepartureTimeOptions(),this._renderOptimizeStopOrder())}_renderSaveContent(){switch(this._saveState){case"initialized":return this._renderSaveInitialized();case"connect-to-portal":return this._renderSaveProcessing(this.messages.identity.lblSigning);case"connect-to-portal-error":return this._renderSaveError(this.messages.errors.authenticating);case"fetch-portal-information":return this._renderSaveProcessing(this.messages.processing.fetching);case"fetch-portal-information-error":return this._renderSaveError(this.messages.errors.fetching);case"save-layer":return this._renderSaveLayerSettings();case"saving":return this._renderSaveProcessing(this.messages.processing.saving);case"saving-error":return this._renderSaveError(this.messages.errors.saving)}}_renderSaveError(e){return L("calcite-panel",{class:R.paddingMedium,key:"save-layer-error"},L("div",{class:R.saveError},L("calcite-icon",{class:R.saveErrorIcon,icon:"exclamation-mark-triangle",scale:"l",textLabel:this.messages.common.errorMessage}),L("calcite-label",{class:R.saveErrorLabel},e)),L("calcite-button",{appearance:"outline",bind:this,onclick:this._handleSaveErrorCloseClick,slot:"footer-actions",width:"full"},this.messages.common.close))}_renderSaveInitialized(){return L("calcite-panel",{class:R.paddingMedium,key:"save-layer-initialized"})}_renderSaveFlowItem(){return"save"!==this._currentFlowItem?null:L("calcite-flow-item",{bind:this,heading:this.messages.saveLayer,headingLevel:this.headingLevel,key:"save-layer-flow-item",selected:"save"===this._currentFlowItem,onCalciteFlowItemBack:this._handleSaveFlowItemBackClick},this._renderSaveContent())}_renderSaveLayerAction(e){if(!this.visibleElements.saveButton)return null;const t=this.viewModel.layer,s=t?.routeInfo,i=t?.portalItem?.itemControl;return L("calcite-action",{bind:this,disabled:!(s&&("admin"===i||"update"===i)),icon:"save",key:"save-route",onclick:this._handleSaveLayerClick,...e,text:this.messages.common.save,textEnabled:!0})}_renderSaveLayerAsAction(e){if(!this.visibleElements.saveAsButton)return null;const t=!this.viewModel.layer?.routeInfo;return L("calcite-action",{disabled:t,icon:"save-as",key:"save-as-route",onclick:()=>{this._handleSaveLayerAs()},...e,text:this.messages.common.saveAs,textEnabled:!0})}_renderSaveLayerSettings(){if(null==this.layer||null==this._portalFolders||null==this._portalUserName)return this._renderSaveInitialized();const{stops:e}=this.layer,t=`${e.at(0).name} - ${e.at(-1).name}`,s=[L("calcite-combobox-item",{heading:`${this._portalUserName} (${this.messages.common.home})`,key:R.folderHome,selected:!0,value:R.folderHome}),...this._portalFolders.map((e=>L("calcite-combobox-item",{heading:e.title??"",key:`${R.folder}-${e.id}`,value:e.id})))];return L("calcite-panel",{key:"save-layer-panel"},L("div",{class:R.paddingMedium},L("calcite-label",null,this.messages.layerName,L("calcite-input",{afterCreate:this._handleSaveLayerNameCreate,bind:this,label:this.messages.layerName,value:t})),L("calcite-label",null,this.messages.saveInFolder,L("calcite-combobox",{afterCreate:this._handleSaveLayerFolderCreate,bind:this,clearDisabled:!0,label:this.messages.saveInFolder,overlayPositioning:"fixed",selectionMode:"single-persist"},s))),L("calcite-button",{bind:this,onclick:this._handleSaveLayerButtonClick,slot:"footer-actions",width:"full"},this.messages.common.save),L("calcite-button",{appearance:"outline",bind:this,onclick:this._handleSaveLayerCancelClick,slot:"footer-actions",width:"full"},this.messages.common.cancel))}_renderSaveProcessing(e){return L("calcite-panel",{class:R.marginInlineMedium,key:"save-layer-processing"},L("calcite-loader",{class:R.saveProcessLoader,label:e,text:e}))}_renderSeparator(){return L("div",{class:R.separator})}_renderStop(e){const t=this.acquireSearch(e);null!=e.name&&(t.searchTerm=e.name);const s=this._getEffectiveStops(),i=this._renderLocateStopAction(e),o=s.length>2&&this._renderDeleteStopAction(e);return L("calcite-list-item",{key:e,value:e},i,o,L("div",{class:R.stopItem,slot:"content"},t.render()))}_renderStops(){const e=this._getEffectiveStops();for(const t of this._stopsToSearches.keys())e.includes(t)||this._disposeSearch(t);return L("div",{class:R.stopContainer,key:R.stopContainer},L("calcite-list",{bind:this,class:R.stopList,dragEnabled:!0,label:this.messages.widgetLabel,scale:"s",onCalciteListOrderChange:this._handleStopListReorder},e.toArray().map((e=>this._renderStop(e)))),2===e.length&&L("calcite-action",{bind:this,icon:"arrow-up-down",onclick:this._handleReverseStopOrderClick,scale:"s",text:this.messages.reverseStops,title:this.messages.reverseStops}))}_renderTravelMode(e){const{id:t,name:s}=e;return L("calcite-combobox-item",{heading:s,key:t,label:s,selected:this.viewModel.selectedTravelMode?.id===t,value:e})}_renderTravelModes(){return this.viewModel.travelModes.length?L("calcite-label",{key:"travel-modes"},this.messages.mode,L("calcite-combobox",{bind:this,clearDisabled:!0,label:this.messages.mode,overlayPositioning:"fixed",selectionMode:"single-persist",onCalciteComboboxChange:this._handleTravelModeChange},this.viewModel.travelModes.map((e=>this._renderTravelMode(e))))):null}_renderViewItemDetailsAction(e){return this.visibleElements.layerDetails?L("calcite-action",{bind:this,disabled:!this.viewModel.layer?.portalItem,icon:"launch",key:"open-route-details-link",onclick:this._handleItemDetailsClick,...e,text:this.messages.viewLayerDetails,textEnabled:!0}):null}async _solveRoute(){if(this.viewModel.updateDepartureTime(),!((this.viewModel.layer?.stops.filter((({geometry:e})=>!!e)).length??0)<2))try{await this.viewModel.getDirections()}catch{}}};e([m()],O.prototype,"_printDocumentOpen",void 0),e([m()],O.prototype,"_currentFlowItem",void 0),e([m()],O.prototype,"_saveState",void 0),e([m()],O.prototype,"_searchTool",void 0),e([m()],O.prototype,"apiKey",null),e([m(v)],O.prototype,"defaultUnit",void 0),e([m()],O.prototype,"goToOverride",null),e([m()],O.prototype,"headingLevel",void 0),e([m()],O.prototype,"icon",null),e([m()],O.prototype,"label",null),e([m({readOnly:!0})],O.prototype,"lastRoute",null),e([m()],O.prototype,"layer",null),e([m()],O.prototype,"maxStops",null),e([m(),P("esri/widgets/Directions/t9n/Directions")],O.prototype,"messages",void 0),e([m(),P("esri/core/t9n/Units")],O.prototype,"messagesUnits",void 0),e([m()],O.prototype,"searchProperties",void 0),e([m()],O.prototype,"unit",null),e([m()],O.prototype,"view",null),e([m({type:w})],O.prototype,"viewModel",void 0),e([m({type:B,nonNullable:!0})],O.prototype,"visibleElements",void 0),O=e([h("esri.widgets.Directions")],O);const N=O;export{N as default};
