// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.33/esri/copyright.txt for details.
//>>built
define(["exports","./componentsUtils","./directive-helpers"],(function(e,t,s){"use strict";const r=(e,t,s)=>{const r=new Map;for(let n=t;n<=s;n++)r.set(e[n],n);return r},n=t.e(class extends t.i$1{constructor(e){if(super(e),e.type!==t.t.CHILD)throw Error("repeat() can only be used in text expressions")}dt(e,t,s){let r;void 0===s?s=t:void 0!==t&&(r=t);const n=[],l=[];let i=0;for(const t of e)n[i]=r?r(t,i):i,l[i]=s(t,i),i++;return{values:l,keys:n}}render(e,t,s){return this.dt(e,t,s).values}update(e,[n,l,i]){const o=s.p(e),{values:u,keys:c}=this.dt(n,l,i);if(!Array.isArray(o))return this.ut=c,u;const f=this.ut??=[],v=[];let d,a,h=0,p=o.length-1,y=0,x=u.length-1;for(;h<=p&&y<=x;)if(null===o[h])h++;else if(null===o[p])p--;else if(f[h]===c[y])v[y]=s.v(o[h],u[y]),h++,y++;else if(f[p]===c[x])v[x]=s.v(o[p],u[x]),p--,x--;else if(f[h]===c[x])v[x]=s.v(o[h],u[x]),s.r(e,v[x+1],o[h]),h++,x--;else if(f[p]===c[y])v[y]=s.v(o[p],u[y]),s.r(e,o[h],o[p]),p--,y++;else if(void 0===d&&(d=r(c,y,x),a=r(f,h,p)),d.has(f[h]))if(d.has(f[p])){const t=a.get(c[y]),r=void 0!==t?o[t]:null;if(null===r){const t=s.r(e,o[h]);s.v(t,u[y]),v[y]=t}else v[y]=s.v(r,u[y]),s.r(e,o[h],r),o[t]=null;y++}else s.M(o[p]),p--;else s.M(o[h]),h++;for(;y<=x;){const t=s.r(e,v[x+1]);s.v(t,u[y]),v[y++]=t}for(;h<=p;){const e=o[h++];null!==e&&s.M(e)}return this.ut=c,s.m(e,v),t.T}});e.c=n}));