// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.33/esri/copyright.txt for details.
//>>built
define(["exports","./errorSupport"],(function(e,r){"use strict";function t(e){if(null!==e.precision||null!==e.secondary)throw new r.SqlError(r.SqlErrorCodes.PrimarySecondaryQualifiers)}function o(e,r){if(r.includes(".")){const t=r.split(".");e.second=parseFloat(t[0]),e.millis=parseInt(t[1],10)}else e.second=parseFloat(r)}const l="esri.core.sql.SqlInterval";class s{constructor(){this.declaredRootClass=l,this.op="+",this.day=0,this.second=0,this.hour=0,this.month=0,this.year=0,this.minute=0,this.millis=0}static isInterval(e){return"object"==typeof e&&null!=e&&"declaredRootClass"in e&&e.declaredRootClass===l}static createFromMilliseconds(e){const r=new s;return r.second=e/1e3,r}static createFromValueAndQualifier(e,l,a){let n=null;const i=new s;if(i.op="-"===a?"-":"+","interval-period"===l.type){t(l);const s=new RegExp("^[0-9]{1,}$");if("year"===l.period||"month"===l.period)throw new r.SqlError(r.SqlErrorCodes.YearMonthIntervals);if("second"===l.period){if(!/^[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$/.test(e))throw new r.SqlError(r.SqlErrorCodes.IllegalInterval);o(i,e)}else{if(!s.test(e))throw new r.SqlError(r.SqlErrorCodes.IllegalInterval);i[l.period]=parseFloat(e)}}else{if(t(l.start),t(l.end),"year"===l.start.period||"month"===l.start.period||"year"===l.end.period||"month"===l.end.period)throw new r.SqlError(r.SqlErrorCodes.YearMonthIntervals);switch(l.start.period){case"day":switch(l.end.period){case"hour":if(n=new RegExp("^[0-9]{1,} [0-9]{1,}$"),!n.test(e))throw new r.SqlError(r.SqlErrorCodes.IllegalInterval);i[l.start.period]=parseFloat(e.split(" ")[0]),i[l.end.period]=parseFloat(e.split(" ")[1]);break;case"minute":if(n=new RegExp("^[0-9]{1,} [0-9]{1,2}:[0-9]{1,}$"),!n.test(e))throw new r.SqlError(r.SqlErrorCodes.IllegalInterval);{i[l.start.period]=parseFloat(e.split(" ")[0]);const r=e.split(" ")[1].split(":");i.hour=parseFloat(r[0]),i.minute=parseFloat(r[1])}break;case"second":if(n=new RegExp("^[0-9]{1,} [0-9]{1,2}:[0-9]{1,2}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$"),!n.test(e))throw new r.SqlError(r.SqlErrorCodes.IllegalInterval);{i[l.start.period]=parseFloat(e.split(" ")[0]);const r=e.split(" ")[1].split(":");i.hour=parseFloat(r[0]),i.minute=parseFloat(r[1]),o(i,r[2])}break;default:throw new r.SqlError(r.SqlErrorCodes.IllegalInterval)}break;case"hour":switch(l.end.period){case"minute":if(n=new RegExp("^[0-9]{1,}:[0-9]{1,}$"),!n.test(e))throw new r.SqlError(r.SqlErrorCodes.IllegalInterval);i.hour=parseFloat(e.split(":")[0]),i.minute=parseFloat(e.split(":")[1]);break;case"second":if(n=new RegExp("^[0-9]{1,}:[0-9]{1,2}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$"),!n.test(e))throw new r.SqlError(r.SqlErrorCodes.IllegalInterval);{const r=e.split(":");i.hour=parseFloat(r[0]),i.minute=parseFloat(r[1]),o(i,r[2])}break;default:throw new r.SqlError(r.SqlErrorCodes.IllegalInterval)}break;case"minute":if("second"!==l.end.period)throw new r.SqlError(r.SqlErrorCodes.IllegalInterval);if(n=new RegExp("^[0-9]{1,}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$"),!n.test(e))throw new r.SqlError(r.SqlErrorCodes.IllegalInterval);{const r=e.split(":");i.minute=parseFloat(r[0]),o(i,r[1])}break;default:throw new r.SqlError(r.SqlErrorCodes.IllegalInterval)}}return i}valueInMilliseconds(){return("-"===this.op?-1:1)*(this.millis+1e3*this.second+60*this.minute*1e3+60*this.hour*60*1e3+24*this.day*60*60*1e3+this.month*(365/12)*24*60*60*1e3+365*this.year*24*60*60*1e3)}}e.SqlInterval=s,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));