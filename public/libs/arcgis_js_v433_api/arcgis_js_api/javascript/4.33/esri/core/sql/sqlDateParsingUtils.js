// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.33/esri/copyright.txt for details.
//>>built
define(["exports","./DateOnly","./errorSupport","./SqlInterval","./SqlTimestampOffset","./TimeOnly","./UnknownTimeZone","../../chunks/datetime"],(function(e,n,r,t,a,i,o,s){"use strict";const l=/^(\d{1,2}):(\d{1,2}):(\d{1,2})$/,m=/^(\d{1,2}):(\d{1,2})$/,d=/^(\d{1,2}):(\d{1,2}):(\d{1,2}).([0-9]+)$/,p=/^(\d{4})-(\d{1,2})-(\d{1,2})$/,u=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?$/,f=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?[ ]{0,1}(\+|-)(\d{1,2}):(\d{1,2})$/,I=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})?[ ]{0,1}(\+|-)(\d{1,2}):(\d{1,2})$/,c=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})$/;function T(e,n,t=!1){let i=u.exec(e);if(null!==i){const[,e,t,a,l,m,d,p]=i,u=s.DateTime.fromObject({year:parseInt(e,10),month:parseInt(t,10),day:parseInt(a,10),hour:parseInt(l,10),minute:parseInt(m,10),second:parseInt(d,10),millisecond:p?parseInt(p.replace(".",""),10):0},{zone:o.substituteUnknownTimezone(n)});if(!1===u.isValid)throw new r.SqlError(r.SqlErrorCodes.InvalidTimeStamp);return u}if(i=f.exec(e),null!==i){const[,e,n,t,o,s,l,m,d,p,u]=i,f=a.SqlTimeStampOffset.fromParts(parseInt(e,10),parseInt(n,10),parseInt(t,10),parseInt(o,10),parseInt(s,10),parseInt(l,10),m?parseInt(m.replace(".",""),10):0,"-"===d,parseInt(p,10),parseInt(u,10));if(!1===f.isValid)throw new r.SqlError(r.SqlErrorCodes.InvalidTimeStamp);return f}if(i=I.exec(e),null!==i){const[,e,n,t,o,s,l,m,d]=i,p=a.SqlTimeStampOffset.fromParts(parseInt(e,10),parseInt(n,10),parseInt(t,10),parseInt(o,10),parseInt(s,10),0,0,"-"===l,parseInt(m,10),parseInt(d,10));if(!1===p.isValid)throw new r.SqlError(r.SqlErrorCodes.InvalidTimeStamp);return p}if(i=c.exec(e),null!==i){const[,e,t,a,l,m]=i,d=s.DateTime.fromObject({year:parseInt(e,10),month:parseInt(t,10),day:parseInt(a,10),hour:parseInt(l,10),minute:parseInt(m,10),second:0},{zone:o.substituteUnknownTimezone(n)});if(!1===d.isValid)throw new r.SqlError(r.SqlErrorCodes.InvalidTimeStamp);return d}if(i=p.exec(e),null!==i){const[,e,t,a]=i,l=s.DateTime.fromObject({year:parseInt(e,10),month:parseInt(t,10),day:parseInt(a,10),hour:0,minute:0,second:0},{zone:o.substituteUnknownTimezone(n)});if(!1===l.isValid)throw new r.SqlError(r.SqlErrorCodes.InvalidTimeStamp);return l}throw new r.SqlError(r.SqlErrorCodes.InvalidTimeStamp)}e.convertToExecutingTimeZone=function(e,n){if(n instanceof s.Zone)return n===o.UnknownTimeZone.instance?s.DateTime.fromMillis(e.getTime(),{zone:o.UnknownTimeZone.instance}):s.DateTime.fromJSDate(e,{zone:n});switch(n){case"system":case"local":case null:return s.DateTime.fromJSDate(e);default:return"unknown"===n?.toLowerCase()?s.DateTime.fromMillis(e.getTime(),{zone:o.UnknownTimeZone.instance}):s.DateTime.fromJSDate(e,{zone:n})}},e.isDateOnly=function(e){return n.DateOnly.isDateOnly(e)},e.isDateTime=function(e){return s.DateTime.isDateTime(e)},e.isSqlInterval=function(e){return t.SqlInterval.isInterval(e)},e.isTimeOnly=function(e){return i.TimeOnly.isTimeOnly(e)},e.isTimestampOffset=function(e){return a.SqlTimeStampOffset.isTimestampOffset(e)},e.parseDate=function(e,t){const a=p.exec(e);if(null===a)try{return T(e,t)}catch{throw new r.SqlError(r.SqlErrorCodes.InvalidDate)}const[,i,o,s]=a,l=n.DateOnly.fromParts(parseInt(i,10),parseInt(o,10),parseInt(s,10));if(null===l)throw new r.SqlError(r.SqlErrorCodes.InvalidDate);return l},e.parseTime=function(e){let n=l.exec(e);if(null!==n){const[,e,t,a]=n,o=i.TimeOnly.fromParts(parseInt(e,10),parseInt(t,10),parseInt(a,10),0);if(null!==o)return o;throw new r.SqlError(r.SqlErrorCodes.InvalidTime)}if(n=m.exec(e),null!==n){const[,e,t]=n,a=i.TimeOnly.fromParts(parseInt(e,10),parseInt(t,10),0,0);if(null!==a)return a;throw new r.SqlError(r.SqlErrorCodes.InvalidTime)}if(n=d.exec(e),null!==n){const[,e,t,a,o]=n,s=i.TimeOnly.fromParts(parseInt(e,10),parseInt(t,10),parseInt(a,10),parseInt(o,10));if(null!==s)return s;throw new r.SqlError(r.SqlErrorCodes.InvalidTime)}throw new r.SqlError(r.SqlErrorCodes.InvalidTime)},e.parseTimestamp=T,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));