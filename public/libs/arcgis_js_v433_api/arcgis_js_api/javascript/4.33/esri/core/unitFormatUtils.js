// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.33/esri/copyright.txt for details.
//>>built
define(["exports","./ByteSizeUnit","./Cyclical","./mathUtils","./quantityUtils","./string","./unitUtils","../intl/number"],(function(t,e,i,n,r,a,o,c){"use strict";function m(t,e,i){return t.units[e][i]}function u(t,e,i,n=2,r="abbr"){return`${c.formatNumber(e,{minimumFractionDigits:n,maximumFractionDigits:n,signDisplay:e>0?"never":"exceptZero"})} ${m(t,i,r)}`}function l(t,e,i,n=2,r="abbr"){return`${c.formatNumber(e,{minimumFractionDigits:n,maximumFractionDigits:n,signDisplay:"exceptZero"})} ${m(t,i,r)}`}const s=new Map;function f(t,e){const i=JSON.stringify(e);let n=s.get(i);return n||(n=new Intl.NumberFormat("en-US",e),s.set(i,n)),/^[-+]?360\.?0*°?$/.test(n.format(t))?0:t}const g=["B","kB","MB","GB","TB"];t.formatAngleDegrees=function(t,e,n,a,m,u=i.cyclicalDegrees,l=!0){let s=u.normalize(r.convertRotationType(o.convertUnit(t,e,"degrees"),n,a),0,l);const g=((t,e)=>({style:"unit",unitDisplay:"narrow",unit:"degree",maximumFractionDigits:e,minimumFractionDigits:e,signDisplay:t>0?"never":"exceptZero"}))(s,m??2);return s=f(s,g),c.formatNumber(s,g)},t.formatDMS=function(t,e,i=2){let n=o.convertUnit(t,e,"degrees"),r=n-Math.floor(n);n-=r,r*=60;let a=r-Math.floor(r);return r-=a,a*=60,`${n.toFixed()}° ${r.toFixed()}' ${a.toFixed(i)}"`},t.formatDecimal=u,t.formatFileSize=function(t,i){let r=0===(i=Math.round(i))?0:Math.floor(Math.log(i)/Math.log(e.ByteSizeUnit.KILOBYTES));r=n.clamp(r,0,g.length-1);const o=c.formatNumber(i/e.ByteSizeUnit.KILOBYTES**r,{maximumFractionDigits:2});return a.replace(t.units.bytes[g[r]],{fileSize:o})},t.formatImperialArea=function(t,e,i,n=2,r="abbr"){const a=o.adaptiveImperialAreaUnit(e,i);return u(t,o.convertUnit(e,i,a),a,n,r)},t.formatImperialLength=function(t,e,i,n=2,r="abbr"){const a=o.adaptiveImperialLengthUnit(e,i);return u(t,o.convertUnit(e,i,a),a,n,r)},t.formatImperialRelativeLength=function(t,e,i,n=2,r="abbr"){const a=o.adaptiveImperialLengthUnit(e,i);return l(t,o.convertUnit(e,i,a),a,n,r)},t.formatImperialRelativeVerticalLength=function(t,e,i,n=2,r="abbr"){const a=o.adaptiveImperialVerticalLengthUnit(e,i);return l(t,o.convertUnit(e,i,a),a,n,r)},t.formatImperialVerticalLength=function(t,e,i,n=2,r="abbr"){const a=o.adaptiveImperialVerticalLengthUnit(e,i);return u(t,o.convertUnit(e,i,a),a,n,r)},t.formatMetricArea=function(t,e,i,n=2,r="abbr"){const a=o.adaptiveMetricAreaUnit(e,i);return u(t,o.convertUnit(e,i,a),a,n,r)},t.formatMetricLength=function(t,e,i,n=2,r="abbr"){const a=o.adaptiveMetricLengthUnit(e,i);return u(t,o.convertUnit(e,i,a),a,n,r)},t.formatMetricRelativeLength=function(t,e,i,n=2,r="abbr"){const a=o.adaptiveMetricLengthUnit(e,i);return l(t,o.convertUnit(e,i,a),a,n,r)},t.formatMetricRelativeVerticalLength=function(t,e,i,n=2,r="abbr"){const a=o.adaptiveMetricVerticalLengthUnit(e,i);return l(t,o.convertUnit(e,i,a),a,n,r)},t.formatMetricVerticalLength=function(t,e,i,n=2,r="abbr"){const a=o.adaptiveMetricVerticalLengthUnit(e,i);return u(t,o.convertUnit(e,i,a),a,n,r)},t.formatRelativeAngleDegrees=function(t,e,i,n,r=2){i!==n&&(t=-t);const a={style:"unit",unitDisplay:"narrow",unit:"degree",maximumFractionDigits:r,minimumFractionDigits:r,signDisplay:"exceptZero"};let m=o.convertUnit(t,e,"degrees")%360;return m=f(m,a),c.formatNumber(m,a)},t.formatRelativeDecimal=l,t.unitName=m,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}));