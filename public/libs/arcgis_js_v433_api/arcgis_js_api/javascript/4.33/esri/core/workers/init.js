// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.33/esri/copyright.txt for details.
//>>built
!function(e,t){var r=function(){return void 0!==y&&"function"!=typeof y?y:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this}(),n=function(){},i=function(e){for(var t in e)return 0;return 1},o={}.toString,s=function(e){return"[object Function]"==o.call(e)},a=function(e){return"[object String]"==o.call(e)},l=function(e){return"[object Array]"==o.call(e)},c=function(e,t){if(e)for(var r=0;r<e.length;)t(e[r++])},u=function(e,t){for(var r in t)e[r]=t[r];return e},d=function(e,t){return u(new Error(e),{src:"dojoLoader",info:t})},f=1,h=function(){return"_"+f++},p=function(e,t,r){return ie(e,t,r,0,p)},y=r,m=y.document,g=m&&m.createElement("DiV"),_=p.has=function(e){return s(T[e])?T[e]=T[e](y,m,g):T[e]},T=_.cache=t.hasCache;for(var S in s(e)&&(e=e(r)),_.add=function(e,t,r,n){return(void 0===T[e]||n)&&(T[e]=t),r&&_(e)},_.add("host-webworker","undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope),_("host-webworker")&&(u(t.hasCache,{"host-browser":0,dom:0,"dojo-dom-ready-api":0,"dojo-sniff":0,"dojo-inject-api":1,"host-webworker":1,"dojo-guarantee-console":0}),t.loaderPatch={injectUrl:function(e,t){try{importScripts(e),t()}catch(t){console.info("failed to load resource ("+e+")"),console.error(t)}}}),e.has)_.add(S,e.has[S],0,1);var x,b=0,E="sync",v=[],w=0,P=n,A=n;if(p.isXdUrl=n,p.initSyncLoader=function(e,t,r){return w||(w=e,P=t,A=r),{sync:E,requested:1,arrived:2,nonmodule:3,executing:4,executed:5,syncExecStack:v,modules:z,execQ:se,getModule:Te,injectModule:Be,setArrived:ue,signal:L,finishExec:Oe,execModule:De,dojoRequirePlugin:w,getLegacyMode:function(){return b},guardCheckComplete:Ce}},_("dom")||_("host-webworker")){var M=location.protocol,I=location.host;if(p.isXdUrl=function(e){if(/^\./.test(e))return!1;if(/^\/\//.test(e))return!0;var t=e.match(/^([^\/\:]+\:)\/+([^\/]+)/);return t&&(t[1]!=M||I&&t[2]!=I)},_.add("dojo-force-activex-xhr",_("host-browser")&&!m.addEventListener&&"file:"==window.location.protocol),_("dojo-force-activex-xhr")){for(var O,R=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],D=0;D<3;)try{if(O=R[D++],new ActiveXObject(O))break}catch(e){}x=function(){return new ActiveXObject(O)}}else x=function(){return new XMLHttpRequest};p.getXhr=x,_.add("dojo-gettext-api",1),p.getText=function(e,t,r){var n=x();if(n.open("GET",ke(e),!1),n.send(null),200!=n.status&&(location.host||n.status))throw d("xhrFailed",n.status);return r&&r(n.responseText,t),n.responseText}}p.eval=function(e,t){};var N={},C="error",L=p.signal=function(e,t){var r=N[e];c(r&&r.slice(0),(function(e){e.apply(null,l(t)?t:[t])}))},k=p.on=function(e,t){var r=N[e]||(N[e]=[]);return r.push(t),{remove:function(){for(var e=0;e<r.length;e++)if(r[e]===t)return void r.splice(e,1)}}},U=[],F={},G=[],B={},j=p.map={},V=[],z={},W="",q={},H="url:",$={},Z={},Y=0;if(!_("foreign-loader"))var J=function(e,t){var r,n,i,o,s;for(r in t=!1!==t,$)n=$[r],(i=r.match(/^url\:(.+)/))?q[H+xe(i[1],e)]=n:"*now"==r?o=n:"*noref"!=r&&(s=me(r,e,!0),q[s.mid]=q[H+s.url]=n);o&&o(oe(e)),t&&($={})};var K,X=function(e){return e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,(function(e){return"\\"+e}))},Q=function(e,t){for(var r in t.splice(0,t.length),e)t.push([r,e[r],new RegExp("^"+X(r)+"(/|$)"),r.length]);return t.sort((function(e,t){return t[3]-e[3]})),t},ee=function(e){var t=e.name;t||(e={name:t=e}),(e=u({main:"main"},e)).location=e.location?e.location:t,e.packageMap&&(j[t]=e.packageMap),e.main.indexOf("./")||(e.main=e.main.substring(2)),B[t]=e},te=[],re=function(e,t,r){for(var n in e){if("waitSeconds"==n&&(p.waitms=1e3*(e[n]||0)),"cacheBust"==n&&(W=e[n]?a(e[n])?e[n]:(new Date).getTime()+"":""),"baseUrl"!=n&&"combo"!=n||(p[n]=e[n]),"async"==n){var i=e[n];p.legacyMode=b=a(i)&&/sync|legacyAsync/.test(i)?i:!i&&E,p.async=!b}e[n]!==T&&(p.rawConfig[n]=e[n],"has"!=n&&_.add("config-"+n,e[n],0,t))}for(n in p.baseUrl||(p.baseUrl="./"),/\/$/.test(p.baseUrl)||(p.baseUrl+="/"),e.has)_.add(n,e.has[n],0,t);for(var o in c(e.packages,ee),e.packagePaths)c(e.packagePaths[o],(function(e){var t=o+"/"+e;a(e)&&(e={name:e}),e.location=t,ee(e)}));if(Q(u(j,e.map),V),c(V,(function(e){e[1]=Q(e[1],[]),"*"==e[0]&&(V.star=e)})),Q(u(F,e.paths),G),function(e,t){c(e,(function(e){t.push([a(e[0])?new RegExp("^"+X(e[0])+"$"):e[0],e[1]])}))}(e.aliases,U),!_("foreign-loader")){if(t)te.push({config:e.config});else for(n in e.config){var s=Te(n,r);s.config=u(s.config||{},e.config[n])}e.cache&&(J(),$=e.cache,J(0,!!e.cache["*noref"]))}L("config",[e,p.rawConfig])};if(p.rawConfig={},re(t,1),re(e,1),re(Z,1),!_("foreign-loader"))var ne=function(e){Ce((function(){c(e.deps,Be)}))},ie=function(e,t,r,i,o){var s,c;if(a(e)){if((s=Te(e,i,!0))&&s.executed)return s.result;throw d("undefinedModule",e)}if(l(e)||(re(e,0,i),e=t,t=r),l(e))if(e.length){c="require*"+h();for(var f,y=[],m=0;m<e.length;)f=e[m++],y.push(Te(f,i));s=u(pe("",c,0,""),{injected:2,deps:y,def:t||n,require:i?i.require:p,gc:1}),z[s.mid]=s,ne(s);var g=Ne&&b!=E;Ce((function(){De(s,g)})),s.executed||se.push(s),Le()}else t&&t();return o},oe=function(e){if(!e)return p;var t=e.require;return t||(t=function(r,n,i){return ie(r,n,i,e,t)},e.require=u(t,p),t.module=e,t.toUrl=function(t){return xe(t,e)},t.toAbsMid=function(t){return Se(t,e)},t.syncLoadNls=function(t){var r=me(t,e),n=z[r.mid];return n&&n.executed||(Fe=q[r.mid]||q[H+r.url])&&(Ge(Fe),n=z[r.mid]),n&&n.executed&&n.result}),t},se=[],ae=[],le={},ce=function(e){e.injected=1,le[e.mid]=1,e.url&&(le[e.url]=e.pack||1),We()},ue=function(e){e.injected=2,delete le[e.mid],e.url&&delete le[e.url],i(le)&&(ze(),"xd"==b&&(b=E))},de=p.idle=function(){return!ae.length&&i(le)&&!se.length&&!Ne};var fe=function(e,t){if(t)for(var r=0;r<t.length;r++)if(t[r][2].test(e))return t[r];return 0},he=function(e){var t,r,n=[];for(e=e.replace(/\\/g,"/").split("/");e.length;)".."==(t=e.shift())&&n.length&&".."!=r?(n.pop(),r=n[n.length-1]):"."!=t&&n.push(r=t);return n.join("/")},pe=function(e,t,r,n){var i=p.isXdUrl(n);return{pid:e,mid:t,pack:r,url:n,executed:0,def:0,isXd:i,isAmd:!!(i||B[e]&&B[e].isAmd)}},ye=function(e,t,r,n,i,o,a,l,u,f){var h,p,y,m,g,_,T;if(T=/^\./.test(e),/(^\/)|(\:)|(\.js$)/.test(e)||T&&!t)return pe(0,e,0,e);if(e=he(T?t.mid+"/../"+e:e),/^\./.test(e))throw d("irrationalPath",e);f||T||!o.star||(m=fe(e,o.star[1])),!m&&t&&(m=(m=fe(t.mid,o))&&fe(e,m[1])),m&&(e=m[1]+e.substring(m[3])),(p=r[h=(K=e.match(/^([^\/]+)(\/(.+))?$/))?K[1]:""])?e=h+"/"+(y=K[3]||p.main):h="";var S=0;return c(l,(function(t){var r=e.match(t[0]);r&&r.length>0&&(S=s(t[1])?e.replace(t[0],t[1]):t[1])})),S?ye(S,0,r,n,i,o,a,l,u):(_=n[e])?u?pe(_.pid,_.mid,_.pack,_.url):n[e]:(g=(m=fe(e,a))?m[1]+e.substring(m[3]):h?("/"===p.location.slice(-1)?p.location.slice(0,-1):p.location)+"/"+y:e,/(^\/)|(\:)/.test(g)||(g=i+g),pe(h,e,p,he(g+=".js")))},me=function(e,t,r){return ye(e,t,B,z,p.baseUrl,V,G,U,void 0,r)};if(!_("foreign-loader"))var ge=function(e,t,r){return e.normalize?e.normalize(t,(function(e){return Se(e,r)})):Se(t,r)},_e=0,Te=function(e,t,r){var n,i,o,s;return(n=e.match(/^(.+?)\!(.*)$/))?(i=Te(n[1],t,r),b!=E||i.executed||(Be(i),2!==i.injected||i.executed||Ce((function(){De(i)})),i.executed?Ie(i):se.unshift(i)),5!==i.executed||i.load||Ie(i),i.load?(o=ge(i,n[2],t),e=i.mid+"!"+(i.dynamic?++_e+"!":"")+o):(o=n[2],e=i.mid+"!"+ ++_e+"!waitingForPlugin"),s={plugin:i,mid:e,req:oe(t),prid:o}):s=me(e,t),z[s.mid]||!r&&(z[s.mid]=s)};var Se=p.toAbsMid=function(e,t){return me(e,t).mid},xe=p.toUrl=function(e,t){var r=me(e+"/x",t),n=r.url;return ke(0===r.pid?e:n.substring(0,n.length-5))};if(!_("foreign-loader"))var be={injected:2,executed:5,def:3,result:3},Ee=function(e){return z[e]=u({mid:e},be)},ve=Ee("require"),we=Ee("exports"),Pe=Ee("module"),Ae={},Me=0,Ie=function(e){var t=e.result;return e.dynamic=t.dynamic,e.normalize=t.normalize,e.load=t.load,e},Oe=function(e){for(p.trace("loader-finish-exec",[e.mid]),e.executed=5,e.defOrder=Me++,c(e.provides,(function(e){e()})),e.loadQ&&(Ie(e),function(e){var t={};c(e.loadQ,(function(r){var n=ge(e,r.prid,r.req.module),i=e.dynamic?r.mid.replace(/waitingForPlugin$/,n):e.mid+"!"+n,o=u(u({},r),{mid:i,prid:n,injected:0});z[i]&&z[i].injected||Ue(z[i]=o),t[r.mid]=z[i],ue(r),delete z[r.mid]})),e.loadQ=0;var r=function(e){for(var r,n=e.deps||[],i=0;i<n.length;i++)(r=t[n[i].mid])&&(n[i]=r)};for(var n in z)r(z[n]);c(se,r)}(e)),D=0;D<se.length;)se[D]===e?se.splice(D,1):D++;/^require\*/.test(e.mid)&&delete z[e.mid]},Re=[],De=function(e,t){if(4===e.executed)return p.trace("loader-circular-dependency",[Re.concat(e.mid).join("->")]),!e.def||t?Ae:e.cjs&&e.cjs.exports;if(!e.executed){if(!e.def)return Ae;var r,n,i=e.mid,a=e.deps||[],l=[],c=0;for(e.executed=4;r=a[c++];){if((n=r===ve?oe(e):r===we?e.cjs.exports:r===Pe?e.cjs:De(r,t))===Ae)return e.executed=0,p.trace("loader-exec-module",["abort",i]),Ae;l.push(n)}!function(e,t){p.trace("loader-run-factory",[e.mid]);var r,n,i=e.def;v.unshift(e),r=s(i)||(n=i,"[object AsyncFunction]"==o.call(n))?i.apply(null,t):i,e.result=void 0===r&&e.cjs?e.cjs.exports:r,v.shift(e)}(e,l),Oe(e)}return e.result},Ne=0,Ce=function(e){try{Ne++,e()}catch(e){throw e}finally{Ne--}de()&&L("idle",[])},Le=function(){Ne||Ce((function(){P();for(var e,t,r=0;r<se.length;)e=Me,t=se[r],De(t),e!=Me?(P(),r=0):r++}))};var ke="function"==typeof e.fixupUrl?e.fixupUrl:function(e){return(e+="")+(W?(/\?/.test(e)?"&":"?")+W:"")};void 0===_("dojo-loader-eval-hint-url")&&_.add("dojo-loader-eval-hint-url",1);var Ue=function(e){var t=e.plugin;5!==t.executed||t.load||Ie(t),t.load?t.load(e.prid,e.req,(function(t){e.result=t,ue(e),Oe(e),Le()})):t.loadQ?t.loadQ.push(e):(t.loadQ=[e],se.unshift(t),Be(t))},Fe=0,Ge=function(e,t){_("config-stripStrict")&&(e=e.replace(/(["'])use strict\1/g,"")),e===Fe?Fe.call(null):p.eval(e,_("dojo-loader-eval-hint-url")?t.url:t.mid)},Be=function(e){var t=e.mid,r=e.url;if(!(e.executed||e.injected||le[t]||e.url&&(e.pack&&le[e.url]===e.pack||1==le[e.url])))if(ce(e),e.plugin)Ue(e);else{var n=function(){if(Ve(e),2!==e.injected){if(_("dojo-enforceDefine"))return void L(C,d("noDefine",e));ue(e),u(e,be),p.trace("loader-define-nonmodule",[e.url])}b?!v.length&&Le():Le()};if(Fe=q[t]||q[H+e.url])return p.trace("loader-inject",["cache",e.mid,r]),Ge(Fe,e),void n();if(b)if(e.isXd)b==E&&(b="xd");else if(!e.isAmd||b==E)return p.trace("loader-inject",["xhr",e.mid,r,b!=E]),void p.getText(r,b!=E,(function(i){if(b==E){if(v.unshift(e),Ge(i,e),v.shift(),Ve(e),e.cjs||(ue(e),Oe(e)),e.finish){var o=t+"*finish",s=e.finish;delete e.finish,$e(o,["dojo",("dojo/require!"+s.join(",")).replace(/\./g,"/")],(function(e){c(s,(function(t){e.require(t)}))})),se.unshift(Te(o))}n()}else(i=A(e,i))?(Ge(i,e),n()):p.injectUrl(ke(r),n,e)}));p.trace("loader-inject",["script",e.mid,r]),p.injectUrl(ke(r),n,e)}},je=function(e,t,r){p.trace("loader-define-module",[e.mid,t]);var n=e.mid;if(2===e.injected)return L(C,d("multipleDefine",e)),e;u(e,{deps:t,def:r,cjs:{id:e.mid,uri:e.url,exports:e.result={},setExports:function(t){e.cjs.exports=t},config:function(){return e.config}}});for(var i=0;t[i];i++)t[i]=Te(t[i],e);return b&&!le[n]&&(ne(e),se.push(e),Le()),ue(e),s(r)||t.length||(e.result=r,Oe(e)),e},Ve=function(e,t){for(var r,n,i=[];ae.length;)n=ae.shift(),t&&(n[0]=t.shift()),r=n[0]&&Te(n[0])||e,i.push([r,n[1],n[2]]);J(e),c(i,(function(e){ne(je.apply(null,e))}))},ze=n,We=n;if(_("dom"),_("dom")){var qe=function(e,t,r,n){return e.addEventListener(t,n,!1),function(){e.removeEventListener(t,n,!1)}},He=qe(window,"load",0,(function(){p.pageLoaded=1;try{"complete"!=m.readyState&&(m.readyState="complete")}catch(e){}He()}));Y||(Y=m.currentScript),p.injectUrl=function(e,t,r){var n=r.node=m.createElement("script"),i=qe(n,"load",0,(function(e){var r=(e=e||window.event).target||e.srcElement;("load"===e.type||/complete|loaded/.test(r.readyState))&&(i(),o(),t&&t())})),o=qe(n,"error",0,(function(t){i(),o(),L(C,d("scriptError: "+e,[e,t]))}));return n.type="text/javascript",n.charset="utf-8",n.src=e,Y.parentNode.insertBefore(n,Y),n}}if(p.log=n,p.trace=n,_("foreign-loader"))$e=n;else{var $e=function(e,t,r){var n=arguments.length,i=["require","exports","module"],o=[0,e,t];1==n?o=[0,s(e)?i:[],e]:2==n&&a(e)?o=[e,s(t)?i:[],t]:3==n&&(o=[e,t,r]),p.trace("loader-define",o.slice(0,2));var l=o[0]&&Te(o[0]);l&&!le[l.mid]?ne(je(l,o[1],o[2])):ae.push(o)};$e.amd={vendor:"dojotoolkit.org"}}if(u(u(p,t.loaderPatch),e.loaderPatch),k(C,(function(e){try{if(console.error(e),e instanceof Error){for(var t in e)console.log(t+":",e[t]);console.log(".")}}catch(e){}})),u(p,{uid:h,cache:q,packs:B}),!y.define&&(y.define=$e,y.require=p,!_("foreign-loader"))){c(te,(function(e){re(e)}));var Ze=Z.deps||e.deps||t.deps,Ye=Z.callback||e.callback||t.callback;p.boot=Ze||Ye?[Ze||[],Ye]:0}}((function(e){return e.dojoConfig||e.djConfig||e.require||{}}),{async:1,deps:["esri/kernel"],hasCache:{"config-selectorEngine":"lite","config-tlmSiblingOfDojo":1,"dojo-built":1,"dojo-loader":1,dom:1,"host-browser":1},packages:[{location:".",name:"dojo"},{location:"../esri",name:"esri"}]}),require({cache:{"esri/config":function(){define(["module","./core/has","./core/object"],(function(e,t,r){"use strict";const n={apiKey:void 0,apiKeys:{scopes:[]},applicationName:"",applicationUrl:globalThis.location?.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",userPrivilegesApplied:!0,portalUrl:"https://www.arcgis.com",respectPrefersReducedMotion:!0,routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],internalInterceptors:[],maxUrlLength:2e3,priority:"high",proxyRules:[],proxyUrl:null,timeout:62e3,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(globalThis.esriConfig&&(r.deepMerge(n,globalThis.esriConfig,!0),delete n.has),!n.assetsPath){{const t=new URL(e.uri,document.baseURI).href;n.assetsPath=t.slice(0,t.lastIndexOf("esri/"))}n.defaultAssetsPath=n.assetsPath}return n}))},"esri/core/has":function(){define((function(){"use strict";let e;function t(t){return"function"==typeof e[t]?e[t]=e[t](globalThis):e[t]}return e=globalThis.dojoConfig?.has||globalThis.esriConfig?.has?{...globalThis.dojoConfig?.has,...globalThis.esriConfig?.has}:{},t.add=(r,n,i,o)=>{(o||void 0===e[r])&&(e[r]=n),i&&t(r)},t.cache=e,t.add("big-integer-warning-enabled",!0),t.add("esri-deprecation-warnings",!0),t.add("esri-tests-disable-screenshots",!1),t.add("esri-tests-use-full-window",!1),t.add("esri-tests-post-to-influx",!0),t.add("esri-cim-animations-enable-status","enabled"),t.add("esri-cim-animations-spotlight",!1),t.add("esri-cim-animations-freeze-time",!1),(()=>{t.add("host-webworker",void 0!==globalThis.WorkerGlobalScope&&self instanceof globalThis.WorkerGlobalScope);const e="undefined"!=typeof window&&"undefined"!=typeof location&&"undefined"!=typeof document&&window.location===location&&window.document===document;if(t.add("host-browser",e),t.add("dom",e),t("host-browser")){const e=navigator,r=e.userAgent,n=e.appVersion,i=parseFloat(n);if(t.add("edge",parseFloat(r.split("Edge/")[1])||void 0),t.add("webkit",!t("edge")&&parseFloat(r.split("WebKit/")[1])||void 0),t.add("chrome",!t("edge")&&parseFloat(r.split("Chrome/")[1])||void 0),t.add("safari",!n.includes("Safari")||t("chrome")||t("edge")?void 0:parseFloat(n.split("Version/")[1])),t.add("mac",n.includes("Macintosh")),/(iPhone|iPod|iPad)/.test(r)){const e=RegExp.$1.replace(/P/,"p"),n=/OS ([\d_]+)/.test(r)?RegExp.$1:"1",i=parseFloat(n.replace(/_/,".").replaceAll("_",""));t.add(e,i),t.add("ios",i)}t("webkit")||(r.includes("Gecko")&&!t("edge")&&t.add("mozilla",i),t("mozilla")&&t.add("ff",parseFloat(r.split("Firefox/")[1]||r.split("Minefield/")[1])||void 0))}})(),(()=>{if(globalThis.navigator){const e=navigator.userAgent,r=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(e),n=/iPhone/i.test(e);r&&t.add("esri-mobile",r),n&&t.add("esri-iPhone",n),t.add("esri-geolocation",!!navigator.geolocation)}t.add("esri-wasm","WebAssembly"in globalThis),t.add("esri-performance-mode-frames-between-render",20),t.add("esri-force-performance-mode",!1),t.add("esri-shared-array-buffer",(()=>{const e="SharedArrayBuffer"in globalThis,t=!1===globalThis.crossOriginIsolated;return e&&!t})),t.add("wasm-simd",(()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])))),t.add("esri-atomics","Atomics"in globalThis),t.add("esri-workers","Worker"in globalThis),t.add("web-feat:cache","caches"in globalThis),t.add("esri-workers-arraybuffer-transfer",!t("safari")||Number(t("safari"))>=12),t.add("workers-pool-size",8),t.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),t.add("featurelayer-simplify-payload-size-factors",[1,1,4]),t.add("featurelayer-fast-triangulation-enabled",!0),t.add("featurelayer-animation-enabled",!0),t.add("featurelayer-snapshot-enabled",!0),t.add("featurelayer-snapshot-initial-tolerance",0),t.add("featurelayer-snapshot-point-min-threshold",8e4),t.add("featurelayer-snapshot-point-max-threshold",4e5),t.add("featurelayer-snapshot-multipoint-min-threshold",2e4),t.add("featurelayer-snapshot-multipoint-max-threshold",1e5),t.add("featurelayer-snapshot-polygon-min-threshold",1e3),t.add("featurelayer-snapshot-polygon-max-threshold",2e3),t.add("featurelayer-snapshot-polyline-min-threshold",1e3),t.add("featurelayer-snapshot-polyline-max-threshold",2e3),t.add("featurelayer-snapshot-max-vertex-count",25e4),t.add("featurelayer-snapshot-non-hosted-exceedslimit-enabled",!1),t.add("featurelayer-snapshot-concurrency",4),t.add("featurelayer-snapshot-coverage",.1),t.add("featurelayer-query-max-depth",4),t.add("featurelayer-query-pausing-enabled",!1),t.add("featurelayer-query-tile-concurrency",4),t.add("featurelayer-query-tile-max-features",6e5),t.add("featurelayer-advanced-symbols",!1),t.add("featurelayer-pbf",!0),t.add("featurelayer-pbf-statistics",!1),t.add("feature-layers-workers",!0),t.add("feature-polyline-generalization-factor",1),t.add("mapview-transitions-duration",200),t.add("mapview-essential-goto-duration",200),t.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),t.add("mapserver-pbf-version-support",10.81),t.add("mapservice-popup-identify-max-tolerance",20),t.add("request-queue-concurrency-hosted",16),t.add("request-queue-concurrency-non-hosted",4),t.add("curve-densification-coarse-segments",128),t.add("curve-densification-max-segments",2e3),t.add("curve-densification-min-segments",3),t.add("curve-densification-pixel-deviation",.5),t.add("view-readyState-waiting-delay",1e3),t.add("gradient-depth-bias",.01),t.add("gradient-depth-epsilon",1e-8),t.add("enable-feature:esri-compress-textures",!0),t("host-webworker")||t("host-browser")&&(t.add("esri-csp-restrictions",(()=>{try{new Function}catch{return!0}return!1})),t.add("esri-image-decode",(()=>{if("decode"in new Image){const e=new Image;return e.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void e.decode().then((()=>{t.add("esri-image-decode",!0,!0,!0)})).catch((()=>{t.add("esri-image-decode",!1,!0,!0)}))}return!1})),t.add("esri-url-encodes-apostrophe",(()=>{const e=window.document.createElement("a");return e.href="?'",e.href.includes("?%27")})))})(),t}))},"esri/core/object":function(){define(["exports","./lang"],(function(e,t){"use strict";function r(e,t,r){let n=r;for(const r of e){if(null==n)return;if(!(r in n)){if(!t)return;n[r]={}}n=n[r]}return n}function n(e,r,i){return r?Object.keys(r).reduce(((e,o)=>{if("__proto__"===o)return e;let s=e[o],a=r[o];return s===a?e:void 0===s?(e[o]=t.clone(a),e):(Array.isArray(a)||Array.isArray(e)?(s=s?Array.isArray(s)?e[o]=s.slice():e[o]=[s]:e[o]=[],a&&(Array.isArray(a)||(a=[a]),i?a.forEach((e=>{s.includes(e)||s.push(e)})):e[o]=a.slice())):a&&"object"==typeof a?e[o]=n(s,a,i):e.hasOwnProperty(o)&&!r.hasOwnProperty(o)||(e[o]=a),e)}),e||{}):e}e.deepMerge=function(e,t,r=!1){return n(e,t,r)},e.getDeepValue=function(e,t){if(null!=t)return t[e]||r(e.split("."),!1,t)},e.notDeepEqual=function e(t,r){if(null==t&&null==r)return!1;if(null==t)return!0;if(null==r)return!0;if("object"==typeof t){if(Array.isArray(t)){const n=r;if(t.length!==n.length)return!0;for(let r=0;r<t.length;r++)if(e(t[r],n[r]))return!0;return!1}if(Object.keys(t).length!==Object.keys(r).length)return!0;for(const n in t)if(e(t[n],r[n]))return!0;return!1}return t!==r},e.setDeepValue=function(e,t,n){const i=e.split("."),o=i.pop(),s=r(i,!0,n);s&&o&&(s[o]=t)},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/core/lang":function(){define(["exports","./arrayUtils","./typedArrayUtil"],(function(e,t,r){"use strict";function n(e){if(!e||"object"!=typeof e||"function"==typeof e)return e;const t=l(e);if(null!=t)return t;if(i(e))return e.clone();if(o(e))return e.map(n);if(s(e))throw new Error("Trying to clone an unclonable Accessor instance");const r={};for(const t of Object.getOwnPropertyNames(e))r[t]=n(e[t]);return r}function i(e){return"function"==typeof e.clone}function o(e){return"function"==typeof e.map&&"function"==typeof e.forEach}function s(e){return"function"==typeof e.notifyChange&&"function"==typeof e.watch}function a(e){if("[object Object]"!==Object.prototype.toString.call(e))return!1;const t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function l(e){if(r.isInt8Array(e)||r.isUint8Array(e)||r.isUint8ClampedArray(e)||r.isInt16Array(e)||r.isUint16Array(e)||r.isInt32Array(e)||r.isUint32Array(e)||r.isFloat32Array(e)||r.isFloat64Array(e))return e.slice();if(e instanceof Date)return new Date(e.getTime());if(e instanceof ArrayBuffer)return e.slice(0,e.byteLength);if(e instanceof Map){const t=new Map;for(const[r,i]of e)t.set(r,n(i));return t}if(e instanceof Set){const t=new Set;for(const r of e)t.add(n(r));return t}return null}e.clone=n,e.equals=function(e,t){return e===t||"number"==typeof e&&isNaN(e)&&"number"==typeof t&&isNaN(t)||"function"==typeof e?.getTime&&"function"==typeof t?.getTime&&e.getTime()===t.getTime()||!1},e.equalsShallow=function(e,r){return e===r||(null==e||"string"==typeof e?e===r:"number"==typeof e?e===r||"number"==typeof r&&isNaN(e)&&isNaN(r):e instanceof Date?r instanceof Date&&e.getTime()===r.getTime():Array.isArray(e)?Array.isArray(r)&&t.equals(e,r):e instanceof Set?r instanceof Set&&function(e,t){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}(e,r):e instanceof Map?r instanceof Map&&function(e,t){if(e.size!==t.size)return!1;for(const[r,n]of e){const e=t.get(r);if(e!==n||void 0===e&&!t.has(r))return!1}return!0}(e,r):!!a(e)&&a(r)&&function(e,t){if(null===e||null===t)return!1;const r=Object.keys(e);if(null===t||Object.keys(t).length!==r.length)return!1;for(const n of r)if(e[n]!==t[n]||!Object.prototype.hasOwnProperty.call(t,n))return!1;return!0}(e,r))},e.fixJson=function e(t,r){let n;if(r)for(n in t)t.hasOwnProperty(n)&&(void 0===t[n]?delete t[n]:t[n]instanceof Object&&e(t[n],!0));else for(n in t)t.hasOwnProperty(n)&&void 0===t[n]&&delete t[n];return t},e.isAccessorLike=s,e.isClonable=i,e.isPlainObject=a,e.tryClone=function e(t){if(!t||"object"!=typeof t||"function"==typeof t||"HTMLElement"in globalThis&&t instanceof HTMLElement)return t;const r=l(t);if(null!=r)return r;if(o(t)){let r=!0;const n=t.map((t=>{const n=e(t);return null!=t&&null==n&&(r=!1),n}));return r?n:null}if(i(t))return t.clone();if(t instanceof File||t instanceof Blob)return t;if(s(t))return null;const n=new(0,Object.getPrototypeOf(t).constructor);for(const r of Object.getOwnPropertyNames(t)){const i=t[r],o=e(i);if(null!=i&&null==o)return null;n[r]=o}return n},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/core/arrayUtils":function(){define(["exports","./compilerUtils","./RandomLCG"],(function(e,t,r){"use strict";function n(e){return e}function i(e,t=n){if(!e||0===e.length)return;let r=e[0],i=t(r);for(let n=1;n<e.length;++n){const o=e[n],s=Number(t(o));s>i&&(i=s,r=o)}return r}function o(e,t,r,n,i,o,s){if(null==e&&null==n)return!0;t=Math.max(0,t),i=Math.max(0,i),r=Math.max(0,r<0?(e?.length??0)+r:r),o=Math.max(0,o<0?(n?.length??0)+o:o);const a=r-t;if(null==e||null==n||a!==o-i)return!1;if(s){for(let r=0;r<a;r++)if(!s(e[t+r],n[i+r]))return!1}else for(let r=0;r<a;r++)if(e[t+r]!==n[i+r])return!1;return!0}class s{constructor(){this.last=0}}const a=new s;function l(e,t,r,n){n=n||a;const i=Math.max(0,n.last-10);for(let o=i;o<r;++o)if(e[o]===t)return n.last=o,o;const o=Math.min(i,r);for(let r=0;r<o;++r)if(e[r]===t)return n.last=r,r;return-1}const c=new Set;function u(e){return e?(d.seed=e,()=>d.getFloat()):Math.random}const d=new r;e.PositionHint=s,e.addMany=function(e,t){if(!t)return e;for(const r of t)e.push(r);return e},e.binaryIndexOf=function(e,t,r){const n=e.length;let i=0,o=n-1;for(;i<o;){const r=i+Math.floor((o-i)/2);t>e[r]?i=r+1:o=r}const s=e[i];return r?t>=e[n-1]?-1:s===t?i:i-1:s===t?i:-1},e.countIf=function(e,t){return e.reduce(((e,r)=>t(r)?e+1:e),0)},e.difference=function(e,t,r){let n,i;return r?(n=t.filter((t=>!e.some((e=>r(e,t))))),i=e.filter((e=>!t.some((t=>r(t,e)))))):(n=t.filter((t=>!e.includes(t))),i=e.filter((e=>!t.includes(e)))),{added:n,removed:i}},e.emptyArray=[],e.equals=function(e,t,r){return o(e,0,e?.length??0,t,0,t?.length??0,r)},e.filterInPlace=function(e,t){let r=0;for(let n=0;n<e.length;++n){const i=e[n];t(i,n)&&(e[r]=i,r++)}e.length=r},e.getRandomNumberGenerator=u,e.indexOf=l,e.intersect=function(e,t,r){return e&&t?r?e.filter((e=>t.findIndex((t=>r(e,t)))>-1)):e.filter((e=>t.includes(e))):[]},e.isArrayLike=function(e){return e&&"number"==typeof e.length},e.isSome=function(e,t){return null!=e},e.max=i,e.min=function(e,t=n){return i(e,(e=>-t(e)))},e.pickRandom=function(e,t,r){const n=e.length;if(t>=n)return e.slice();const i=u(r),o=new Set,s=[];for(;s.length<t;){const t=Math.floor(i()*n);o.has(t)||(o.add(t),s.push(e[t]))}return s},e.pushIfSome=function(e,...t){for(const r of t)null!=r&&e.push(r);return e.length},e.range=function(e,t){void 0===t&&(t=e,e=0);const r=new Array(t-e);for(let n=e;n<t;n++)r[n-e]=n;return r},e.reallocGrowthFactor=1.5,e.reallocShrinkFactor=1/1.5,e.reallocShrinkThreshold=.5,e.remove=function(e,t){const r=e.indexOf(t);return-1!==r?(e.splice(r,1),t):null},e.removeUnordered=function(e,r,n,i){const o=n??e.length,s=l(e,t.toConst(r),o,i);if(-1!==s)return e[s]=e[o-1],null==n&&e.pop(),r},e.removeUnorderedMany=function(e,t,r=e.length,n=t.length,i,o){if(0===n||0===r)return r;c.clear();for(let e=0;e<n;++e)c.add(t[e]);i=i||a;const s=Math.max(0,i.last-10);for(let t=s;t<r;++t)if(c.has(e[t])&&(o?.push(e[t]),c.delete(e[t]),e[t]=e[r-1],--r,--t,0===c.size||0===r))return c.clear(),r;for(let t=0;t<s;++t)if(c.has(e[t])&&(o?.push(e[t]),c.delete(e[t]),e[t]=e[r-1],--r,--t,0===c.size||0===r))return c.clear(),r;return c.clear(),r},e.shuffle=function(e,t){if(!e)return e;const r=u(t);for(let t=e.length-1;t>0;t--){const n=Math.floor(r()*(t+1)),i=e[t];e[t]=e[n],e[n]=i}return e},e.sliceEquals=o,e.splitIntoChunks=function(e,t){const r=e.length;if(0===r)return[];const n=[];for(let i=0;i<r;i+=t)n.push(e.slice(i,i+t));return n},e.unique=function(e,t){return t?e.filter(((e,r,n)=>n.findIndex(t.bind(null,e))===r)):Array.from(new Set(e))},e.update=function(e,t){let r=e.length!==t.length;r&&(e.length=t.length);for(let n=0;n<t.length;++n)e[n]!==t[n]&&(e[n]=t[n],r=!0);return r},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/core/compilerUtils":function(){define(["exports","./has"],(function(e,t){"use strict";e.neverReached=function(e){},e.neverReachedSilent=function(e){},e.toConst=function(e){return e},e.typeCast=function(e){return()=>e},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/core/RandomLCG":function(){define((function(){"use strict";class e{static{this._m=2147483647}static{this._a=48271}static{this._c=0}constructor(e=1){this._seed=e}set seed(t){this._seed=t??Math.random()*e._m}getInt(){return this._seed=(e._a*this._seed+e._c)%e._m,this._seed}getFloat(){return this.getInt()/(e._m-1)}getIntRange(e,t){return Math.round(this.getFloatRange(e,t))}getFloatRange(t,r){const n=r-t;return t+this.getInt()/e._m*n}}return e}))},"esri/core/typedArrayUtil":function(){define(["exports","./has"],(function(e,t){"use strict";function r(e){return"Int8Array"===e?.constructor?.name}function n(e){return"Uint8Array"===e?.constructor?.name}function i(e){return"Uint8ClampedArray"===e?.constructor?.name}function o(e){return"Int16Array"===e?.constructor?.name}function s(e){return"Uint16Array"===e?.constructor?.name}function a(e){return"Int32Array"===e?.constructor?.name}function l(e){return"Uint32Array"===e?.constructor?.name}function c(e){return"Float16Array"===e?.constructor?.name}function u(e){return"Float32Array"===e?.constructor?.name}function d(e){return"Float64Array"===e?.constructor?.name}e.isArrayBuffer=function(e){return e instanceof ArrayBuffer},e.isFloat=function(e){return d(e)||u(e)},e.isFloat16Array=c,e.isFloat32Array=u,e.isFloat64Array=d,e.isInt16Array=o,e.isInt32Array=a,e.isInt8Array=r,e.isSigned=function(e){return d(e)||u(e)||a(e)||o(e)||r(e)},e.isTypedArray=function(e){return"buffer"in e},e.isUint16Array=s,e.isUint32Array=l,e.isUint8Array=n,e.isUint8ClampedArray=i,e.maxUint16=65535,e.maxUint32=2**32-1,e.maximumValue=function(e){return d(e)?179769e303:c(e)?65504:u(e)?3402823e32:l(e)?4294967295:s(e)?65535:n(e)||i(e)?255:a(e)?2147483647:o(e)?32767:r(e)?127:256},e.minInt16=-32768,e.minInt32=-2147483648,e.nativeArrayMaxSize=1024,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/core/reactiveUtils":function(){define(["exports","./events","./handleUtils","./maybe","./promiseUtils","./accessorSupport/watch","./accessorSupport/trackingUtils"],(function(e,t,r,n,i,o,s){"use strict";function a(e,t,r={}){return l(e,t,r,u)}function l(e,t,r={},i){let s=null;const a=r.once?(e,r)=>{i(e)&&(n.removeMaybe(s),t(e,r))}:(e,r)=>{i(e)&&t(e,r)};if(s=o.watchTracked(e,a,r.sync,r.equals),r.initial){const t=e();a(t,t)}return s}function c(e,t,o){if(i.isAborted(o))return Promise.reject(i.createAbortError());const s=e();if(t?.(s))return Promise.resolve(s);let a=null;function c(){a=n.removeMaybe(a)}return new Promise(((n,s)=>{a=r.handlesGroup([i.onAbort(o,(()=>{c(),s(i.createAbortError())})),l(e,(e=>{c(),n(e)}),{sync:!1,once:!0},t??u)])}))}function u(e){return!0}function d(e){return!!e}e.autorun=s.autorun,e.initial={initial:!0},e.on=function(e,i,o,s={}){let l=null,c=null,u=null;function d(){l&&c&&(c.remove(),s.onListenerRemove?.(l),l=null,c=null)}function f(e){s.once&&s.once&&n.removeMaybe(u),o(e)}const h=a(e,((e,r)=>{d(),t.isEventedOrEventTarget(e)&&(l=e,c=t.on(e,i,f),s.onListenerAdd?.(e))}),{sync:s.sync,initial:!0});return u=r.makeHandle((()=>{h.remove(),d()})),u},e.once=function(e,t){return c(e,null,t)},e.pausable=function(e,t,r={}){let n=!1;const i=a(e,((e,r)=>{n||t(e,r)}),r);return{remove(){i.remove()},pause(){n=!0},resume(){n=!1}}},e.sync={sync:!0},e.syncAndInitial={sync:!0,initial:!0},e.watch=a,e.when=function(e,t,r={}){return l(e,t,r,d)},e.whenOnce=function(e,t){return c(e,d,t)},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/core/events":function(){define(["exports","./handleUtils"],(function(e,t){"use strict";function r(e){return function(e){return null!=e&&"object"==typeof e&&"on"in e&&"function"==typeof e.on}(e)||n(e)}function n(e){return null!=e&&"object"==typeof e&&"addEventListener"in e&&"function"==typeof e.addEventListener}function i(e,t,i){if(!r(e))throw new TypeError("target is not a Evented or EventTarget object");return n(e)?o(e,t,i):e.on(t,i)}function o(e,r,n,i){if(Array.isArray(r)){const o=r.slice();for(const t of o)e.addEventListener(t,n,i);return t.makeHandle((()=>{for(const t of o)e.removeEventListener(t,n,i)}))}return e.addEventListener(r,n,i),t.makeHandle((()=>e.removeEventListener(r,n,i)))}e.addEventListener=o,e.isEventedOrEventTarget=r,e.on=i,e.once=function(e,t,n){if(!r(e))throw new TypeError("target is not a Evented or EventTarget object");if("once"in e)return e.once(t,n);const o=i(e,t,(t=>{o.remove(),n.call(e,t)}));return o},e.pausable=function(e,t,r){let n=!1;const o=i(e,t,(t=>{n||r.call(e,t)}));return{resume(){n=!1},pause(){n=!0},remove(){o.remove()}}},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/core/handleUtils":function(){define(["exports"],(function(e){"use strict";const t={remove:()=>{}};function r(e){return e?{remove(){e&&(e(),e=void 0)}}:t}function n(e){e.forEach((e=>e?.remove()))}function i(e){return"object"==typeof e&&!!e&&"remove"in e&&"function"==typeof e.remove}e.abortHandle=function(e){return r((()=>e?.abort()))},e.asyncHandle=function(e,t){let n=!1,i=null;return e.then((e=>{n?e.remove():i=e})),r((()=>{n=!0,null!=i?i.remove():null!=t&&(t.abort(),t=null)}))},e.destroyHandle=function(e){return r(null!=e?()=>e.destroy():void 0)},e.disposable=function(e){return{[Symbol.dispose](){e.remove()}}},e.drainHandles=function(e){n(e),e.length=0},e.handlesGroup=function(e){return r((()=>n(e)))},e.isHandle=i,e.makeHandle=r,e.refHandle=function(e){return r((()=>e()?.remove()))},e.removeHandles=n,e.removeIfHandle=function(e){i(e)&&e.remove()},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/core/maybe":function(){define(["exports"],(function(e){"use strict";e.abortMaybe=function(e){return e?.abort(),null},e.assertIsSome=function(e,t){if(null==e)throw new Error(t??"value is None")},e.destroyMaybe=function(e){return e?.destroy(),null},e.disposeMaybe=function(e){return e?.dispose(),null},e.equalsMaybe=function(e,t,r){return null!=e&&null!=t?null!=r?r(e,t):e.equals(t):e===t},e.mappedFind=function(e,t){let r;return e.some(((e,n)=>(r=t(e,n),null!=r))),r??void 0},e.maybeProperty=function(e,t){return e?.[t]},e.releaseMaybe=function(e){return e?.release(),null},e.removeMaybe=function(e){return e?.remove(),null},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/core/promiseUtils":function(){define(["exports","./clock","./Error","./events","./Logger","./maybe"],(function(e,t,r,n,i,o){"use strict";function s(e="Aborted"){return new r("AbortError",e)}function a(e,t="Aborted"){if(c(e))throw s(t)}function l(e){return e instanceof AbortSignal?e:e?.signal??void 0}function c(e){const t=l(e);return null!=t&&t.aborted}function u(e,t){const r=l(e);if(null!=r){if(!r.aborted)return n.once(r,"abort",(()=>t()));t()}}function d(e){return"AbortError"===e?.name}async function f(e){if(!e)return;if("function"!=typeof e.forEach){const t=Object.keys(e),r=t.map((t=>e[t])),n=await f(r),i={};return t.map(((e,t)=>i[e]=n[t])),i}const t=e;return Promise.allSettled(t).then((e=>Array.from(t,((t,r)=>{const n=e[r];return"fulfilled"===n.status?{promise:t,value:n.value}:{promise:t,error:n.reason}}))))}function h(e,t=void 0,r){const n=new AbortController;return u(r,(()=>n.abort())),new Promise(((r,i)=>{let o=setTimeout((()=>{o=0,r(t)}),e);u(n,(()=>{o&&(clearTimeout(o),i(s()))}))}))}function p(e){return e&&"function"==typeof e.then}function y(e){return p(e)?e:Promise.resolve(e)}function m(){let e,r;const n=new Promise(((t,n)=>{e=t,r=n})),i=t=>{e(t)};return i.resolve=t=>e(t),i.reject=e=>r(e),i.timeout=(e,r)=>t.clock.setTimeout((()=>i.reject(r)),e),i.promise=n,i}e.after=h,e.allSettledErrors=async function(e){return(await Promise.allSettled(e)).filter((e=>"rejected"===e.status)).map((e=>e.reason))},e.allSettledValues=async function(e){return(await Promise.allSettled(e)).filter((e=>"fulfilled"===e.status)).map((e=>e.value))},e.always=function(e,t){return e.then(t,t)},e.createAbortError=s,e.createResolver=m,e.debounce=function(e,t=-1){let r,n,i,o,a=null;const l=(...c)=>{if(r){n=c,o&&o.reject(s()),o=m();const e=o.promise;if(a){const e=a;a=null,e.abort()}return e}if(i=o||m(),o=null,t>0){const n=new AbortController;r=y(e(...c,n.signal));const i=r;h(t).then((()=>{r===i&&(o?n.abort():a=n)}))}else r=1,r=y(e(...c));const u=()=>{const e=n;n=i=r=a=null,null!=e&&l(...e)},d=r,f=i;return d.then(u,u),d.then(f.resolve,f.reject),f.promise};return l},e.eachAlways=f,e.eachAlwaysValues=async function(e){return(await f(e)).filter((e=>!!e.value)).map((e=>e.value))},e.filter=async function(e,t){const r=e.slice(),n=await Promise.all(e.map(((e,r)=>t(e,r))));return r.filter(((e,t)=>n[t]))},e.ignoreAbortErrors=async function(e){try{return await e}catch(e){if(!d(e))throw e;return}},e.isAbortError=d,e.isAborted=c,e.isPromiseLike=p,e.logOnError=async function(e,t=i.getLogger("esri")){try{return await e}catch(e){d(e)||t.error(e)}},e.onAbort=u,e.onAbortOrThrow=function(e,t){const r=l(e);if(null!=r)return a(r),n.once(r,"abort",(()=>t(s())))},e.settleWithPromise=function(e,t){t.then(e.resolve,e.reject)},e.signalFromSignalOrOptions=l,e.throwIfAbortError=function(e){if(d(e))throw e},e.throwIfAborted=a,e.throwIfNotAbortError=function(e){if(!d(e))throw e},e.timeout=function(e,t,n,i){const o=n&&"abort"in n?n:null;null!=i||o||(i=n);let s=setTimeout((()=>{s=0,o?.abort()}),t);const a=()=>i||new r("promiseUtils:timeout","The wrapped promise did not resolve within "+t+" ms");return e.then((e=>{if(0===s)throw a();return clearTimeout(s),e}),(e=>{throw clearTimeout(s),0===s?a():e}))},e.waitTick=async function(e){await Promise.resolve(),a(e)},e.when=y,e.whenOrAbort=function(e,t){return null==l(t)?e:new Promise(((r,n)=>{let i=u(t,(()=>n(s())));const a=()=>{i=o.removeMaybe(i)};e.then(a,a),e.then(r,n)}))},e.whenOrTimeout=function(e,t,n){return Promise.race([e,h(t).then((()=>{throw new r("timeout",`Did not resolve within ${t} milliseconds (${n??"timeout"})`)}))])},e.wrapAbortWithTimeout=function(e,t){const r=new AbortController,n=setTimeout((()=>r.abort()),t);return u(e,(()=>{r.abort(),clearTimeout(n)})),{...e,signal:r.signal}},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/core/clock":function(){define(["exports","./handleUtils"],(function(e,t){"use strict";function r(e){return{setTimeout:(r,n)=>{const i=e.setTimeout(r,n);return t.makeHandle((()=>e.clearTimeout(i)))}}}const n=r(globalThis);e.clock=n,e.wrap=r,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/core/Error":function(){define(["./lang","./Logger","./Message"],(function(e,t,r){"use strict";class n extends r{constructor(e,t,r){super(e,t,r)}toJSON(){if(null!=this.details)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,((t,r)=>{if(r&&"object"==typeof r&&"function"==typeof r.toJSON)return r;try{return e.clone(r)}catch(e){return"[object]"}})))}}catch(e){throw t.getLogger("esri.core.Error").error(e),e}return{name:this.name,message:this.message,details:this.details}}static fromJSON(e){return new n(e.name,e.message,e.details)}}return n.prototype.type="error",n}))},"esri/core/Logger":function(){define(["../config","./has","./string"],(function(e,t,r){"use strict";const n={info:0,warn:1,error:2,none:3};class i{constructor(e){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},null!=e.level&&(this.level=e.level),null!=e.writer&&(this.writer=e.writer),this._module=e.module,i._loggers.set(this.module,this);const t=this.module.lastIndexOf(".");-1!==t&&(this._parent=i.getLogger(this.module.slice(0,t)))}get module(){return this._module}get parent(){return this._parent}error(...e){this._log("error","always",...e)}warn(...e){this._log("warn","always",...e)}info(...e){this._log("info","always",...e)}errorOnce(...e){this._log("error","once",...e)}warnOnce(...e){this._log("warn","once",...e)}infoOnce(...e){this._log("info","once",...e)}errorOncePerTick(...e){this._log("error","oncePerTick",...e)}warnOncePerTick(...e){this._log("warn","oncePerTick",...e)}infoOncePerTick(...e){this._log("info","oncePerTick",...e)}get test(){}static get test(){}static getLogger(e){return e="string"!=typeof e?e.declaredClass:e,i._loggers.get(e)||new i({module:e})}static{this._loggers=new Map}static{this._tickCounter=0}static{this._tickCounterScheduled=!1}static{this._throttlingDisabled=!1}_log(t,n,...o){if(this._matchLevel(t)){if("always"!==n&&!i._throttlingDisabled){const e=function(...e){return r.numericHash(JSON.stringify(e,((e,t)=>"object"!=typeof t||Array.isArray(t)?t:"[Object]")))}(o),s=this._loggedMessages[t].get(e);if("once"===n&&null!=s||"oncePerTick"===n&&s&&s>=i._tickCounter)return;this._loggedMessages[t].set(e,i._tickCounter),i._scheduleTickCounterIncrement()}for(const r of e.log.interceptors)if(r(t,this.module,...o))return;this._inheritedWriter()(t,this.module,...o)}}_parentWithMember(e,t){let r=this;for(;null!=r;){const t=r[e];if(null!=t)return t;r=r.parent}return t}_inheritedWriter(){return this._parentWithMember("writer",o)}_matchLevel(t){const r=e.log.level||"warn";return n[this._parentWithMember("level",r)]<=n[t]}static _scheduleTickCounterIncrement(){i._tickCounterScheduled||(i._tickCounterScheduled=!0,Promise.resolve().then((()=>{i._tickCounter++,i._tickCounterScheduled=!1})))}}function o(e,t,...r){console[e](`[${t}]`,...r)}return i}))},"esri/core/string":function(){define(["exports","./object"],(function(e,t){"use strict";const r=/\{([^}]+)\}/g;function n(e){return e??""}let i;e.escapeRegExpString=function(e,t){return e.replaceAll(/([.$?*|{}()[\]\\/+\-^])/g,(e=>t?.includes(e)?e:`\\${e}`))},e.numericHash=function(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return t},e.replace=function(e,i){return i?e.replaceAll(r,"object"==typeof i?(e,r)=>n(t.getDeepValue(r,i)):(e,t)=>n(i(t))):e},e.safeToString=function(e,...t){let r=e[0];for(let n=0;n<t.length;++n)r+=t[n]+e[n+1];return r},e.stripHTML=function(e){return i??=new DOMParser,i.parseFromString(e||"","text/html").body.innerText||""},e.templateHasKey=function(e,t){return new RegExp(`{${t}}`,"ig").test(e)},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/core/Message":function(){define(["./object"],(function(e){"use strict";return class{constructor(t,r,n=void 0){var i;this.name=t,this.details=n,this.message=(r&&(i=n,r.replaceAll(/\$\{([^\s:}]*)(?::([^\s:}]+))?\}/g,((t,r)=>""===r?"$":(e.getDeepValue(r,i)??"").toString()))))??""}toString(){return"["+this.name+"]: "+this.message}}}))},"esri/core/accessorSupport/watch":function(){define(["exports","../ArrayPool","../handleUtils","../lang","../ReentrantObjectPool","../scheduling","../SetUtils","../uid","./get","./Lifecycle","./trackingUtils","./utils"],(function(e,t,r,n,i,o,s,a,l,c,u,d){"use strict";var f;!function(e){e[e.Untracked=0]="Untracked",e[e.Tracked=1]="Tracked"}(f||(f={}));class h{constructor(){this.uid=a.generateUID(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static{this.pool=new i.ReentrantObjectPool(h)}static acquireUntracked(e,t,r,i,o){return this.pool.acquire(f.Untracked,e,t,r,i,o,n.equals)}static acquireTracked(e,t,r,n){return this.pool.acquire(f.Tracked,e,t,r,null,null,n)}notify(e,t){this.type===f.Untracked?this.callback.call(this.target,e,t,this.path,this.target):this.callback.call(null,e,t,void 0,void 0)}acquire(e,t,r,n,i,o,s){this.uid=a.generateUID(),this.removed=!1,this.type=e,this.oldValue=t,this.callback=r,this.getValue=n,this.target=i,this.path=o,this.equals=s}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=a.generateUID(),this.removed=!0}}const p=new t,y=new Set;let m;function g(e){y.delete(e),y.add(e),m||(m=o.schedule(T))}function _(e){if(e.removed)return;const t=e.oldValue,r=e.getValue();e.equals(t,r)||(e.oldValue=r,e.notify(r,t))}function T(){let e=10;for(;m&&e--;){m=null;const e=S(),t=p.acquire();for(const r of e){const e=r.uid;_(r),e===r.uid&&r.removed&&t.push(r)}for(const e of y)e.removed&&(t.push(e),y.delete(e));for(const e of t)h.pool.release(e);p.release(t),p.release(e),x.forEach((e=>e()))}}function S(){const e=p.acquire();e.length=y.size;let t=0;for(const r of y)e[t]=r,++t;return y.clear(),e}const x=new Set;e.afterDispatch=function(e){return x.add(e),r.makeHandle((()=>x.delete(e)))},e.dispatch=T,e.isValueInUse=function(e){return s.someSet(y,(t=>t.oldValue===e))},e.removeTarget=function(e){for(const t of y.values())t.target===e&&(t.removed=!0)},e.watch=function(e,t,i,o=!1){return e.__accessor__&&e.__accessor__.lifecycle!==c.Lifecycle.DESTROYED?o?function(e,t,r){const i=d.parse(e,t,r,((e,t,r)=>{let o=!1;return u.reaction((()=>l.valueOf(e,t)),((s,a)=>{e.__accessor__.lifecycle!==c.Lifecycle.DESTROYED?o||(o=!0,n.equals(a,s)||r.call(e,s,a,t,e),o=!1):i.remove()}))}));return i}(e,t,i):function(e,t,n){let i=d.parse(e,t,n,((e,t,n)=>{let o,s,a=u.reactionDeferred((()=>l.valueOf(e,t)),((r,a)=>{e.__accessor__?.lifecycle===c.Lifecycle.DESTROYED||o&&o.uid!==s?i.remove():(o||(o=h.acquireUntracked(r,n,a,e,t),s=o.uid),g(o))}));return r.makeHandle((()=>{a.remove(),o&&(o.uid!==s||o.removed||(o.removed=!0,g(o)),o=null),i=a=null}))}));return i}(e,t,i):r.makeHandle()},e.watchTracked=function(e,t,i=!1,o=n.equalsShallow){return i?function(e,t,r){let n=!1;return u.reaction(e,((e,i)=>{n||(n=!0,r(i,e)||t(e,i),n=!1)}))}(e,t,o):function(e,t,n){let i,o,s=u.reactionDeferred(e,((e,r)=>{i&&i.uid!==o?s.remove():(i||(i=h.acquireTracked(e,t,r,n),o=i.uid),g(i))}));return r.makeHandle((()=>{s.remove(),i&&(i.uid!==o||i.removed||(i.removed=!0,g(i)),i=null),s=null}))}(e,t,o)},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/core/ArrayPool":function(){define(["./ObjectPool"],(function(e){"use strict";function t(e){e.length=0}class r{constructor(r=50,n=50){this._pool=new e(Array,void 0,t,n,r)}acquire(){return this._pool.acquire()}release(e){this._pool.release(e)}prune(){this._pool.prune(0)}static acquire(){return n.acquire()}static release(e){return n.release(e)}static prune(){n.prune()}}const n=new r(100);return r}))},"esri/core/ObjectPool":function(){define((function(){"use strict";class e{constructor(e,t,r,n=1,i=0){this._ctor=e,this._acquireFunction=t,this._releaseFunction=r,this.allocationSize=n,this._pool=new Array(i),this._initialSize=i;for(let e=0;e<i;e++)this._pool[e]=new this._ctor;this.allocationSize=Math.max(n,1)}destroy(){this.prune(0)}acquire(...t){let r;if(e.test.disabled)r=new this._ctor;else{if(0===this._pool.length){const e=this.allocationSize;for(let t=0;t<e;t++)this._pool[t]=new this._ctor}r=this._pool.pop()}return this._acquireFunction?this._acquireFunction(r,...t):function(e){return e?.acquire&&"function"==typeof e.acquire}(r)&&r.acquire(...t),r}release(t){t&&!e.test.disabled&&(this._releaseFunction?this._releaseFunction(t):function(e){return e?.release&&"function"==typeof e.release}(t)&&t.release(),this._pool.push(t))}prune(e=this._initialSize){if(!(e>=this._pool.length)){for(let t=e;t<this._pool.length;++t){const e=this._pool[t];this._dispose(e)}this._pool.length=e}}_dispose(e){e.dispose&&"function"==typeof e.dispose&&e.dispose()}static{this.test={disabled:!1}}}return e}))},"esri/core/ReentrantObjectPool":function(){define(["exports","./ObjectPool"],(function(e,t){"use strict";e.ReentrantObjectPool=class extends t{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=null}acquire(...e){const t=super.acquire(...e);return this._set.delete(t),t}release(e){e&&!this._set.has(e)&&(super.release(e),this._set.add(e))}_dispose(e){this._set.delete(e),super._dispose(e)}},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/core/scheduling":function(){define(["exports","./nextTick","./PerformanceSampler","./PooledArray","./promiseUtils","./time"],(function(e,t,r,n,i,o){"use strict";class s{constructor(e){this.phases=e,this.paused=!1,this.ticks=-1,this.removed=!1}}class a{constructor(e){this.callback=e,this.isActive=!0}remove(){this.isActive=!1}}let l=0,c=0;const u={time:o.Milliseconds(0),deltaTime:o.Milliseconds(0),elapsedFrameTime:o.Milliseconds(0),frameDuration:o.Milliseconds(0)},d=["prepare","preRender","render","postRender","update","finish"],f=[],h=new n;class p{constructor(e){this._task=e}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1,y()}}function y(){null==T&&(l=performance.now(),T=requestAnimationFrame(S))}const m={frameTasks:h,willDispatch:!1,clearFrameTasks:function(e=!1){h.forAll((e=>{e.removed=!0})),e&&b()},dispatch:E,executeFrameTasks:function(e){const t=o.Milliseconds(e-l);l=e;const r=c>0?c:1e3/60,n=Math.max(0,t-r);u.time=e,u.frameDuration=o.Milliseconds(r-n);for(let r=0;r<d.length;r++){const n=performance.now(),i=d[r];h.forAll((n=>{n.paused||n.removed||(0===r&&n.ticks++,n.phases[i]&&(u.elapsedFrameTime=o.Milliseconds(performance.now()-e),u.deltaTime=0===n.ticks?o.Milliseconds(0):t,n.phases[i]?.call(n,u)))})),P[r].push(performance.now()-n)}b(),A.push(performance.now()-e)},reschedule:function(){null!=T&&(cancelAnimationFrame(T),T=requestAnimationFrame(S))}};function g(e){const r=new a(e);return f.push(r),m.willDispatch||(m.willDispatch=!0,t.nextTick(E)),r}function _(e){const t=new s(e);return h.push(t),y(),new p(t)}let T=null;function S(){const e=performance.now();T=null;const t=h.some((e=>!e.paused&&!e.removed));T=t?requestAnimationFrame(S):null,m.executeFrameTasks(e)}const x=new n;function b(){h.forAll((e=>{e.removed&&x.push(e)})),h.removeUnorderedMany(x.data,x.length),x.clear()}function E(){for(;f.length;){const e=f.shift();e.isActive&&e.callback()}m.willDispatch=!1}function v(e=1,r){const n=i.createResolver(),o=()=>{i.isAborted(r)?n.reject(i.createAbortError()):0===e?n():(--e,t.nextTick((()=>o())))};return o(),n.promise}function w(e){return v(1,e)}const P=d.map((e=>new r(e))),A=new r("total");e.FrameTaskHandle=p,e.addFrameTask=_,e.debug=m,e.performanceInfo=P,e.performanceTotal=A,e.schedule=g,e.setFrameDuration=function(e){c=Math.max(0,e)},e.waitAnimationFrame=async function(e){await w(e),await new Promise((t=>requestAnimationFrame((()=>{e?.aborted||t()}))))},e.waitRender=function(){const e=i.createResolver(),t=_({postRender:()=>{t.remove(),g(e)}});return e.promise},e.waitTick=w,e.waitTicks=v,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/core/nextTick":function(){define(["exports"],(function(e){"use strict";const t=[];e.nextTick=function(e){t.push(e),1===t.length&&queueMicrotask((()=>{const e=t.slice();t.length=0;for(const t of e)t()}))},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/core/PerformanceSampler":function(){define((function(){"use strict";return class{constructor(e,t=30){this.name=e,this._counter=0,this._samples=new Array(t)}push(e){null!=e&&(this._samples[++this._counter%this._samples.length]=e)}set(e){null!=e&&(this._samples[this._counter%this._samples.length]=e)}get median(){return this._samples.slice().sort(((e,t)=>e-t))[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce(((e,t)=>e+t),0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}}}))},"esri/core/PooledArray":function(){define(["./arrayUtils","./compilerUtils","./HeapSort"],(function(e,t,r){"use strict";class n{constructor(t){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new e.PositionHint,t&&(t.initialSize&&(this.data=new Array(t.initialSize)),t.allocator&&(this._allocator=t.allocator),void 0!==t.deallocator&&(this._deallocator=t.deallocator),t.shrink&&(this._shrink=()=>i(this)))}toArray(){return this.data.slice(0,this.length)}filter(e){const t=new Array;for(let r=0;r<this._length;r++){const n=this.data[r];e(n)&&t.push(n)}return t}at(e){if((e=Math.trunc(e)||0)<0&&(e+=this._length),!(e<0||e>=this._length))return this.data[e]}includes(e,t){const r=this.data.indexOf(e,t);return-1!==r&&r<this.length}get length(){return this._length}set length(e){if(e>this._length){if(this._allocator){for(;this._length<e;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=e}else{if(this._deallocator)for(let t=e;t<this._length;++t)this.data[t]=this._deallocator(this.data[t]);this._length=e,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(e){this.data[this._length++]=e}pushArray(e,t=e.length){for(let r=0;r<t;r++)this.data[this._length++]=e[r]}fill(e,t){for(let r=0;r<t;r++)this.data[this._length++]=e}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const e=this.data[this._length];return++this._length,e}unshift(e){this.data.unshift(e),this._length++,i(this)}pop(){if(0===this.length)return;const e=this.data[this.length-1];return this.length=this.length-1,this._shrink(),e}remove(r){const n=e.indexOf(this.data,t.toConst(r),this.length,this._hint);if(-1!==n)return this.data.splice(n,1),this.length=this.length-1,r}removeUnordered(r){return this.removeUnorderedIndex(e.indexOf(this.data,t.toConst(r),this.length,this._hint))}removeUnorderedIndex(e){if(!(e>=this.length||e<0))return this.swapElements(e,this.length-1),this.pop()}removeUnorderedMany(t,r=t.length,n){this.length=e.removeUnorderedMany(this.data,t,this.length,r,this._hint,n),this._shrink()}front(){if(0!==this.length)return this.data[0]}back(){if(0!==this.length)return this.data[this.length-1]}swapElements(e,t){if(e>=this.length||t>=this.length||e===t)return;const r=this.data[e];this.data[e]=this.data[t],this.data[t]=r}sort(e){r.sort(this.data,0,this.length,e)}iterableSort(e){return r.iterableSort(this.data,0,this.length,e)}some(e,t){for(let r=0;r<this.length;++r)if(e.call(t,this.data[r],r,this.data))return!0;return!1}find(e,t){const{data:r,length:n}=this;for(let i=0;i<n;++i)if(e.call(t,r[i]))return r[i]}filterInPlace(e,t){let r=0;for(let n=0;n<this._length;++n){const i=this.data[n];e.call(t,i,n,this.data)&&(this.data[n]=this.data[r],this.data[r]=i,r++)}if(this._deallocator)for(let e=r;e<this._length;e++)this.data[e]=this._deallocator(this.data[e]);return this._length=r,this._shrink(),this}forAll(e,t){const{data:r,length:n}=this;for(let i=0;i<n;++i)e.call(t,r[i],i,r)}forEach(e,t){this.data.slice(0,this.length).forEach(e,t)}map(e,t){const r=new Array(this.length);for(let n=0;n<this.length;++n)r[n]=e.call(t,this.data[n],n,this.data);return r}reduce(e,t){let r=t;for(let t=0;t<this.length;++t)r=e(r,this.data[t],t,this.data);return r}has(e){const t=this.length,r=this.data;for(let n=0;n<t;++n)if(r[n]===e)return!0;return!1}*[Symbol.iterator](){for(let e=0;e<this.length;e++)yield this.data[e]}}function i(e){e.data.length>1.5*e.length&&(e.data.length=Math.floor(1.1*e.length))}return n}))},"esri/core/HeapSort":function(){define((function(){"use strict";var e;return function(e){const t=(e,t,r,n)=>{let i=t,o=t;const s=r>>>1,a=e[i-1];for(;o<=s;){o=i<<1,o<r&&n(e[o-1],e[o])<0&&++o;const t=e[o-1];if(n(t,a)<=0)break;e[i-1]=t,i=o}e[i-1]=a},r=(e,t)=>e<t?-1:e>t?1:0;e.sort=function(e,n,i,o){void 0===n&&(n=0),void 0===i&&(i=e.length),void 0===o&&(o=r);for(let r=i>>>1;r>n;r--)t(e,r,i,o);const s=n+1;for(let r=i-1;r>n;r--){const i=e[n];e[n]=e[r],e[r]=i,t(e,s,r,o)}},e.iterableSort=function*(e,n,i,o){void 0===n&&(n=0),void 0===i&&(i=e.length),void 0===o&&(o=r);for(let r=i>>>1;r>n;r--)t(e,r,i,o),yield;const s=n+1;for(let r=i-1;r>n;r--){const i=e[n];e[n]=e[r],e[r]=i,t(e,s,r,o),yield}}}(e||(e={})),e}))},"esri/core/time":function(){define(["exports"],(function(e){"use strict";e.Milliseconds=function(e){return e},e.Seconds=function(e){return e},e.millisecondsFromSeconds=function(e){return 1e3*e},e.now=function(){return performance.now()},e.secondsFromMilliseconds=function(e){return.001*e},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/core/SetUtils":function(){define(["exports"],(function(e){"use strict";function t(e,t){if(!t)return e;for(const r of t)null!=r&&e.add(r);return e}function r(e,r){const n=new Set;return t(n,e),t(n,r),n}function n(e,t){const r=new Set;for(const n of t)e.has(n)&&r.add(n);return r}function i(e,t){const r=new Set(e);for(const e of t)r.delete(e);return r}e.addMany=t,e.addMaybe=function(e,t){return null!=t&&e.add(t),e},e.difference=i,e.equals=function(e,t){if(null==e&&null==t)return!0;if(null==e||null==t||e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0},e.first=function(e){return e.values().next().value},e.intersection=n,e.isSubsetOf=function(e,t){if(!e||!t)return!1;if(e===t)return!0;for(const r of e)if(!t.has(r))return!1;return!0},e.last=function(e){let t;for(t of e);return t},e.someSet=function(e,t){for(const r of e.values())if(t(r))return!0;return!1},e.symmetricDifference=function(e,t){return i(r(e,t),n(e,t))},e.union=r,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/core/uid":function(){define(["exports"],(function(e){"use strict";let t=0;e.generateUID=function(){return++t},e.nullUid=0,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/core/accessorSupport/get":function(){define(["exports","./utils"],(function(e,t){"use strict";function r(e,r){const n="?"===e[e.length-1]?e.slice(0,-1):e;if(null!=r.getItemAt||Array.isArray(r)){const e=parseInt(n,10);if(!isNaN(e))return Array.isArray(r)?r[e]:r.at(e)}const i=t.getProperties(r);return t.isPropertyDeclared(i,n)?i.get(n):r[n]}function n(e,t,i){if(null==e)return e;const o=r(t[i],e);return!o&&i<t.length-1?void 0:i===t.length-1?o:n(o,t,i+1)}function i(e,i,o=0){return"string"!=typeof i||i.includes(".")?n(e,t.pathToArray(i),o):r(i,e)}e.exists=function(e,t){return void 0!==i(t,e)},e.get=function(e,t){return i(e,t)},e.valueOf=i,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/core/accessorSupport/utils":function(){define(["exports","../handleUtils","../lang"],(function(e,t,r){"use strict";function n(e){return e.__accessor__??null}function i(e,t,n){return t?Object.keys(t).reduce(((e,o)=>{const s=o;if("__proto__"===s)return e;let a=null,l="merge";if(n&&(a=n.path?`${n.path}.${o}`:o,l=n.policy(a)),"replace"===l)return e[s]=t[s],e;if("replace-arrays"===l&&Array.isArray(e[s]))return e[s]=t[s],e;if(void 0===e[s])return e[s]=r.clone(t[s]),e;let c=e[s],u=t[s];if(c===u)return e;if(Array.isArray(u)||Array.isArray(e))c=c?Array.isArray(c)?e[s]=c.slice():e[s]=[c]:e[s]=[],u&&(Array.isArray(u)||(u=[u]),u.forEach((e=>{c.includes(e)||c.push(e)})));else if(u&&"object"==typeof u)if(n){const t=n.path;n.path=a,e[s]=i(c,u,n),n.path=t}else e[s]=i(c,u,null);else e.hasOwnProperty(o)&&!t.hasOwnProperty(o)||(e[s]=u);return e}),e||{}):e}function o(e){return e.includes(",")?e.split(",").map((e=>e.trim())):[e.trim()]}function s(e){if(Array.isArray(e)){const t=[];for(const r of e)t.push(...o(r));return t}return o(e)}e.getDependsInfo=function(e,t){const r=n(e);return r?r.getDependsInfo(e,t,""):""},e.getProperties=n,e.isPropertyDeclared=function(e,t){return null!=e?.metadata?.[t]},e.merge=function(e,t,r){return i(e,t,r?{policy:r,path:""}:null)},e.parse=function(e,r,n,i){const o=s(r);if(1!==o.length){const r=o.map((t=>i(e,t,n)));return t.handlesGroup(r)}return i(e,o[0],n)},e.pathToArray=function(e){return Array.isArray(e)?e:e.split(".")},e.splitPath=s,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/core/accessorSupport/Lifecycle":function(){define(["exports"],(function(e){"use strict";e.Lifecycle={INITIALIZING:0,CONSTRUCTING:1,CONSTRUCTED:2,DESTROYING:3,DESTROYED:4},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/core/accessorSupport/trackingUtils":function(){define(["exports","../handleUtils","./tracking","./tracking/SimpleTrackingTarget"],(function(e,t,r,n){"use strict";let i=!1;const o=[];function s(e){o.includes(e)||o.unshift(e)}function a(){for(;o.length;)o.pop()()}e.autorun=function(e,o){let l=!1,c=!1;const u=!!o?.sync;let d=new n.SimpleTrackingTarget((()=>{l||c||(c=!0,u?f():queueMicrotask(f))}));function f(){c=!1,d&&!l&&(i?s(f):(d.clear(),i=!0,l=!0,r.runTracked(d,e),l=!1,i=!1,a()))}return l=!0,r.runTracked(d,e),l=!1,t.makeHandle((function(){d&&(d.destroy(),d=null)}))},e.reaction=function(e,o){let l=new n.SimpleTrackingTarget((function t(){if(!l||u)return;if(i)return void s(t);const n=c;l.clear(),i=!0,u=!0,c=r.runTracked(l,e),u=!1,i=!1,o(c,n),a()})),c=null,u=!1;return u=!0,c=r.runTracked(l,e),u=!1,t.makeHandle((function(){l&&(l.destroy(),l=null,c=null)}))},e.reactionDeferred=function(e,i){let o=new n.SimpleTrackingTarget((function(){i(s,a)})),s=null;function a(){return o?(o.clear(),s=r.runTracked(o,e),s):null}return a(),t.makeHandle((function(){o&&(o.destroy(),o=null),s=null}))},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/core/accessorSupport/tracking":function(){define(["exports","../has","../Logger","./utils","./tracking/Flags","./tracking/TrackingTarget"],(function(e,t,r,n,i,o){"use strict";const s=new o.TrackingTarget,a=[];let l=s;function c(e){l.onAccessed(e)}let u=!1,d=!1;function f(e,t,r){if(u)return h(e,t,r);let n=null;return p(e),n=t.call(r),y(),n}function h(e,t,n){const i=u;u=!0,p(e);let o=null;try{o=t.call(n)}catch(e){d&&r.getLogger("esri.core.accessorSupport.tracking").error(e)}return y(),u=i,o}function p(e){l=e,a.push(e)}function y(){const e=a.length;if(e>1){const t=a.pop();l=a[e-2],t.onTrackingEnd()}else if(1===e){const e=a.pop();l=s,e.onTrackingEnd()}else l=s}function m(e,t){if(t.flags&i.Flags.DepTrackingInitialized)return;t.flags|=i.Flags.DepTrackingInitialized;const r=d;d=!1,t.flags&i.Flags.AutoTracked?h(t.trackingTarget,t.metadata.get,e):_(e,t),d=r}const g=[];function _(e,t){t.flags&i.Flags.ExplicitlyTracking||(t.flags|=i.Flags.ExplicitlyTracking,h(t.trackingTarget,(()=>{const r=t.metadata.dependsOn||g;for(const t of r)if("string"!=typeof t||t.includes(".")){const r=n.pathToArray(t);for(let t=0,n=e;t<r.length&&null!=n&&"object"==typeof n;++t)n=T(n,r[t],t!==r.length-1)}else T(e,t,!1)})),t.flags&=~i.Flags.ExplicitlyTracking)}function T(e,t,r){const i="?"===t[t.length-1]?t.slice(0,-1):t;if(null!=e.getItemAt||Array.isArray(e)){const t=parseInt(i,10);if(!isNaN(t))return Array.isArray(e)?e[t]:e.at(t)}const o=n.getProperties(e);if(o){const t=o.propertiesByName.get(i);t&&(c(t),m(e,t))}return r?e[i]:void 0}e.initializeDependencyTracking=m,e.runTracked=f,e.runTrackedNoThrow=h,e.runUntracked=function(e,t){return f(s,e,t)},e.trackAccess=c,e.trackExplicitDependencies=_,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/core/accessorSupport/tracking/Flags":function(){define(["exports"],(function(e){"use strict";e.Flags={Dirty:1,Overridden:2,Computing:4,NonNullable:8,HasDefaultValue:16,DepTrackingInitialized:32,AutoTracked:64,ExplicitlyTracking:128},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/core/accessorSupport/tracking/TrackingTarget":function(){define(["exports"],(function(e){"use strict";e.TrackingTarget=class{constructor(e){this.accessed=void 0,this._handles=void 0,this._observer=e}destroy(){this.accessed?.clear(),this.clear()}onAccessed(e){null!=this._observer&&e!==this._observer&&(null==this.accessed&&(this.accessed=new Set),this.accessed.add(e))}onTrackingEnd(){null!=this._observer&&(this.clear(),null!=this.accessed&&(null==this._handles&&(this._handles=[]),this.accessed.forEach((e=>{this._handles.push(e.observe(this._observer))})),this.accessed.clear()))}clear(){if(null!=this._handles){for(let e=0;e<this._handles.length;++e)this._handles[e].remove();this._handles.length=0}}},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/core/accessorSupport/tracking/SimpleTrackingTarget":function(){define(["exports","./TrackingTarget"],(function(e,t){"use strict";class r extends t.TrackingTarget{constructor(e){super(new n(e)),this._observer&&i.register(this,new WeakRef(this._observer),this)}destroy(){this._observer&&i.unregister(this._observer),this.accessed?.clear(),this.clear(),this._observer?.destroy()}}class n{constructor(e){this._notify=e,this._invalidCount=0,this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(this.destroyed)return;const e=this._invalidCount;if(1===e)return this._invalidCount=0,void this._notify();this._invalidCount=e>0?e-1:0}destroy(){this.destroyed=!0,this._notify=o}}const i=new FinalizationRegistry((e=>{e.deref()?.destroy()}));function o(){}e.SimpleTrackingTarget=r,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/core/workers/RemoteClient":function(){define(["../../kernel","../Error","../events","../handleUtils","../maybe","../promiseUtils","./InvokeHandler","./registry","./utils","../../support/revision"],(function(e,t,r,n,i,o,s,a,l,c){"use strict";const{CLOSE:u,ABORT:d,INVOKE:f,RESPONSE:h,OPEN_PORT:p,ON:y}=l.MessageType;class m{constructor(e){this._invoke=e,this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._timer=null,this._process=this._process.bind(this)}push(e){e.type===l.MessageType.ABORT?this._cancelledJobIds.add(e.jobId):(this._invokeMessages.push(e),null===this._timer&&(this._timer=setTimeout(this._process,0)))}clear(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null}_process(){this._timer=null;for(const e of this._invokeMessages)this._cancelledJobIds.has(e.jobId)||this._invoke(e);this._cancelledJobIds.clear(),this._invokeMessages.length=0}}class g{static{this.kernelInfo={buildDate:c.buildDate,fullVersion:e.fullVersion,revision:c.commitHash}}static{this.clients=new Map}static connect(e,t){const r=new MessageChannel;let n;n="function"==typeof e?new e:"default"in e&&"function"==typeof e.default?new e.default:e;const i=new g(r.port1,{channel:r,client:n,schedule:t});return"object"==typeof n&&"remoteClient"in n&&(n.remoteClient=i),g.clients.set(i,n),r.port2}static loadWorker(e){const t=a.registry[e];return t?t():Promise.resolve(null)}constructor(e,t,r,n){this._port=e,this._jobQueue=r,this._lowPriorityJobQueue=n,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new m((e=>this._onInvokeMessage(e))),this._client=t.client,this._onMessage=this._onMessage.bind(this),this._channel=t.channel,this._schedule=t.schedule,this._port.addEventListener("message",this._onMessage),this._port.start()}close(){this._post({type:u}),this._close()}isBusy(){return this._outJobs.size>0}invoke(e,t,r){return this.apply(e,[t],r)}apply(e,r,n){const s=n?.signal,a=n?.transferList;if(!this._port)return Promise.reject(new t(l.portClosedErrorName,`Cannot call invoke('${e}'), port is closed`,{methodName:e,data:r}));const c=l.newJobId();return new Promise(((t,n)=>{if(o.isAborted(s))return this._processWork(),void n(o.createAbortError());const l=o.onAbort(s,(()=>{const e=this._outJobs.get(c);e&&(this._outJobs.delete(c),this._processWork(),i.removeMaybe(e.abortHandle),this._post({type:d,jobId:c}),n(o.createAbortError()))})),u={resolve:t,reject:n,abortHandle:l,debugInfo:e};this._outJobs.set(c,u),this._post({type:f,jobId:c,methodName:e,abortable:null!=s},r,a)}))}createInvokeProxy(e){return s.createInvokeProxy(this,e)}on(e,t){const r=new MessageChannel;function i(e){t(e.data)}return this._port.postMessage({type:l.MessageType.ON,eventType:e,port:r.port2},[r.port2]),r.port1.addEventListener("message",i),r.port1.start(),n.makeHandle((()=>{r.port1.postMessage({type:l.MessageType.CLOSE}),r.port1.close(),r.port1.removeEventListener("message",i)}))}jobAdded(){this._processWork()}openPort(){const e=new MessageChannel;return this._post({type:p,port:e.port2}),e.port1}_processWork(){if(this._outJobs.size>=2)return;const e=this._jobQueue?.pop()??this._lowPriorityJobQueue?.pop();if(!e)return;const{methodName:t,data:r,invokeOptions:n,resolver:i}=e;this.apply(t,r,n).then((e=>i.resolve(e))).catch((e=>i.reject(e)))}_close(){this._channel&&(this._channel=void 0),this._port.removeEventListener("message",this._onMessage),this._port.close(),this._outJobs.forEach((e=>{i.removeMaybe(e.abortHandle),e.reject(o.createAbortError(`Worker closing, aborting job calling '${e.debugInfo}'`))})),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=null,this._client=null,this._schedule=null}_onMessage(e){null!=this._schedule?this._schedule((()=>this._processMessage(e,!0))):this._processMessage(e,!1)}_processMessage(e,t){const r=l.receiveMessage(e);if(r)switch(r.type){case h:this._onResponseMessage(r);break;case f:t?this._onInvokeMessage(r):this._invokeQueue.push(r);break;case d:this._onAbortMessage(r);break;case u:this._onCloseMessage();break;case p:this._onOpenPortMessage(r);break;case y:this._onOnMessage(r)}}_onAbortMessage(e){const t=this._inJobs,r=e.jobId,n=t.get(r);this._invokeQueue.push(e),n&&(n.controller&&n.controller.abort(),t.delete(r))}_onCloseMessage(){const e=this._client;this._close(),e&&"destroy"in e&&g.clients.get(this)===e&&e.destroy(),g.clients.delete(this),e?.remoteClient&&(e.remoteClient=null)}_onInvokeMessage(e){const{methodName:t,jobId:r,data:n=[],abortable:i}=e,s=i?new AbortController:null,a=this._inJobs;let c,u=this._client,d=u[t];try{if(!d&&t&&t.includes(".")){const e=t.split(".");for(let t=0;t<e.length-1;t++)u=u[e[t]],d=u[e[t+1]]}if("function"!=typeof d)throw new TypeError(`${t} is not a function`);n.push({client:this,signal:s?s.signal:null}),c=d.apply(u,n)}catch(e){return void this._post({type:h,jobId:r,error:l.toInvokeError(e)})}o.isPromiseLike(c)?(a.set(r,{controller:s,promise:c}),c.then((e=>{a.has(r)&&(a.delete(r),this._post({type:h,jobId:r},e))}),(e=>{a.has(r)&&(a.delete(r),o.isAbortError(e)||this._post({type:h,jobId:r,error:l.toInvokeError(e||{message:`Error encountered at method ${t}`})}))}))):this._post({type:h,jobId:r},c)}_onOpenPortMessage(e){new g(e.port,{client:this._client})}_onOnMessage(e){const{port:t}=e,n=this._client.on(e.eventType,(e=>{t.postMessage(e)})),i=r.on(e.port,"message",(e=>{const r=l.receiveMessage(e);r?.type===l.MessageType.CLOSE&&(i.remove(),n.remove(),t.close())}))}_onResponseMessage(e){const{jobId:r,error:n,data:o}=e,s=this._outJobs;if(!s.has(r))return;const a=s.get(r);s.delete(r),this._processWork(),i.removeMaybe(a.abortHandle),n?a.reject(t.fromJSON(JSON.parse(n))):a.resolve(o)}_post(e,t,r){return l.postMessage(this._port,e,t,r)}}return g}))},"esri/kernel":function(){define(["require","exports","./core/has","./core/urlUtils","./support/revision"],(function(e,t,r,n,i){"use strict";Symbol.dispose??=Symbol("Symbol.dispose"),Symbol.asyncDispose??=Symbol("Symbol.asyncDispose");const o="4.33";t.fullVersion=o;{const e="4.33.11";t.fullVersion=e}if(t.id=void 0,r("host-webworker")||globalThis.$arcgis||Object.defineProperty(globalThis,"$arcgis",{configurable:!1,enumerable:!0,writable:!1,value:{}}),!r("host-webworker")){console.info(`Using ArcGIS Maps SDK for JavaScript ${t.fullVersion} [Date: ${i.buildDate}, Revision: ${i.commitHash.slice(0,8)}]`);{let e;"function"==typeof globalThis.require&&(e=globalThis.require);const t=t=>{if(!e)return Promise.reject("global AMD `require` function not found");const r=t.startsWith("@arcgis/core/")?t.replace("@arcgis/core/","esri/").replace(/.js$/,""):t;return new Promise((t=>e([r],(e=>{t(e)}))))},r=e=>{const t=globalThis.$arcgis.importMap?.imports;return t&&e in t?t[e]:null},i=e=>{let i;const o=r(e);return o?(i=!0,e=o):i=e.startsWith("/")||e.startsWith("./")||e.startsWith("../")||n.isAbsolute(e),i?import(e):t(e)};Object.defineProperty(globalThis.$arcgis,"import",{configurable:!1,enumerable:!0,writable:!1,value:e=>Array.isArray(e)?Promise.all(e.map(i)):i(e)})}}t.buildDate=i.buildDate,t.revision=i.commitHash,t.addTokenParameter=function(e){const r=t.id?.findCredential(e);return r?.token?n.addQueryParameter(e,"token",r.token):e},t.setId=function(e){t.id=e},t.version=o,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}))},"esri/core/urlUtils":function(){define(["exports","../config","./arrayUtils","./Error","./Logger","./support/jsonUtils","../portal/support/urlUtils","../support/base64Utils"],(function(e,t,r,n,i,o,s,a){"use strict";const l=t.request,c="esri/config: esriConfig.request.proxyUrl is not set.",u=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,d=/^\s*http:/i,f=/^\s*https:/i,h=/^\s*file:/i,p=/:\d+$/,y=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,m=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),g=new RegExp("^((([^[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^[:]*))(:([0-9]+))?$");class _{constructor(e=""){this.uri=e,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let t=this.uri.match(m);this.scheme=t[2]||(t[1]?"":null),this.authority=t[4]||(t[3]?"":null),this.path=t[5],this.query=t[7]||(t[6]?"":null),this.fragment=t[9]||(t[8]?"":null),null!=this.authority&&(t=this.authority.match(g),this.user=t[3]||null,this.password=t[4]||null,this.host=t[6]||t[7],this.port=t[9]||null)}toString(){return this.uri}}const T={},S=new _(t.applicationUrl);let x=S;const b=function(){const e=x.path,t=e.slice(0,e.lastIndexOf("/")+1);return`${x.scheme}://${x.host}${null!=x.port?`:${x.port}`:""}${t}`}();let E=b;const v={setAppUrl:e=>x=e,setAppBaseUrl:e=>E=e,restoreUrls:()=>{x=S,E=b}};function w(e){if(!e)return null;const t={path:null,query:null},r=new _(e),n=e.indexOf("?");return null===r.query?t.path=e:(t.path=e.slice(0,n),t.query=P(r.query)),r.fragment&&(t.hash=r.fragment,null===r.query&&(t.path=t.path.slice(0,t.path.length-(r.fragment.length+1)))),t}function P(e){const t=e.split("&"),r={};for(const e of t){if(!e)continue;const t=e.indexOf("=");let n,i;t<0?(n=decodeURIComponent(e),i=""):(n=decodeURIComponent(e.slice(0,t)),i=decodeURIComponent(e.slice(t+1)));let o=r[n];"string"==typeof o&&(o=r[n]=[o]),Array.isArray(o)?o.push(i):r[n]=i}return r}function A(e,t){return e?t&&"function"==typeof t?Object.keys(e).map((r=>encodeURIComponent(r)+"="+encodeURIComponent(t(r,e[r])))).join("&"):Object.keys(e).map((r=>{const n=e[r];if(null==n)return"";const i=encodeURIComponent(r)+"=",s=t?.[r];return s?i+encodeURIComponent(s(n)):Array.isArray(n)?n.map((e=>o.isSerializable(e)?i+encodeURIComponent(JSON.stringify(e)):i+encodeURIComponent(e))).join("&"):o.isSerializable(n)?i+encodeURIComponent(JSON.stringify(n)):i+encodeURIComponent(n)})).filter((e=>e)).join("&"):""}function M(e=!1){let t,r=l.proxyUrl;if("string"==typeof e){t=Y(e);const n=D(e);n&&(r=n.proxyUrl)}else t=!!e;if(!r)throw i.getLogger("esri.core.urlUtils").warn(c),new n("urlUtils:proxy-not-set",c);return t&&K()&&(r=J(r)),w(r)}const I={path:"",query:""};function O(e){const t=e.indexOf("?");return-1!==t?(I.path=e.slice(0,t),I.query=e.slice(t+1)):(I.path=e,I.query=null),I}function R(e){return(e=X(e=Q(e=O(e).path),!0)).toLowerCase()}function D(e){const t=l.proxyRules,r=R(e);for(let e=0;e<t.length;e++)if(0===r.indexOf(t[e].urlPrefix))return t[e]}function N(e){const t=(e=k(e)).indexOf("/sharing");return t>0?e.slice(0,t):e.replace(/\/+$/,"")}function C(e,t,r=!1){if(!e||!t)return!1;const n=ee(e),i=ee(t);return!(!r&&n.scheme!==i.scheme)&&null!=n.host&&null!=i.host&&n.host.toLowerCase()===i.host.toLowerCase()&&n.port===i.port}function L(e,t=E,r){return $(e)?r?.preserveProtocolRelative?e:"http"===x.scheme&&x.authority===F(e).slice(2)?`http:${e}`:`https:${e}`:Z(e)?e:U("/"===e[0]?function(e){const t=e.indexOf("//"),r=e.indexOf("/",t+2);return-1===r?e:e.slice(0,r)}(t):t,e)}function k(e){return function(e){const t=l.httpsDomains;if(!function(e){return null!=e&&d.test(e)||"http"===x.scheme&&$(e)}(e))return e;const r=e.indexOf("/",7);let n;if(n=-1===r?e:e.slice(0,r),n=n.toLowerCase().slice(7),p.test(n)){if(!n.endsWith(":80"))return e;n=n.slice(0,-3),e=e.replace(":80","")}return"http"!==x.scheme||n!==x.authority||y.test(e)?((K()&&n===x.authority||t&&t.some((e=>n===e||n.endsWith(`.${e}`)))||K()&&!D(e))&&(e=J(e)),e):e}(e=function(e){return e.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}(e=function(e){if(/^https?:\/\//i.test(e)){const t=O(e);e=(e=t.path.replaceAll(/\/{2,}/g,"/")).replace("/","//"),t.query&&(e+=`?${t.query}`)}return e}(e=L(e=e.trim()))))}function U(...e){const t=e.filter(r.isSome);if(!t?.length)return;const n=[];if(G(t[0])){const e=t[0],r=e.indexOf("//");-1!==r&&(n.push(e.slice(0,r+1)),null!=(i=t[0])&&h.test(i)&&(n[0]+="/"),t[0]=e.slice(r+2))}else"/"===t[0][0]&&n.push("");var i;const o=t.reduce(((e,t)=>t?e.concat(t.split("/")):e),[]);for(let e=0;e<o.length;e++){const t=o[e];".."===t&&n.length>0&&".."!==n[n.length-1]?n.pop():(!t&&e===o.length-1||t&&("."!==t||0===n.length))&&n.push(t)}return n.join("/")}function F(e,t=!1){if(null==e||B(e)||j(e))return null;let r=e.indexOf("://");if(-1===r&&$(e))r=2;else{if(-1===r)return null;r+=3}const n=e.indexOf("/",r);return-1!==n&&(e=e.slice(0,n)),t&&(e=X(e,!0)),e}function G(e){return $(e)||Z(e)}function B(e){return null!=e&&"blob:"===e.slice(0,5)}function j(e){return null!=e&&"data:"===e.slice(0,5)}function V(e){const t=W(e);return t?.isBase64?a.base64ToArrayBuffer(t.data):null}const z=/^data:(.*?)(;base64)?,(.*)$/;function W(e){const t=e.match(z);if(!t)return null;const[,r,n,i]=t;return{mediaType:r,isBase64:!!n,data:i}}function q(e){const t=V(e);if(!t)return null;const r=W(e);return new Blob([t],{type:r.mediaType})}function H(e,t){if(!e)return!1;const r=document.createElement("a");if(!("download"in r))return!1;const n=URL.createObjectURL(e);return r.download=t,r.href=n,r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n),!0}function $(e){return null!=e&&"/"===e[0]&&"/"===e[1]}function Z(e){return null!=e&&u.test(e)}function Y(e){return null!=e&&f.test(e)||"https"===x.scheme&&$(e)}function J(e){return $(e)?`https:${e}`:e.replace(d,"https:")}function K(){return"https"===x.scheme}function X(e,t=!1){return $(e)?e.slice(2):(e=e.replace(u,""),t&&e.length>1&&"/"===e[0]&&"/"===e[1]&&(e=e.slice(2)),e)}function Q(e){return e.endsWith("/")?e:`${e}/`}function ee(e){return"string"==typeof e?new _(L(e)):(e.scheme||(e.scheme=x.scheme),e)}const te=/([^.]*)\.([^/]*)$/,re=/(^data:image\/svg|\.svg$)/i;e.Url=_,e.addProxy=function(e,t=!1){const r=D(e);let n,i;if(r){const e=O(r.proxyUrl);n=e.path,i=e.query?P(e.query):null}else if(t){const t=M(e);n=t.path,i=t.query}if(n){const t=w(e);e=n+"?"+t.path;const r=A({...i,...t.query});r&&(e=`${e}?${r}`)}return e},e.addProxyRule=function(e){const t={proxyUrl:e.proxyUrl,urlPrefix:R(e.urlPrefix)},r=l.proxyRules,n=t.urlPrefix;let i=r.length;for(let e=0;e<r.length;e++){const t=r[e].urlPrefix;if(0===n.indexOf(t)){if(n.length===t.length)return-1;i=e;break}0===t.indexOf(n)&&(i=e+1)}return r.splice(i,0,t),i},e.addQueryParameter=function(e,t,r){const n=w(e),i=n.query||{};return i[t]=String(r),`${n.path}?${A(i)}`},e.addQueryParameters=function(e,t){if(!t)return e;const r=w(e),n=r.query||{};for(const[e,r]of Object.entries(t))null!=r&&(n[e]=r);const i=A(n);return i?`${r.path}?${i}`:r.path},e.base64UrlEncode=function(e){return a.arrayBufferToBase64(e).replaceAll("+","-").replaceAll("/","_").replace(/=+$/,"")},e.blobUrlToBlob=async function(e){return(await fetch(e)).blob()},e.changeDomain=function(e,t,r){if(!(t&&r&&e&&G(e)))return e;const n=e.indexOf("//"),i=e.indexOf("/",n+2),o=e.indexOf(":",n+2),s=Math.min(i<0?e.length:i,o<0?e.length:o);return e.slice(n+2,s).toLowerCase()!==t.toLowerCase()?e:`${e.slice(0,n+2)}${r}${e.slice(s)}`},e.changeHost=function(e,t){const r=new URL(e);return r.host=t,r.port&&!p.test(t)&&(r.port=""),r.toString()},e.dataComponents=W,e.dataToArrayBuffer=V,e.dataToBlob=q,e.downloadBlobAsFile=function(e,t){H(e,t)},e.downloadDataAsFile=function(e,t){!function(e,t){const r=q(e);if(!r)return!1;H(r,t)}(e,t)},e.ensureTrailingSlash=Q,e.getAppBaseUrl=()=>E,e.getAppUrl=()=>x,e.getFilename=function(e,t){if(!e)return"";const r=w(e).path.replace(/\/+$/,""),n=r.slice(r.lastIndexOf("/")+1);if(!t?.length)return n;const i=new RegExp(`\\.(${t.join("|")})$`,"i");return n.replace(i,"")},e.getHost=function(e){return new URL(e).host},e.getInterceptor=function(e,t=l.interceptors){const r=t=>t instanceof RegExp?t.test(e):"string"==typeof t?e.startsWith(t):null==t;if(t)for(const e of t)if(Array.isArray(e.urls)){if(e.urls.some(r))return e}else if(r(e.urls))return e;return null},e.getOrigin=F,e.getPathExtension=function(e){if(null==e)return null;const t=e.match(te);return t?t[2]:null},e.getProxyRule=D,e.getProxyUrl=M,e.hasProtocol=Z,e.hasSameCanonicalArcGISOnlinePortal=function(e,t){if(!e||!t)return!1;e=N(e),t=N(t);const r=s.parseKnownArcGISOnlineDomain(e),n=s.parseKnownArcGISOnlineDomain(t);return null!=r&&null!=n&&r.portalHostname===n.portalHostname},e.hasSameCanonicalPortal=function(e,t){if(!e||!t)return!1;e=N(e),t=N(t);const r=s.parseKnownArcGISOnlineDomain(e),n=s.parseKnownArcGISOnlineDomain(t);return null!=r&&null!=n?r.portalHostname===n.portalHostname:null==r&&null==n&&C(e,t,!0)},e.hasSameOrigin=C,e.hasSamePortal=function(e,t){return e=N(e),t=N(t),X(e)===X(t)},e.isAbsolute=G,e.isAppHTTPS=K,e.isBlobProtocol=B,e.isDataProtocol=j,e.isHTTPSProtocol=Y,e.isProtocolRelative=$,e.isSVG=function(e){return re.test(e)},e.isTrustedServer=function(e){if("string"==typeof e){if(!G(e))return!0;e=ee(e)}if(C(e,x))return!0;const t=l.trustedServers||[];for(let n=0;n<t.length;n++){const i=(r=t[n],T[r]||(Z(r)||$(r)?T[r]=[new _(L(r))]:T[r]=[new _(`http://${r}`),new _(`https://${r}`)]),T[r]);for(let t=0;t<i.length;t++)if(C(e,i[t]))return!0}var r;return!1},e.join=U,e.makeAbsolute=L,e.makeData=function(e){return e.isBase64?`data:${e.mediaType};base64,${e.data}`:`data:${e.mediaType},${e.data}`},e.makeRelative=function(e,t=E,r){if(null==e||!G(e))return e;const n=k(e),i=n.toLowerCase(),o=k(t).toLowerCase().replace(/\/+$/,""),s=r?k(r).toLowerCase().replace(/\/+$/,""):null;if(s&&0!==o.indexOf(s))return e;const a=(e,t,r)=>-1===(r=e.indexOf(t,r))?e.length:r;let l=a(i,"/",i.indexOf("//")+2),c=-1;for(;i.slice(0,l+1)===o.slice(0,l)+"/"&&(c=l+1,l!==i.length);)l=a(i,"/",l+1);if(-1===c)return e;if(s&&c<s.length)return e;e=n.slice(c);const u=o.slice(c-1).replaceAll(/[^/]+/g,"").length;if(u>0)for(let t=0;t<u;t++)e=`../${e}`;else e=`./${e}`;return e},e.normalize=k,e.objectToQuery=A,e.parseData=async function(e){return"string"==typeof e?W(e)??{data:e}:new Promise(((t,r)=>{const n=new FileReader;n.readAsDataURL(e),n.onload=()=>t(W(n.result)),n.onerror=e=>r(e)}))},e.queryToObject=P,e.removeFile=function(e){let t=0;if(G(e)){const r=e.indexOf("//");-1!==r&&(t=r+2)}const r=e.lastIndexOf("/");return r<t?e:e.slice(0,r+1)},e.removeQueryParameter=function(e,t){const{path:r,query:n}=w(e);if(!n)return e;delete n[t];const i=A(n);return i?`${r}?${i}`:r},e.removeQueryParameters=function(e,t){const r=w(e),n=Object.keys(r.query||{});return n.length>0&&t&&t.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${n.join(", ")}.`),r.path},e.removeTrailingSlash=function(e){return e.replace(/\/+$/,"")},e.splitPathExtension=function(e){if(null==e)return null;const t=e.match(te);return t?{path:t[1],extension:t[2]}:{path:e,extension:null}},e.test=v,e.toHTTP=function(e){return $(e)?`http:${e}`:e.replace(f,"http:")},e.toHTTPS=J,e.trustedServersUrlCache=T,e.urlToObject=w,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/core/support/jsonUtils":function(){define(["exports"],(function(e){"use strict";e.isSerializable=function(e){return e&&"object"==typeof e&&"toJSON"in e&&"function"==typeof e.toJSON},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/portal/support/urlUtils":function(){define(["exports"],(function(e){"use strict";const t=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,r={devext:{customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},qaext:{customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};e.isSecureProxyService=function(e){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(e)},e.normalizeArcGISOnlineOrgDomain=function(e){const t=/^https?:\/\/(?:cdn|[a-z\d-]+\.maps)\.arcgis\.com/i,r=/^https?:\/\/(?:cdndev|[a-z\d-]+\.mapsdevext)\.arcgis\.com/i,n=/^https?:\/\/(?:cdnqa|[a-z\d-]+\.mapsqa)\.arcgis\.com/i;return t.test(e)?e=e.replace(t,"https://www.arcgis.com"):r.test(e)?e=e.replace(r,"https://devext.arcgis.com"):n.test(e)&&(e=e.replace(n,"https://qaext.arcgis.com")),e},e.parseKnownArcGISOnlineDomain=function(e){const n=e?.match(t);if(!n)return null;const[,i,o,s]=n;if(!i)return null;let a=null,l=null,c=null;const{devext:u,qaext:d,www:f}=r;if(o)if(a=i,s)switch(s.toLowerCase()){case"devext":({customBaseUrl:l,portalHostname:c}=u);break;case"qa":({customBaseUrl:l,portalHostname:c}=d);break;default:return null}else({customBaseUrl:l,portalHostname:c}=f);else switch(i.toLowerCase()){case"devext":({customBaseUrl:l,portalHostname:c}=u);break;case"qaext":({customBaseUrl:l,portalHostname:c}=d);break;case"www":({customBaseUrl:l,portalHostname:c}=f);break;default:return null}return{customBaseUrl:l,isPortal:!1,portalHostname:c,urlKey:a}},e.reArcGISOnlineDomain=t,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/support/base64Utils":function(){define(["exports"],(function(e){"use strict";e.arrayBufferToBase64=function(e){const t=new Uint8Array(e);let r="";for(let e=0;e<t.length;e++)r+=String.fromCharCode(t[e]);return btoa(r)},e.base64ToArrayBuffer=function(e){const t=atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r.buffer},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/support/revision":function(){define(["exports"],(function(e){"use strict";e.buildDate="20250729",e.commitHash="6617c2268829fa5b8cc30e70d4b69d6197b7cb48",Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/core/workers/InvokeHandler":function(){define(["exports"],(function(e){"use strict";e.createInvokeProxy=function(e,t){return new Proxy({},{get:(r,n,i)=>(...r)=>{let i,o;const s=r[r.length-1];var a;return"object"!=typeof(a=s)||Array.isArray(a)||null==a||!("signal"in a)&&!("transferList"in a)&&0!==Object.keys(a).length||(i=s.signal,o=s.transferList,r.pop()),e.apply(t?`${t}.${n.toString()}`:n.toString(),r,{transferList:o,signal:i})}})},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/core/workers/registry":function(){define(["require","exports"],(function(e,t){"use strict";const r=e=>Object.freeze(Object.defineProperty({__proto__:null,default:e},Symbol.toStringTag,{value:"Module"})),n={statsWorker:()=>new Promise(((t,r)=>e(["../../smartMapping/statistics/support/statsWorker"],t,r))),geometryEngineWorker:()=>new Promise(((t,r)=>e(["../../geometry/geometryEngineWorker"],t,r))),arcadeGeometryOperatorsWorker:()=>new Promise(((t,r)=>e(["../../arcade/geometry/operatorsWorker"],t,r))),CSVSourceWorker:()=>new Promise(((t,n)=>e(["../../layers/graphics/sources/support/CSVSourceWorker"],(e=>t(r(e))),n))),EdgeProcessingWorker:()=>new Promise(((t,n)=>e(["../../views/3d/webgl-engine/lib/edgeRendering/EdgeProcessingWorker"],(e=>t(r(e))),n))),ElevationSamplerWorker:()=>new Promise(((t,n)=>e(["../../geometry/support/meshUtils/ElevationSamplerWorker"],(e=>t(r(e))),n))),FeatureServiceSnappingSourceWorker:()=>new Promise(((t,n)=>e(["../../views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceSnappingSourceWorker"],(e=>t(r(e))),n))),GeoJSONSourceWorker:()=>new Promise(((t,n)=>e(["../../layers/graphics/sources/geojson/GeoJSONSourceWorker"],(e=>t(r(e))),n))),LercWorker:()=>new Promise(((t,n)=>e(["../../layers/support/LercWorker"],(e=>t(r(e))),n))),MemorySourceWorker:()=>new Promise(((t,n)=>e(["../../layers/graphics/sources/support/MemorySourceWorker"],(e=>t(r(e))),n))),PBFDecoderWorker:()=>new Promise(((t,n)=>e(["../../views/3d/support/PBFDecoderWorker"],(e=>t(r(e))),n))),FeaturePipelineWorker:()=>new Promise(((t,n)=>e(["../../views/2d/layers/features/FeaturePipelineWorker"],(e=>t(r(e))),n))),PointCloudWorker:()=>new Promise(((t,n)=>e(["../../views/3d/layers/PointCloudWorker"],(e=>t(r(e))),n))),RasterWorker:()=>new Promise(((t,n)=>e(["../../layers/support/RasterWorker"],(e=>t(r(e))),n))),SceneLayerSnappingSourceWorker:()=>new Promise(((t,n)=>e(["../../views/interactive/snapping/featureSources/sceneLayerSource/SceneLayerSnappingSourceWorker"],(e=>t(r(e))),n))),SceneLayerWorker:()=>new Promise(((t,r)=>e(["../../views/3d/layers/SceneLayerWorker"],t,r))),WFSSourceWorker:()=>new Promise(((t,n)=>e(["../../layers/graphics/sources/WFSSourceWorker"],(e=>t(r(e))),n))),WorkerTileHandler:()=>new Promise(((t,n)=>e(["../../views/2d/engine/vectorTiles/WorkerTileHandler"],(e=>t(r(e))),n))),Lyr3DWorker:()=>new Promise(((t,r)=>e(["../../views/3d/layers/Lyr3DWorker"],t,r))),Feature3DPipelineWorker:()=>new Promise(((t,n)=>e(["../../views/3d/layers/graphics/pipeline/Feature3DPipelineWorker"],(e=>t(r(e))),n))),TextureCompressionWorker:()=>new Promise(((t,r)=>e(["../../views/support/TextureCompressionWorker"],t,r)))};t.registry=n,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}))},"esri/core/workers/utils":function(){define(["exports","../has","../promiseUtils"],(function(e,t,r){"use strict";const n="worker:port-closed";var i;e.MessageType=void 0,(i=e.MessageType||(e.MessageType={}))[i.HANDSHAKE=0]="HANDSHAKE",i[i.OPEN=1]="OPEN",i[i.OPENED=2]="OPENED",i[i.RESPONSE=3]="RESPONSE",i[i.INVOKE=4]="INVOKE",i[i.ABORT=5]="ABORT",i[i.CLOSE=6]="CLOSE",i[i.OPEN_PORT=7]="OPEN_PORT",i[i.ON=8]="ON";let o=0;function s(e){return e&&"object"==typeof e&&("result"in e||"transferList"in e)}function a(e){return e?"string"==typeof e?JSON.stringify({name:"message",message:e}):e.toJSON?JSON.stringify(e):JSON.stringify({name:e.name,message:e.message,details:e.details||{stack:e.stack}}):null}function l(e){if(!e?.length)return null;if(t("esri-workers-arraybuffer-transfer"))return e;const r=e.filter((e=>{return!((t=e)instanceof ArrayBuffer||"ArrayBuffer"===t?.constructor?.name);var t}));return r.length?r:null}e.ignoreConnectionErrors=async function(e){try{return await e}catch(e){const t=e?.name===n;if(!r.isAbortError(e)&&!t)throw e;return}},e.isTransferrableResult=s,e.newJobId=function(){return o++},e.portClosedErrorName=n,e.postMessage=function r(n,i,o,c){if(i.type===e.MessageType.OPEN_PORT)return void n.postMessage(i,[i.port]);if(i.type!==e.MessageType.INVOKE&&i.type!==e.MessageType.RESPONSE)return void n.postMessage(i);let u;if(s(o)?(u=l(o.transferList),i.data=o.result):(u=l(c),i.data=o),u){if(t("ff"))for(const t of u)if("byteLength"in t&&t.byteLength>267386880){const t="Worker call with large ArrayBuffer would crash Firefox";switch(i.type){case e.MessageType.INVOKE:throw t;case e.MessageType.RESPONSE:return void r(n,{type:e.MessageType.RESPONSE,jobId:i.jobId,error:a(t)})}}n.postMessage(i,u)}else n.postMessage(i)},e.receiveMessage=function(e){if(!e)return null;const t=e.data;return t?"string"==typeof t?JSON.parse(t):t:null},e.toInvokeError=a,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/core/workers/request":function(){define(["exports","../Error"],(function(e,t){"use strict";e.execute=function(e,r){let n=r.responseType;n?"array-buffer"!==n&&"blob"!==n&&"json"!==n&&"native"!==n&&"native-request-init"!==n&&"text"!==n&&(n="text"):n="json",r.responseType=n;const i=r.signal;return delete r.signal,globalThis.invokeStaticMessage("request",{url:e,options:r},{signal:i}).then((async o=>{let s,a,l,c,u;if(o.data)if(o.data instanceof ArrayBuffer){if(!("json"!==n&&"text"!==n&&"blob"!==n||(s=new Blob([o.data]),"json"!==n&&"text"!==n||(c=await s.text(),"json"!==n)))){try{a=JSON.parse(c||null)}catch(n){const i={...n,url:e,requestOptions:r};throw new t("request:server",n.message,i)}if(a.error){const n={...a.error,url:e,requestOptions:r};throw new t("request:server",a.error.message,n)}}}else"native"===n&&(o.data.signal=i,l=await fetch(o.data.url,o.data),o.httpStatus=l.status);switch(n){case"blob":u=s;break;case"json":u=a;break;case"native":u=l;break;case"text":u=c;break;default:u=o.data}return{data:u,httpStatus:o.httpStatus,requestOptions:r,ssl:o.ssl,url:e}}))},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/geometry":function(){define(["exports","./core/deprecate","./core/Logger","./geometry/Extent","./geometry/Multipoint","./geometry/Point","./geometry/Polygon","./geometry/Polyline","./geometry/SpatialReference"],(function(e,t,r,n,i,o,s,a,l){"use strict";const c=n,u=i,d=o,f=s,h=a,p=l;t.deprecatedModule(r.getLogger("esri.geometry"),"esri.geometry",{replacement:"Individual geometry module imports",version:"4.32",warnOnce:!0}),e.Extent=c,e.Multipoint=u,e.Point=d,e.Polygon=f,e.Polyline=h,e.SpatialReference=p,e.__exported__=function(){},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/core/deprecate":function(){define(["exports","./has"],(function(e,t){"use strict";const r=new WeakMap,n="https://www.esriurl.com/";function i(e,n,i={}){if(t("esri-deprecation-warnings")){const{replacement:t,version:o,see:s,warnOnce:a}=i;let l=n;if(t&&(l+=`\n\t🛠️ Replacement: ${t}`),o&&(l+=`\n\t⚙️ Version: ${o}`),s)if(Array.isArray(s)){l+="\n\t🔗 See for more details:";for(const e of s)l+=`\n\t\t${e}`}else l+=`\n\t🔗 See ${s} for more details.`;!function(e,t,n=!1){const i=`🛑 DEPRECATED - ${t}`;if(!n)return void e.warn(i);let o=r.get(e);o||(o=new Set,r.set(e,o)),o.has(t)||(o.add(t),e.warn(i))}(e,l,a)}}e.deprecateUnnecessaryViewModel=function(e,r,o,s={}){t("esri-deprecation-warnings")&&i(e,`This view model is deprecated. Use the ${r} component directly instead.`,{see:[`${r} component reference: ${n}${o}/`,`Esri's move to web components: ${n}components-transition-plan/`],replacement:`<${o}></${o}>`,warnOnce:!0,...s})},e.deprecateWidget=function(e,r,o,s={}){t("esri-deprecation-warnings")&&i(e,`This widget is deprecated. Use the ${r} component instead.`,{see:[`${r} component reference: ${n}${o}/`,`Esri's move to web components: ${n}components-transition-plan/`],replacement:`<${o}></${o}>`,warnOnce:!0,...s})},e.deprecated=i,e.deprecatedConstructorSignature=function(e,r,n={}){t("esri-deprecation-warnings")&&i(e,`Multiple argument constructor: ${r}`,{warnOnce:!0,replacement:`new ${r}({ <your properties here> })`,...n})},e.deprecatedFunction=function(e,r,n={}){if(t("esri-deprecation-warnings")){const{moduleName:t}=n;i(e,"Function: "+(t?t+"::":"")+r+"()",n)}},e.deprecatedModule=function(e,r,n={}){t("esri-deprecation-warnings")&&i(e,`Module: ${r}`,n)},e.deprecatedProperty=function(e,r,n={}){if(t("esri-deprecation-warnings")){const{moduleName:t}=n;i(e,"Property: "+(t?t+"::":"")+r,n)}},e.deprecatedPropertyValue=function(e,r,n,o={}){if(t("esri-deprecation-warnings")){const{moduleName:t}=o;i(e,`'${(t?t+"::":"")+r}' value: ${n}`,o)}},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/geometry/Extent":function(){define(["exports","../chunks/tslib.es6","../core/string","../core/accessorSupport/decorators/property","../core/has","../core/Logger","../core/RandomLCG","../core/accessorSupport/decorators/subclass","./Geometry","./Point","./SpatialReference","./support/contains","./support/intersectsBase","./support/spatialReferenceUtils","./support/webMercatorUtils"],(function(e,t,r,n,i,o,s,a,l,c,u,d,f,h,p){"use strict";var y;function m(e,t,r){return null==t?r:null==r?t:e(t,r)}function g(e,t){const[r,n]=t.valid,i=2*n;let o,s=0;return e>n?(o=Math.ceil(Math.abs(e-n)/i),e-=o*i,s=o):e<r&&(o=Math.ceil(Math.abs(e-r)/i),e+=o*i,s=-o),{x:e,frameId:s}}return e.default=y=class extends l{constructor(...e){super(...e),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(e,t,r,n,i){return!(o=e)||"esri.geometry.SpatialReference"!==o.declaredClass&&null==o.wkid?"object"==typeof e?(e.spatialReference=null==e.spatialReference?u.WGS84:e.spatialReference,e):{xmin:e,ymin:t,xmax:r,ymax:n,spatialReference:i??u.WGS84}:{spatialReference:e,xmin:0,ymin:0,xmax:0,ymax:0};var o}static fromPoint(e){return new y({xmin:e.x,ymin:e.y,zmin:e.z,xmax:e.x,ymax:e.y,zmax:e.z,spatialReference:e.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const e=new c({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(e.z=.5*(this.zmin+this.zmax)),this.hasM&&(e.m=.5*(this.mmin+this.mmax)),e}get extent(){return this.clone()}get hasM(){return null!=this.mmin&&null!=this.mmax}get hasZ(){return null!=this.zmin&&null!=this.zmax}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(e){const t=this.center;return null!=e.z&&this.hasZ?this.offset(e.x-t.x,e.y-t.y,e.z-t.z):this.offset(e.x-t.x,e.y-t.y)}clone(){const e=new y;return e.xmin=this.xmin,e.ymin=this.ymin,e.xmax=this.xmax,e.ymax=this.ymax,e.spatialReference=this.spatialReference,null!=this.zmin&&(e.zmin=this.zmin,e.zmax=this.zmax),null!=this.mmin&&(e.mmin=this.mmin,e.mmax=this.mmax),e}contains(e){if(!e)return!1;const t=this.spatialReference,r=e.spatialReference;return t&&r&&!t.equals(r)&&p.canProject(t,r)&&(e=t.isWebMercator?p.geographicToWebMercator(e):p.webMercatorToGeographic(e,!0)),"point"===e.type?d.extentContainsPoint(this,e):"extent"===e.type&&d.extentContainsExtent(this,e)}equals(e){if(this===e)return!0;if(null==e)return!1;const t=this.spatialReference,r=e.spatialReference;return t&&r&&!t.equals(r)&&p.canProject(t,r)&&(e=t.isWebMercator?p.geographicToWebMercator(e):p.webMercatorToGeographic(e,!0)),this.xmin===e.xmin&&this.ymin===e.ymin&&this.zmin===e.zmin&&this.mmin===e.mmin&&this.xmax===e.xmax&&this.ymax===e.ymax&&this.zmax===e.zmax&&this.mmax===e.mmax}expand(e){const t=.5*(1-e),r=this.width*t,n=this.height*t;if(this.xmin+=r,this.ymin+=n,this.xmax-=r,this.ymax-=n,this.hasZ){const e=(this.zmax-this.zmin)*t;this.zmin+=e,this.zmax-=e}if(this.hasM){const e=(this.mmax-this.mmin)*t;this.mmin+=e,this.mmax-=e}return this}intersects(e){if(null==e)return!1;"mesh"===e.type&&(e=e.extent);const t=this.spatialReference,r=e.spatialReference;return t&&r&&!h.equals(t,r)&&p.canProject(t,r)&&(e=t.isWebMercator?p.geographicToWebMercator(e):p.webMercatorToGeographic(e,!0)),f.getFeatureExtentIntersector(e.type)(this,e)}normalize(){const e=this._normalize(!1,!0);return Array.isArray(e)?e:[e]}offset(e,t,r){return this.xmin+=e,this.ymin+=t,this.xmax+=e,this.ymax+=t,null!=r&&(this.zmin+=r,this.zmax+=r),this}shiftCentralMeridian(){return this._normalize(!0)}union(e){return this===e||(this.xmin=Math.min(this.xmin,e.xmin),this.ymin=Math.min(this.ymin,e.ymin),this.xmax=Math.max(this.xmax,e.xmax),this.ymax=Math.max(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=m(Math.min,this.zmin,e.zmin),this.zmax=m(Math.max,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=m(Math.min,this.mmin,e.mmin),this.mmax=m(Math.max,this.mmax,e.mmax))),this}intersection(e){return this===e?this:null!=e&&this.intersects(e)?(this.xmin=Math.max(this.xmin,e.xmin),this.ymin=Math.max(this.ymin,e.ymin),this.xmax=Math.min(this.xmax,e.xmax),this.ymax=Math.min(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=m(Math.max,this.zmin,e.zmin),this.zmax=m(Math.min,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=m(Math.max,this.mmin,e.mmin),this.mmax=m(Math.min,this.mmax,e.mmax)),this):null}toJSON(e){return this.write({},e)}_shiftCM(e=h.getInfo(this.spatialReference)){if(!e||!this.spatialReference)return this;const t=this.spatialReference,n=this._getCM(e);if(n){const i=t.isWebMercator?p.webMercatorToGeographic(n):n;this.xmin-=n.x,this.xmax-=n.x,t.isWebMercator||(i.x=g(i.x,e).x),this.spatialReference=new u(r.replace((t.isWGS84?e.altTemplate:null)??e.wkTemplate,{Central_Meridian:i.x}))}return this}_getCM(e){let t=null;const[r,n]=e.valid,i=this.xmin,o=this.xmax;return i>=r&&i<=n&&o>=r&&o<=n||(t=this.center),t}_normalize(e,t,r){const n=this.spatialReference;if(!n)return this;const i=r??h.getInfo(n);if(null==i)return this;const o=this._getParts(i).map((e=>e.extent));if(o.length<2)return o[0]||this;if(o.length>2)return e?this._shiftCM(i):this.set({xmin:i.valid[0],xmax:i.valid[1]});if(e)return this._shiftCM(i);if(t)return o;let s=!0,a=!0;return o.forEach((e=>{e.hasZ||(s=!1),e.hasM||(a=!1)})),{rings:o.map((e=>{const t=[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]];if(s){const r=(e.zmax-e.zmin)/2;for(let e=0;e<t.length;e++)t[e].push(r)}if(a){const r=(e.mmax-e.mmin)/2;for(let e=0;e<t.length;e++)t[e].push(r)}return t})),hasZ:s,hasM:a,spatialReference:n}}_getParts(e){let t=this.cache._parts;if(!t){t=[];const{ymin:r,ymax:n,spatialReference:i}=this,o=this.width,s=this.xmin,a=this.xmax;let l;e=e||h.getInfo(i);const[c,u]=e.valid;l=g(this.xmin,e);const d=l.x,f=l.frameId;l=g(this.xmax,e);const p=l.x,m=l.frameId,_=d===p&&o>0;if(o>2*u){const e=new y(s<a?d:p,r,u,n,i),o=new y(c,r,s<a?p:d,n,i),l=new y(0,r,u,n,i),h=new y(c,r,0,n,i),g=[],_=[];e.contains(l)&&g.push(f),e.contains(h)&&_.push(f),o.contains(l)&&g.push(m),o.contains(h)&&_.push(m);for(let e=f+1;e<m;e++)g.push(e),_.push(e);t.push({extent:e,frameIds:[f]},{extent:o,frameIds:[m]},{extent:l,frameIds:g},{extent:h,frameIds:_})}else d>p||_?t.push({extent:new y(d,r,u,n,i),frameIds:[f]},{extent:new y(c,r,p,n,i),frameIds:[m]}):t.push({extent:new y(d,r,p,n,i),frameIds:[f]});this.cache._parts=t}const r=this.hasZ,n=this.hasM;if(r||n){const e={};r&&(e.zmin=this.zmin,e.zmax=this.zmax),n&&(e.mmin=this.mmin,e.mmax=this.mmax);for(let r=0;r<t.length;r++)t[r].extent.set(e)}return t}},t.__decorate([n.property({readOnly:!0})],e.default.prototype,"cache",null),t.__decorate([n.property({readOnly:!0})],e.default.prototype,"center",null),t.__decorate([n.property({readOnly:!0})],e.default.prototype,"extent",null),t.__decorate([n.property({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],e.default.prototype,"hasM",null),t.__decorate([n.property({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],e.default.prototype,"hasZ",null),t.__decorate([n.property({readOnly:!0})],e.default.prototype,"height",null),t.__decorate([n.property({readOnly:!0})],e.default.prototype,"width",null),t.__decorate([n.property({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],e.default.prototype,"xmin",void 0),t.__decorate([n.property({type:Number,json:{write:!0}})],e.default.prototype,"ymin",void 0),t.__decorate([n.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],e.default.prototype,"mmin",void 0),t.__decorate([n.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],e.default.prototype,"zmin",void 0),t.__decorate([n.property({type:Number,json:{write:!0}})],e.default.prototype,"xmax",void 0),t.__decorate([n.property({type:Number,json:{write:!0}})],e.default.prototype,"ymax",void 0),t.__decorate([n.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],e.default.prototype,"mmax",void 0),t.__decorate([n.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],e.default.prototype,"zmax",void 0),e.default=y=t.__decorate([a.subclass("esri.geometry.Extent")],e.default),e.default.prototype.toJSON.isDefaultToJSON=!0,e.default}))},"esri/chunks/tslib.es6":function(){define(["exports"],(function(e){"use strict";var t="function"==typeof SuppressedError?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};e.__addDisposableResource=function(e,t,r){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(void 0===n){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(i=n)}if("function"!=typeof n)throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t},e.__awaiter=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))},e.__decorate=function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},e.__disposeResources=function(e){function r(r){e.error=e.hasError?new t(r,e.error,"An error was suppressed during disposal."):r,e.hasError=!0}var n,i=0;return function t(){for(;n=e.stack.pop();)try{if(!n.async&&1===i)return i=0,e.stack.push(n),Promise.resolve().then(t);if(n.dispose){var o=n.dispose.call(n.value);if(n.async)return i|=2,Promise.resolve(o).then(t,(function(e){return r(e),t()}))}else i|=1}catch(e){r(e)}if(1===i)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}()},e.__param=function(e,t){return function(r,n){t(r,n,e)}}}))},"esri/core/accessorSupport/decorators/property":function(){define(["exports","../../Logger","../ensureType","../get","../metadata","../set"],(function(e,t,r,n,i,o){"use strict";function s(e,t){if(e||t)return e?t?(r,n)=>t(e(r,n),n):e:t}e.composeCasters=s,e.property=function(e={}){return(a,l)=>{if(a===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${a.name}.${l}. Accessor does not support static properties.`);const c=Object.getOwnPropertyDescriptor(a,l),u=i.getPropertyMetadata(a,l);c&&(c.get||c.set?(u.get=c.get||u.get,u.set=c.set||u.set):"value"in c&&("value"in e&&t.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${l}" on "${a.constructor.name}" already defined in the metadata`,e),u.value=e.value=c.value)),null!=e.readOnly&&(u.readOnly=e.readOnly);const d=e.aliasOf;if(d){const e="string"==typeof d?d:d.source,t="string"==typeof d?null:!0===d.overridable;let r;u.dependsOn=[e],u.get=function(){let t=n.get(this,e);if("function"==typeof t){r||(r=e.split(".").slice(0,-1).join("."));const i=n.get(this,r);i&&(t=t.bind(i))}return t},u.readOnly||(u.set=t?function(e){this._override(l,e)}:function(t){o.set(this,e,t)})}const f=e.type,h=e.types;if(!u.cast){let t;f?t=function(e){let t=0,n=e;if(r.isLongFormType(e))return r.ensureLongFormType(e);for(;Array.isArray(n)&&1===n.length&&"string"!=typeof n[0]&&"number"!=typeof n[0];)n=n[0],t++;const i=n;if(r.isOneOf(i))return 0===t?r.ensureOneOf(i):r.ensureNArrayTyped(r.ensureOneOf(i),t);if(1===t)return r.ensureArray(i);if(t>1)return r.ensureNArray(i,t);const o=e;return o.from?o.from:r.ensureType(o)}(f):h&&(t=Array.isArray(h)?r.ensureArrayTyped(r.ensureOneOfType(h[0])):r.ensureOneOfType(h)),e.cast=s(e.cast,t)}i.mergeProperty(u,e),e.range&&(u.cast=r.ensureRange(u.cast,e.range))}},e.propertyJSONMeta=function(e,t,r){const n=i.getPropertyMetadata(e,r);n.json||(n.json={});let o=n.json;return void 0!==t&&(o.origins||(o.origins={}),o.origins[t]||(o.origins[t]={}),o=o.origins[t]),o},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/core/accessorSupport/ensureType":function(){define(["exports","../has","../Logger","../MapUtils"],(function(e,t,r,n){"use strict";const i=()=>r.getLogger("esri.core.accessorSupport.ensureTypes");function o(e){if(null==e)return e;const t=new Date(e);return isNaN(t.getTime())?(i().error("Accessor#set",`Invalid date value: '${e}', falling back to current date`),new Date):t}function s(e){return null==e?e:!!e}function a(e){return null==e?e:e.toString()}function l(e,t=0){return null==e?e:(e=parseFloat(e),isNaN(e)?t:e)}function c(e){return null==e?e:Math.round(parseFloat(e))}function u(e){return null}function d(e){return e?.constructor&&void 0!==e.constructor.__accessorMetadata__}function f(e,t){return null!=t&&e&&!(t instanceof e)}function h(e){return e&&"isCollection"in e}function p(e){return e?.Type?"function"==typeof e.Type?e.Type:e.Type.base:null}function y(e,t){return!!d(t)&&(i().error("Accessor#set","Assigning an instance of '"+(t.declaredClass||"unknown")+"' which is not a subclass of '"+g(e)+"'"),!0)}function m(e,t){return null==t?t:h(e)?function(e,t){if(!t?.constructor||!h(t.constructor))return y(e,t)?t:new e(t);const r=p(e.prototype.itemType),n=p(t.constructor.prototype.itemType);return r?n?r===n?t:r.prototype.isPrototypeOf(n.prototype)?new e(t):(y(e,t),t):new e(t):t}(e,t):f(e,t)?y(e,t)?t:new e(t):t}function g(e){return e?.prototype?.declaredClass||"unknown"}const _=new WeakMap;function T(e,t){const r=function(e){switch(e){case Number:return e=>l(e);case E:return c;case Boolean:return s;case String:return a;case Date:return o;case v:return u;default:return n.getOrCreateMapValue(_,e,(()=>m.bind(null,e)))}}(e);return 1===arguments.length?r:r(t)}function S(e,t,r){return 1===arguments.length?S.bind(null,e):t?Array.isArray(t)?t.map((t=>e(t,r))):[e(t,r)]:t}function x(e,t,r){return 0!==t&&Array.isArray(r)?r.map((r=>x(e,t-1,r))):e(r)}function b(e,t,r){if(2===arguments.length)return r=>b(e,t,r);if(!r)return r;r=x(e,t,r);let n=t,i=r;for(;n>0&&Array.isArray(i);)n--,i=i[0];if(void 0!==i)for(let e=0;e<n;e++)r=[r];return r}class E{}class v{}function w(e){switch(e.type){case"native":switch(e.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case E:return"integer";case Date:return"date";case v:return"null";default:return g(e.value)}case"array":return`array of ${w(e.value)}`;case"one-of":{const t=e.values.map((e=>w(e)));return`one of ${t.slice(0,-1)} or ${t[t.length-1]}`}}return"unknown"}function P(e,t){if(null==e)return!0;switch(t.type){case"native":switch(t.value){case Number:case E:return"number"==typeof e;case Boolean:return"boolean"==typeof e;case String:return"string"==typeof e;case v:return null===e}return e instanceof t.value;case"array":return!!Array.isArray(e)&&!e.some((e=>!P(e,t.value)));case"one-of":return t.values.some((t=>P(e,t)))}}e.Integer=E,e.Null=v,e.ensureArray=function(e,t){return 1===arguments.length?S((t=>T(e,t))):S((t=>T(e,t)),t)},e.ensureArrayTyped=S,e.ensureBoolean=s,e.ensureClass=m,e.ensureDate=o,e.ensureInteger=c,e.ensureLongFormType=function e(t){switch(t.type){case"native":return T(t.value);case"array":return S(e(t.value));case"one-of":return function(e){let t=null;return(r,n)=>P(r,e)?r:(null==t&&(t=w(e)),i().error("Accessor#set",`Invalid property value, value needs to be of type ${t}`),n&&(n.valid=!1),null)}(t);default:return null}},e.ensureNArray=function(e,t,r){return 2===arguments.length?b((t=>T(e,t)),t):b((t=>T(e,t)),t,r)},e.ensureNArrayTyped=b,e.ensureNull=u,e.ensureNumber=l,e.ensureOneOf=function e(t,r){if(2===arguments.length)return e(t).call(null,r);const n=new Set,o=t.filter((e=>"function"!=typeof e)),s=t.filter((e=>"function"==typeof e));for(const e of t)"string"!=typeof e&&"number"!=typeof e||n.add(e);let a=null,l=null;return(e,t)=>{if(null==e)return e;const r=typeof e,c="string"===r||"number"===r;return c&&(n.has(e)||s.some((e=>"string"===r&&e===String||"number"===r&&e===Number)))||"object"===r&&s.some((t=>!f(e,t)))?e:(c&&o.length?(a||(a=o.map((e=>"string"==typeof e?`'${e}'`:`${e}`)).join(", ")),i().error("Accessor#set",`'${e}' is not a valid value for this property, only the following values are valid: ${a}`)):"object"==typeof e&&s.length?(l||(l=s.map((e=>g(e))).join(", ")),i().error("Accessor#set",`'${e}' is not a valid value for this property, value must be one of ${l}`)):i().error("Accessor#set",`'${e}' is not a valid value for this property`),t&&(t.valid=!1),null)}},e.ensureOneOfType=function e(t,r){if(2===arguments.length)return e(t).call(null,r);const n={},o=[],s=[];for(const e in t.typeMap){const r=t.typeMap[e];n[e]=T(r),o.push(g(r)),s.push(e)}const a="string"==typeof t.key?e=>e[t.key]:t.key;return e=>{if(t.base&&!f(t.base,e))return e;if(null==e)return e;const r=a(e)||t.defaultKeyValue,l=n[r];if(!l)return i().error("Accessor#set",`Invalid property value, value needs to be one of '${o.join("', '")}', or a plain object that can autocast (having .type = '${s.join("', '")}')`),null;if(!f(t.typeMap[r],e))return e;if("string"==typeof t.key&&!d(e)){const r={};for(const n in e)n!==t.key&&(r[n]=e[n]);return l(r)}return l(e)}},e.ensureRange=function(e,t){return r=>{let n=e(r);return null!=t.step&&(n=Math.round(n/t.step)*t.step),null!=t.min&&(n=Math.max(t.min,n)),null!=t.max&&(n=Math.min(t.max,n)),n}},e.ensureString=a,e.ensureType=T,e.isClassedType=d,e.isLongFormType=function(e){if(!e||!("type"in e))return!1;switch(e.type){case"native":case"array":case"one-of":return!0}return!1},e.isOneOf=function(e){return!!Array.isArray(e)&&!e.some((t=>{const r=typeof t;return!("string"===r||"number"===r||"function"===r&&e.length>1)}))},e.requiresType=f,e.types={native:e=>({type:"native",value:e}),array:e=>({type:"array",value:e}),oneOf:e=>({type:"one-of",values:e})},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/core/MapUtils":function(){define(["exports"],(function(e){"use strict";e.equals=function(e,t){if(null==e&&null==t)return!0;if(null==e||null==t||e.size!==t.size)return!1;for(const[r,n]of e)if(!t.has(r)||n!==t.get(r))return!1;return!0},e.findInMap=function(e,t){for(const r of e.values())if(t(r))return r;return null},e.getOrCreateMapValue=function(e,t,r){const n=e.get(t);if(void 0!==n)return n;const i=r();return e.set(t,i),i},e.memoize=function(e){const t=new Map;return r=>(t.has(r)||t.set(r,e(r)),t.get(r))},e.someMap=function(e,t){for(const r of e.values())if(t(r))return!0;return!1},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/core/accessorSupport/metadata":function(){define(["exports","../lang","./utils"],(function(e,t,r){"use strict";function n(e){let r=e.constructor.__accessorMetadata__;const n=Object.prototype.hasOwnProperty.call(e.constructor,"__accessorMetadata__");if(r){if(!n){r=Object.create(r);for(const e in r)r[e]=t.clone(r[e]);Object.defineProperty(e.constructor,"__accessorMetadata__",{value:r,enumerable:!1,configurable:!0,writable:!0})}}else r={},Object.defineProperty(e.constructor,"__accessorMetadata__",{value:r,enumerable:!1,configurable:!0,writable:!0});return e.constructor.__accessorMetadata__}const i=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function o(e){return i.test(e)?"replace":"merge"}e.getPropertiesMetadata=n,e.getPropertyMetadata=function(e,t){const r=n(e);let i=r[t];return i||(i=r[t]={}),i},e.mergeProperty=function(e,t){return r.merge(e,t,o)},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/core/accessorSupport/set":function(){define(["exports","../Error","../has","../Logger","./get"],(function(e,t,r,n,i){"use strict";e.set=function e(n,o,s){if(n&&o)if("object"==typeof o)for(const t of Object.getOwnPropertyNames(o))e(n,t,o[t]);else{if(o.includes(".")){const t=o.split("."),r=t.splice(-1,1)[0];return void e(i.get(n,t),r,s)}const a=n.__accessor__;null!=a&&function(e,n){if(r("esri-unknown-property-errors")&&!function(e,t){return null!=t.metadata[e]}(e,n))throw new t("set:unknown-property",function(e,t){return"setting unknown property '"+e+"' on instance of "+t.host.declaredClass}(e,n))}(o,a),n[o]=s}},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/core/accessorSupport/decorators/subclass":function(){define(["exports","../../has","../../Logger","../beforeDestroy","../Lifecycle","../metadata","../tracking","../extensions/serializableProperty"],(function(e,t,r,n,i,o,s,a){"use strict";const l=new Set,c=new Set;function u(e,t){return null==t.get?function(){const t=this.__accessor__,r=t.propertiesByName.get(e);if(void 0===r)return;t.mutable&&s.trackAccess(r);const n=t.store;return n.has(e)?n.get(e):r.metadata.value}:function(){const t=this.__accessor__,r=t.propertiesByName.get(e);if(void 0!==r)return r.getComputed(t)}}function d(e){const t=e.prototype,r=o.getPropertiesMetadata(t),n={};for(const e of Object.getOwnPropertyNames(r)){const t=r[e];a.processPrototypePropertyMetadata(t),n[e]={enumerable:!0,configurable:!0,get:u(e,t),set(r){const n=this.__accessor__;if(void 0!==n){if(n.mutable)return n.initialized&&t.readOnly?f("read-only",e):n.lifecycle===i.Lifecycle.CONSTRUCTED&&t.constructOnly?f("construct-only",e):void n.set(e,r)}else Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:r})}}}Object.defineProperties(e.prototype,n)}const f=(e,t)=>{r.getLogger("esri.core.Accessor").error(`cannot assign to ${e} property '${t}'`)};e.finalizeClass=d,e.subclass=function(e){return t=>{e??="esri.core.Accessor",t.prototype.declaredClass=e,d(t);const r=[],s=[];let a=t.prototype;for(;a;)a.hasOwnProperty("initialize")&&!l.has(a.initialize)&&(l.add(a.initialize),r.push(a.initialize)),a.hasOwnProperty("destroy")&&!c.has(a.destroy)&&(c.add(a.destroy),s.push(a.destroy)),a=Object.getPrototypeOf(a);l.clear(),c.clear();const u=class extends t{constructor(...e){if(super(...e),this.constructor===u&&"function"==typeof this.postscript){if(r.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let e=r.length-1;e>=0;e--)r[e].call(this)}}),s.length){let e=!1;const t=this[n.beforeDestroySymbol];Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!e){this.__accessor__.lifecycle=i.Lifecycle.DESTROYING,e=!0,t.call(this);for(let e=0;e<s.length;e++)s[e].call(this)}}})}Object.defineProperty(this,Symbol.dispose,{enumerable:!1,configurable:!0,value(){this.destroy()}}),this.postscript()}}};u.__accessorMetadata__=o.getPropertiesMetadata(t.prototype),u.prototype.declaredClass=e;const f=(e||"AccessorSubclass").split(".").slice(-1)[0];return Object.defineProperty(u,"name",{value:f,configurable:!0}),u}},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/core/accessorSupport/beforeDestroy":function(){define(["exports"],(function(e){"use strict";const t=Symbol("Accessor-beforeDestroy");e.beforeDestroySymbol=t,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/core/accessorSupport/extensions/serializableProperty":function(){define(["exports","../ensureType","./serializableProperty/originAliases","./serializableProperty/reader","./serializableProperty/shorthands","./serializableProperty/writer"],(function(e,t,r,n,i,o){"use strict";function s(e,t,r){let n=e?.json;if(n?.origins&&r){let e;e="link-chart"===r?n.origins[r]&&("any"===t||t in n.origins[r])?n.origins[r]:n.origins["web-map"]:n.origins[r],e&&("any"===t||t in e)&&(n=e)}return n}function a(e){return e.type?l(e):c(e)}function l(e){if(!e.type)return;let r=0,n=e.type;for(;Array.isArray(n)&&!t.isOneOf(n);)n=n[0],r++;return{type:n,ndimArray:r}}function c(e){if(!e.types)return;let t=0,r=e.types;for(;Array.isArray(r);)r=r[0],t++;return{types:r,ndimArray:t}}e.originSpecificPropertyDefinition=function(e,t){return s(e,"any",t?.origin)},e.originSpecificReadPropertyDefinition=function(e,t){return s(e,"read",t?.origin)},e.originSpecificWritePropertyDefinition=function(e,t){return s(e,"write",t?.origin)},e.processPrototypePropertyMetadata=function(e){i.process(e)&&(r.process(e),function(e){const t=(r=e).json.types?c(r.json):r.type?l(r):c(r);var r;if(e.json.origins)for(const r in e.json.origins){const i=e.json.origins[r],s=i.types?a(i):t;n.create(s,i,!1),i.types&&!i.write&&e.json.write?.enabled&&(i.write={...e.json.write}),o.create(s,i)}n.create(t,e.json,!0),o.create(t,e.json)}(e))},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/core/accessorSupport/extensions/serializableProperty/originAliases":function(){define(["exports"],(function(e){"use strict";e.process=function(e){if(e.json&&e.json.origins){const t=e.json.origins,r={"web-document":["web-scene","web-map"]};for(const e in r)if(t[e]){const n=t[e];r[e].forEach((e=>{t[e]=n})),delete t[e]}}},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/core/accessorSupport/extensions/serializableProperty/reader":function(){define(["exports","../../../Logger","../../../object","../../../Warning","../../metadata","./type"],(function(e,t,r,n,i,o){"use strict";const s=()=>t.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function a(e){const t=e.ndimArray??0;if(t>1)return function(e){const t=l(e),r=c.bind(null,t),n=e.ndimArray??0;return(e,t,i)=>{if(null==e)return e;e=r(e,i,n);let o=n,s=e;for(;o>0&&Array.isArray(s);)o--,s=s[0];if(void 0!==s)for(let t=0;t<o;t++)e=[e];return e}}(e);if(1===t)return u(e);if("type"in e&&d(e.type)){const t=e.type.prototype?.itemType?.Type,r=u("function"==typeof t?{type:t}:{types:t});return(t,n,i)=>{const o=r(t,n,i);return o?new e.type(o):o}}return l(e)}function l(e){return"type"in e?function(e){return e.prototype.read?(t,r,n)=>{if(null==t)return t;const i=typeof t;if("object"!==i)return void s().error(`Expected JSON value of type 'object' to deserialize type '${e.prototype.declaredClass}', but got '${i}'`);const o=new e;return o.read(t,n),o}:e.fromJSON}(e.type):function(e){let t=null;const r=e.errorContext??"type",o=e.validate;return(a,l,c)=>{if(null==a)return a;const u=typeof a;if("object"!==u)return void s().error(`Expected JSON value of type 'object' to deserialize, but got '${u}'`);t||(t=function(e){const t={};for(const r in e.typeMap){const n=e.typeMap[r],o=i.getPropertiesMetadata(n.prototype);if("function"==typeof e.key)continue;const s=o[e.key];if(!s)continue;if(s.json?.type&&Array.isArray(s.json.type)&&1===s.json.type.length&&"string"==typeof s.json.type[0]){t[s.json.type[0]]=n;continue}const a=s.json?.write;if(!a?.writer){t[r]=n;continue}const l=a.target,c="string"==typeof l?l:e.key,u={};a.writer(r,u,c),u[c]&&(t[u[c]]=n)}return t}(e));const d=e.key;if("string"!=typeof d)return;const f=a[d],h=f?t[f]:e.defaultKeyValue?e.typeMap[e.defaultKeyValue]:void 0;if(!h){const e=`Type '${f||"unknown"}' is not supported`;return c?.messages&&a&&c.messages.push(new n(`${r}:unsupported`,e,{definition:a,context:c})),void s().error(e)}const p=new h;return p.read(a,c),o?o(p):p}}(e.types)}function c(e,t,r,n){return 0!==n&&Array.isArray(t)?t.map((t=>c(e,t,r,n-1))):e(t,void 0,r)}function u(e){const t=l(e);return(e,r,n)=>{if(null==e)return e;if(Array.isArray(e)){const r=[];for(const i of e){const e=t(i,void 0,n);void 0!==e&&r.push(e)}return r}const i=t(e,void 0,n);return void 0!==i?[i]:void 0}}function d(e){if(!o.isCollection(e))return!1;const t=e.prototype.itemType;return!(!t||!t.Type)&&("function"==typeof t.Type?f(t.Type):h(t.Type))}function f(e){return!Array.isArray(e)&&!!e&&e.prototype&&("read"in e.prototype||"fromJSON"in e||d(e))}function h(e){for(const t in e.typeMap)if(!f(e.typeMap[t]))return!1;return!0}e.create=function(e,t,n){e&&(!n&&!t.read||t.read?.reader||!1===t.read?.enabled||function(e){return"types"in e?h(e.types):f(e.type)}(e)&&r.setDeepValue("read.reader",a(e),t))},e.createTypeReader=a,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/core/Warning":function(){define(["./Message"],(function(e){"use strict";class t extends e{constructor(e,t,r){super(e,t,r)}}return t.prototype.type="warning",t}))},"esri/core/accessorSupport/extensions/serializableProperty/type":function(){define(["exports"],(function(e){"use strict";e.isCollection=function(e){return!!e&&e.prototype?.declaredClass&&0===e.prototype.declaredClass.indexOf("esri.core.Collection")},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/core/accessorSupport/extensions/serializableProperty/shorthands":function(){define(["exports"],(function(e){"use strict";function t(e){e.name&&(e.read&&"object"==typeof e.read?void 0===e.read.source&&(e.read.source=e.name):e.read={source:e.name},e.write&&"object"==typeof e.write?void 0===e.write.target&&(e.write.target=e.name):e.write={target:e.name})}function r(e){"boolean"==typeof e.read?e.read={enabled:e.read}:"function"==typeof e.read?e.read={enabled:!0,reader:e.read}:e.read&&"object"==typeof e.read&&void 0===e.read.enabled&&(e.read.enabled=!0)}function n(e){"boolean"==typeof e.write?e.write={enabled:e.write}:"function"==typeof e.write?e.write={enabled:!0,writer:e.write}:e.write&&"object"==typeof e.write&&void 0===e.write.enabled&&(e.write.enabled=!0)}e.process=function(e){if(e.json||(e.json={}),r(e.json),n(e.json),t(e.json),e.json.origins)for(const i in e.json.origins)r(e.json.origins[i]),n(e.json.origins[i]),t(e.json.origins[i]);return!0},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/core/accessorSupport/extensions/serializableProperty/writer":function(){define(["exports","../../../Error","../../../Logger","../../../object","./type"],(function(e,t,r,n,i){"use strict";function o(e,n,i){for(const t in n.typeMap)if(e instanceof n.typeMap[t])return!0;if(i?.messages){const o=n.errorContext??"type",s=`Values of type '${("function"!=typeof n.key?e[n.key]:e.declaredClass)??"Unknown"}' cannot be written`;i&&i.messages&&e&&i.messages.push(new t(`${o}:unsupported`,s,{definition:e,context:i})),r.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(s)}return!1}function s(e,t,r,i){n.setDeepValue(r,a(e,i),t)}function a(e,t){return e&&"function"==typeof e.write?e.write({},t):e&&"function"==typeof e.toJSON?e.toJSON():"number"==typeof e?l(e):e}function l(e){return e===-1/0?-Number.MAX_VALUE:e===1/0?Number.MAX_VALUE:isNaN(e)?null:e}function c(e,t,r,i){let o;null===e?o=null:e&&"function"==typeof e.map?(o=e.map((e=>a(e,i))),"function"==typeof o.toArray&&(o=o.toArray())):o=[a(e,i)],n.setDeepValue(r,o,t)}function u(e,t,r){return 0!==r&&Array.isArray(e)?e.map((e=>u(e,t,r-1))):a(e,t)}e.create=function(e,t){if(!t.write||t.write.writer||!1===t.write.enabled&&!t.write.overridePolicy)return;const r=e?.ndimArray??0;var a,l;e&&(1===r||"type"in e&&i.isCollection(e.type))?t.write.writer=c:r>1?t.write.writer=(l=r,(e,t,r,i)=>{let o;if(null===e)o=null;else{o=u(e,i,l);let t=l,r=o;for(;t>0&&Array.isArray(r);)t--,r=r[0];if(void 0!==r)for(let e=0;e<t;e++)o=[o]}n.setDeepValue(r,o,t)}):t.types?Array.isArray(t.types)?t.write.writer=(a=t.types[0],(e,t,r,n)=>e&&Array.isArray(e)?s(e.filter((e=>o(e,a,n))),t,r,n):s(e,t,r,n)):t.write.writer=function(e){return(t,r,n,i)=>t?o(t,e,i)?s(t,r,n,i):void 0:s(t,r,n,i)}(t.types):t.write.writer=s},e.numberToJSON=l,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/geometry/Geometry":function(){define(["exports","../chunks/tslib.es6","../core/JSONSupport","../core/accessorSupport/decorators/property","../core/has","../core/Logger","../core/RandomLCG","../core/accessorSupport/decorators/reader","../core/accessorSupport/decorators/subclass","./SpatialReference"],(function(e,t,r,n,i,o,s,a,l,c){"use strict";return e.default=class extends r{constructor(...e){super(...e),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=c.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(e,t){if(e instanceof c)return e;if(null!=e){const r=new c;return r.read(e,t),r}return e}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(e){return this.cache[e]}setCacheValue(e,t){this.cache[e]=t}},t.__decorate([n.property()],e.default.prototype,"type",void 0),t.__decorate([n.property({readOnly:!0})],e.default.prototype,"cache",null),t.__decorate([n.property({readOnly:!0})],e.default.prototype,"extent",null),t.__decorate([n.property({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],e.default.prototype,"hasM",void 0),t.__decorate([n.property({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],e.default.prototype,"hasZ",void 0),t.__decorate([n.property({type:c,json:{write:!0},value:c.WGS84})],e.default.prototype,"spatialReference",void 0),t.__decorate([a.reader("spatialReference")],e.default.prototype,"readSpatialReference",null),e.default=t.__decorate([l.subclass("esri.geometry.Geometry")],e.default),e.default}))},"esri/core/JSONSupport":function(){define(["../chunks/tslib.es6","./Accessor","./accessorSupport/DefaultsStore","./accessorSupport/defaultsStoreUtils","./accessorSupport/read","./accessorSupport/utils","./accessorSupport/write","./accessorSupport/decorators/subclass"],(function(e,t,r,n,i,o,s,a){"use strict";const l=t=>{let l=class extends t{constructor(...e){super(...e);const t=o.getProperties(this),i=t.store,s=new r.DefaultsStore;t.store=s,n.setupConstructedDefaults(t,i,s)}read(e,t){i.read(this,e,t)}write(e,t){return s.write(this,e??{},t)}toJSON(e){return this.write({},e)}static fromJSON(e,t){return c.call(this,e,t)}};return l=e.__decorate([a.subclass("esri.core.JSONSupport")],l),l.prototype.toJSON.isDefaultToJSON=!0,l};function c(e,t){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const r=new this;return r.read(e,t),r}let u=class extends(l(t)){};return u=e.__decorate([a.subclass("esri.core.JSONSupport")],u),function(e){e.JSONSupportMixin=l}(u||(u={})),u}))},"esri/core/Accessor":function(){define(["./deprecate","./Handles","./Logger","./maybe","./accessorSupport/beforeDestroy","./accessorSupport/get","./accessorSupport/Lifecycle","./accessorSupport/metadata","./accessorSupport/Properties","./accessorSupport/set","./accessorSupport/testSupport","./accessorSupport/watch","./accessorSupport/decorators/property","./accessorSupport/decorators/subclass"],(function(e,t,r,n,i,o,s,a,l,c,u,d,f,h){"use strict";var p,y;function m(e){if(null==e)return{value:e};if(Array.isArray(e))return{type:[e[0]],value:null};switch(typeof e){case"object":return e.constructor?.__accessorMetadata__||e instanceof Date?{type:e.constructor,value:e}:e;case"boolean":return{type:Boolean,value:e};case"string":return{type:String,value:e};case"number":return{type:Number,value:e};case"function":return{type:e,value:null};default:return}}const g=Symbol("Accessor-Handles"),_=Symbol("Accessor-Initialized");class T{static{p=g,y=_}static createSubclass(e={}){if(Array.isArray(e))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:t,declaredClass:r,constructor:n}=e;delete e.declaredClass,delete e.properties,delete e.constructor;const i=this;class o extends i{constructor(...e){super(...e),this.inherited=null,n&&n.apply(this,e)}}a.getPropertiesMetadata(o.prototype);for(const t in e){const r=e[t];o.prototype[t]="function"==typeof r?function(...e){const n=this.inherited;let o;this.inherited=function(...e){if(i.prototype[t])return i.prototype[t].apply(this,e)};try{o=r.apply(this,e)}catch(e){throw this.inherited=n,e}return this.inherited=n,o}:e[t]}for(const e in t){const r=m(t[e]);f.property(r)(o.prototype,e)}return h.subclass(r)(o)}static freeze(e){return e instanceof T?e.__accessor__.mutable=!1:Object.freeze(e),e}static isFrozen(e){return e instanceof T?!e.__accessor__.mutable:Object.isFrozen(e)}constructor(...e){if(this[p]=null,this[y]=!1,this.constructor===T)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");const t=new l(this);Object.defineProperty(this,"__accessor__",{enumerable:!1,value:t}),e.length>0&&(t.ctorArgs=this.normalizeCtorArgs?.apply(this,e)??e[0]),u.getAccessorInterceptor()?.onInstanceConstruct(this)}postscript(){const e=this.__accessor__,t=e.ctorArgs;e.initialize(),t&&(this.set(t),e.ctorArgs=null),e.constructed(),this.initialize(),this[_]=!0}initialize(){}[i.beforeDestroySymbol](){this[g]=n.destroyMaybe(this[g])}destroy(){this.destroyed||(d.removeTarget(this),this.__accessor__.destroy(),u.getAccessorInterceptor()?.onInstanceDestroy(this))}[Symbol.dispose](){this.destroy()}get constructed(){return this.__accessor__&&this.__accessor__.initialized||!1}get initialized(){return this[_]}get destroyed(){return this.__accessor__?.lifecycle===s.Lifecycle.DESTROYED||!1}get destroying(){return this.__accessor__?.lifecycle===s.Lifecycle.DESTROYING||!1}commitProperty(e){o.get(this,e)}hasOwnProperty(e){return this.__accessor__?this.__accessor__.has(e):Object.prototype.hasOwnProperty.call(this,e)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(e,t){return c.set(this,e,t),this}watch(t,n,i){return e.deprecatedFunction(r.getLogger(this),"`watch` is deprecated in favor of reactiveUtils.watch",{replacement:"reactiveUtils.watch",version:"4.32",see:"https://arcg.is/1vaqf42#watch",warnOnce:!0}),d.watch(this,t,n,i)}addHandles(e,r){if(this.destroyed){const t=Array.isArray(e)?e:[e];for(const e of t)e.remove()}else(this[g]??=new t).add(e,r)}removeHandles(e){this[g]?.remove(e)}removeAllHandles(){this[g]?.removeAll()}removeHandlesReference(e){this[g]?.removeReference(e)}hasHandles(e){return!0===this[g]?.has(e)}_override(e,t){void 0===t?this.__accessor__.clearOverride(e):this.__accessor__.override(e,t)}_clearOverride(e){return this.__accessor__.clearOverride(e)}_overrideIfSome(e,t){null==t?this.__accessor__.clearOverride(e):this.__accessor__.override(e,t)}_isOverridden(e){return this.__accessor__.isOverridden(e)}notifyChange(e){this.__accessor__.notifyChange(e)}_get(e){return this.__accessor__.internalGet(e)}_set(e,t){return this.__accessor__.internalSet(e,t),this}}return T}))},"esri/core/Handles":function(){define(["./iteratorUtils"],(function(e){"use strict";class t{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let e=0;return this._groups.forEach((t=>{e+=t.length})),e}add(t,r){if(e.isIterable(t)){const e=this._getOrCreateGroup(r);for(const r of t)i(r)&&e.push(r)}else i(t)&&this._getOrCreateGroup(r).push(t);return this}forEach(e,t){if("function"==typeof e)this._groups.forEach((t=>t.forEach(e)));else{const r=this._getGroup(e);r&&t&&r.forEach(t)}}has(e){return this._groups.has(r(e))}remove(t){if("string"!=typeof t&&e.isIterable(t)){for(const e of t)this.remove(e);return this}return this.has(t)?(n(this._getGroup(t)),this._groups.delete(r(t)),this):this}removeAll(){return this._groups.forEach(n),this._groups.clear(),this}removeReference(e){return this._groups.delete(e),this}_getOrCreateGroup(e){if(this.has(e))return this._getGroup(e);const t=[];return this._groups.set(r(e),t),t}_getGroup(e){return this._groups.get(r(e))}}function r(e){return e||"_default_"}function n(e){for(const r of e)r instanceof t?r.removeAll():r.remove()}function i(e){return null!=e&&(!!e.remove||e instanceof t)}return t}))},"esri/core/iteratorUtils":function(){define(["exports"],(function(e){"use strict";e.cache=function(e){const t=[];return function*(){yield*t;for(const r of e)t.push(r),yield r}},e.find=function(e,t){for(const r of e)if(null!=r&&t(r))return r},e.isIterable=function(e){return null!=e&&"function"==typeof e[Symbol.iterator]},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/core/accessorSupport/Properties":function(){define(["../has","../lang","../Logger","../ObjectPool","./Lifecycle","./Property","./PropertyOrigin","./Store","./tracking","./tracking/Flags","./tracking/TrackingTarget"],(function(e,t,r,n,i,o,s,a,l,c,u){"use strict";function d(e,t,r){return void 0!==e}function f(e,t,r,n){return!(void 0===e||null==r&&e.flags&c.Flags.NonNullable&&(n.lifecycle,i.Lifecycle.INITIALIZING,1))}const h=new n(class{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}});return class{constructor(e){this.host=e,this.propertiesByName=new Map,this.ctorArgs=null,this.lifecycle=i.Lifecycle.INITIALIZING,this.store=new a.Store,this.mutable=!0,this._origin=s.OriginId.USER;const t=this.host.constructor.__accessorMetadata__;for(const e in t){const r=new o.Property(e,t[e]);this.propertiesByName.set(e,r)}this.metadata=t}initialize(){this.lifecycle=i.Lifecycle.CONSTRUCTING}constructed(){this.lifecycle=i.Lifecycle.CONSTRUCTED}destroy(){this.lifecycle=i.Lifecycle.DESTROYED,this.propertiesByName.forEach((e=>e.destroy()))}get initialized(){return this.lifecycle!==i.Lifecycle.INITIALIZING}get(e){const t=this.propertiesByName.get(e);if(!d(t))return;if(t.metadata.get)return t.getComputed(this);this.mutable&&l.trackAccess(t);const r=this.store;return r.has(e)?r.get(e):t.metadata.value}originOf(e){const t=this.store.originOf(e);if(void 0===t){const t=this.propertiesByName.get(e);if(void 0!==t&&t.flags&c.Flags.HasDefaultValue)return"defaults"}return s.idToName(t)}has(e){return this.propertiesByName.has(e)&&this.store.has(e)}keys(){return[...this.propertiesByName.keys()]}internalGet(e){const t=this.propertiesByName.get(e);if(d(t))return this.store.has(e)?this.store.get(e):t.metadata.value}internalSet(e,t){const r=this.propertiesByName.get(e);d(r)&&this._internalSet(r,t)}getDependsInfo(e,t,r){const n=this.propertiesByName.get(t);if(!d(n))return"";const i=new u.TrackingTarget,s=l.runTracked(i,(()=>n.metadata.get?.call(e)));let a=`${r}${e.declaredClass.split(".").pop()}.${t}: ${s}\n`;const c=i.accessed??new Set;if(0===c.size)return a;r+="  ";for(const e of c)e instanceof o.Property&&(a+=`${r}${e.propertyName}: undefined\n`);return a}setAtOrigin(e,t,r){const n=this.propertiesByName.get(e);if(d(n))return this._setAtOrigin(n,t,r)}isOverridden(e){const t=this.propertiesByName.get(e);return void 0!==t&&!!(t.flags&c.Flags.Overridden)}clearOrigin(e,t){const r=this.store,n=this.propertiesByName.get(e);if(!d(n))return;const i=r.isAtOrigin(e,t)&&!(n.flags&c.Flags.Overridden);r.delete(e,t),i&&n.notifyChange()}clearOverride(e){const t=this.propertiesByName.get(e);t&&t.flags&c.Flags.Overridden&&(t.flags&=~c.Flags.Overridden,t.notifyChange())}override(e,t){const r=this.propertiesByName.get(e);if(!f(r,0,t,this))return;const n=r.metadata.cast;if(n){const e=this._cast(n,t),{valid:r,value:i}=e;if(h.release(e),!r)return;t=i}r.flags|=c.Flags.Overridden,this._internalSet(r,t)}set(e,t){const r=this.propertiesByName.get(e);if(!f(r,0,t,this))return;const n=r.metadata.cast;if(n){const e=this._cast(n,t),{valid:r,value:i}=e;if(h.release(e),!r)return;t=i}const i=r.metadata.set;i?i.call(this.host,t):this._internalSet(r,t)}setDefaultOrigin(e){this._origin=s.nameToId(e)}getDefaultOrigin(){return s.idToName(this._origin)}notifyChange(e){const t=this.propertiesByName.get(e);void 0!==t&&t.notifyChange()}invalidate(e){const t=this.propertiesByName.get(e);void 0!==t&&t.invalidate()}commit(e){const t=this.propertiesByName.get(e);void 0!==t&&t.commit()}_internalSet(e,t){const r=this.lifecycle!==i.Lifecycle.INITIALIZING?this._origin:s.OriginId.DEFAULTS;this._setAtOrigin(e,t,r)}_setAtOrigin(e,r,n){const i=this.store,o=e.propertyName;if(i.isAtOrigin(o,n)&&t.equals(r,i.get(o))&&~e.flags&c.Flags.Overridden)return;const s=i.isBelowOrigin(o,n)||i.isAtOrigin(o,n);s&&e.invalidate(),i.set(o,r,n),s&&e.commit(),l.initializeDependencyTracking(this.host,e)}_cast(e,t){const r=h.acquire();return r.valid=!0,r.value=t,e&&(r.value=e.call(this.host,t,r)),r}}}))},"esri/core/accessorSupport/Property":function(){define(["exports","./ObservableBase","./PropertyOrigin","./tracking","./tracking/Flags","./tracking/TrackingTarget"],(function(e,t,r,n,i,o){"use strict";class s extends t.ObservableBase{constructor(e,t){super(),this.propertyName=e,this.metadata=t,this.trackingTarget=new o.TrackingTarget(this),this.flags=0,this.flags=i.Flags.Dirty|(t.nonNullable?i.Flags.NonNullable:0)|(t.hasOwnProperty("value")?i.Flags.HasDefaultValue:0)|(void 0===t.get?i.Flags.DepTrackingInitialized:0)|(void 0===t.dependsOn?i.Flags.AutoTracked:0)}destroy(){this.flags&i.Flags.Dirty&&this.onCommitted(),super.destroy(),this.trackingTarget.destroy()}getComputed(e){e.mutable&&n.trackAccess(this);const t=e.store,o=this.propertyName,s=this.flags,a=t.get(o);if(s&i.Flags.Computing)return a;if(~s&i.Flags.Dirty&&t.has(o))return a;this.flags|=i.Flags.Computing;const l=e.host;let c;s&i.Flags.AutoTracked?c=n.runTracked(this.trackingTarget,this.metadata.get,l):(n.trackExplicitDependencies(l,this),c=this.metadata.get.call(l)),this.flags|=i.Flags.DepTrackingInitialized,t.set(o,c,r.OriginId.COMPUTED);const u=t.get(o);return u===a?this.flags&=~i.Flags.Dirty:n.runUntracked(this.commit,this),this.flags&=~i.Flags.Computing,u}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}commit(){this.flags&=~i.Flags.Dirty,this.onCommitted()}onInvalidated(){~this.flags&i.Flags.Overridden&&(this.flags|=i.Flags.Dirty);const e=this._observers;if(e&&e.length>0)for(const t of e)t.onInvalidated()}onCommitted(){const e=this._observers;if(e&&e.length>0){const t=e.slice();for(const e of t)e.onCommitted()}}}e.Property=s,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/core/accessorSupport/ObservableBase":function(){define(["exports","../handleUtils","./tracking/ObservationHandle"],(function(e,t,r){"use strict";const n=t.makeHandle();e.ObservableBase=class{constructor(){this._observers=null,this.destroyed=!1}observe(e){if(this.destroyed||e.destroyed)return n;null==this._observers&&(this._observers=[]);const t=this._observers;let i=!1,o=!1;const s=t.length;for(let r=0;r<s;++r){const n=t[r];if(n.destroyed)o=!0;else if(n===e){i=!0;break}}return i||(t.push(e),o&&this._removeDestroyedObservers()),new r.ObservationHandle(t,e)}_removeDestroyedObservers(){const e=this._observers;if(!e||0===e.length)return;const t=e.length;let r=0;for(let n=0;n<t;++n){for(;n+r<t&&e[n+r].destroyed;)++r;if(r>0){if(!(n+r<t))break;e[n]=e[n+r]}}e.length=t-r}destroy(){if(this.destroyed)return;this.destroyed=!0;const e=this._observers;if(null!=e){for(const t of e)t.onCommitted();this._observers=null}}},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/core/accessorSupport/tracking/ObservationHandle":function(){define(["exports","../../arrayUtils"],(function(e,t){"use strict";e.ObservationHandle=class{constructor(e,t){this._observers=e,this._observer=t}remove(){t.remove(this._observers,this._observer)}},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/core/accessorSupport/PropertyOrigin":function(){define(["exports"],(function(e){"use strict";var t;e.OriginId=void 0,(t=e.OriginId||(e.OriginId={}))[t.DEFAULTS=0]="DEFAULTS",t[t.COMPUTED=1]="COMPUTED",t[t.SERVICE=2]="SERVICE",t[t.PORTAL_ITEM=3]="PORTAL_ITEM",t[t.WEB_SCENE=4]="WEB_SCENE",t[t.WEB_MAP=5]="WEB_MAP",t[t.LINK_CHART=6]="LINK_CHART",t[t.USER=7]="USER";const r=e.OriginId.USER+1;function n(t){switch(t){case"defaults":return e.OriginId.DEFAULTS;case"service":return e.OriginId.SERVICE;case"portal-item":return e.OriginId.PORTAL_ITEM;case"web-scene":return e.OriginId.WEB_SCENE;case"web-map":return e.OriginId.WEB_MAP;case"link-chart":return e.OriginId.LINK_CHART;case"user":return e.OriginId.USER;default:return null}}function i(t){switch(t){case e.OriginId.DEFAULTS:return"defaults";case e.OriginId.SERVICE:return"service";case e.OriginId.PORTAL_ITEM:return"portal-item";case e.OriginId.WEB_SCENE:return"web-scene";case e.OriginId.WEB_MAP:return"web-map";case e.OriginId.LINK_CHART:return"link-chart";case e.OriginId.USER:return"user"}}e.idToName=i,e.idToReadableName=function(e){return i(e)},e.idToWritableName=function(e){return i(e)},e.nameToId=n,e.originIdNum=r,e.readableNameToId=function(e){return n(e)},e.writableNameToId=function(e){return n(e)},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/core/accessorSupport/Store":function(){define(["exports","../lang","./PropertyOrigin"],(function(e,t,r){"use strict";class n{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(e){const r=new n;return this._values.forEach(((n,i)=>{e&&e.has(i)||r.set(i,t.clone(n))})),r}get(e){return this._values.get(e)}originOf(){return r.OriginId.USER}keys(){return[...this._values.keys()]}set(e,t){this._values.set(e,t)}delete(e){this._values.delete(e)}has(e){return this._values.has(e)}isAtOrigin(e,t){return this.has(e)}isBelowOrigin(e,t){return!this.has(e)}forEach(e){this._values.forEach(e)}}e.Store=n,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/core/accessorSupport/testSupport":function(){define(["exports"],(function(e){"use strict";let t;var r;e.InterceptorCollectAction=void 0,(r=e.InterceptorCollectAction||(e.InterceptorCollectAction={}))[r.Ignore=0]="Ignore",r[r.Destroy=1]="Destroy",r[r.ThrowError=2]="ThrowError",e.getAccessorInterceptor=function(){return t},e.setAccessorInterceptor=function(e){t=e},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/core/accessorSupport/DefaultsStore":function(){define(["exports","../lang","./PropertyOrigin"],(function(e,t,r){"use strict";class n{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(e){const r=new n;return this._values.forEach(((n,i)=>{e&&e.has(i)||r.set(i,t.clone(n.value),n.origin)})),r}get(e,t){t=this._normalizeOrigin(t);const r=this._values.get(e);return null==t||r?.origin===t?r?.value:void 0}originOf(e){return this._values.get(e)?.origin??r.OriginId.USER}keys(e){e=this._normalizeOrigin(e);const t=[...this._values.keys()];return null==e?t:t.filter((t=>this._values.get(t)?.origin===e))}set(e,t,n){if((n=this._normalizeOrigin(n))===r.OriginId.DEFAULTS){const t=this._values.get(e);if(null!=t?.origin&&t.origin>n)return}this._values.set(e,new i(t,n))}delete(e,t){null!=(t=this._normalizeOrigin(t))&&this._values.get(e)?.origin!==t||this._values.delete(e)}has(e,t){return null!=(t=this._normalizeOrigin(t))?this._values.get(e)?.origin===t:this._values.has(e)}isAtOrigin(e,t){return t=this._normalizeOrigin(t),this.has(e,t)&&this.originOf(e)===t}isBelowOrigin(e,t){return t=this._normalizeOrigin(t),!this.has(e)||this.originOf(e)<t}forEach(e){this._values.forEach((({value:t},r)=>e(t,r)))}_normalizeOrigin(e){if(null!=e)return e===r.OriginId.DEFAULTS?e:r.OriginId.USER}}class i{constructor(e,t){this.value=e,this.origin=t}}e.DefaultsStore=n,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/core/accessorSupport/defaultsStoreUtils":function(){define(["exports","./PropertyOrigin"],(function(e,t){"use strict";e.setupConstructedDefaults=function(e,r,n){r.keys().forEach((e=>{n.set(e,r.get(e),t.OriginId.DEFAULTS)}));const i=e.metadata;Object.keys(i).forEach((r=>{e.internalGet(r)&&n.set(r,e.internalGet(r),t.OriginId.DEFAULTS)}))},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/core/accessorSupport/read":function(){define(["exports","./get","./utils","./extensions/serializableProperty"],(function(e,t,r,n){"use strict";function i(e,r,n){if(!e?.read||!1===e.read.enabled||!e.read.source)return!1;const i=e.read.source;if("string"==typeof i){if(i===r)return!0;if(i.includes(".")&&0===i.indexOf(r)&&t.exists(i,n))return!0}else for(const e of i){if(e===r)return!0;if(e.includes(".")&&0===e.indexOf(r)&&t.exists(e,n))return!0}return!1}function o(e,t,r,o,s){let a=n.originSpecificReadPropertyDefinition(t[r],s);(function(e){return e&&(!e.read||!1!==e.read.enabled&&!e.read.source)})(a)&&(e[r]=!0);for(const l of Object.getOwnPropertyNames(t))a=n.originSpecificReadPropertyDefinition(t[l],s),i(a,r,o)&&(e[l]=!0)}function s(e,t,r,i){const o=r.metadata,s=n.originSpecificPropertyDefinition(o[t],i),a=s?.default;if(void 0===a)return;const l="function"==typeof a?a.call(e,t,i):a;void 0!==l&&r.set(t,l)}const a={origin:"service"};e.read=function(e,i,l=a){if(!i||"object"!=typeof i)return;const c=r.getProperties(e),u=c.metadata,d={};for(const e of Object.getOwnPropertyNames(i))o(d,u,e,i,l);c.setDefaultOrigin(l.origin);for(const r of Object.getOwnPropertyNames(d)){const o=n.originSpecificReadPropertyDefinition(u[r],l).read,s=o?.source;let a;a=s&&"string"==typeof s?t.valueOf(i,s):i[r],o?.reader&&(a=o.reader.call(e,a,i,l)),void 0!==a&&c.set(r,a)}if(!l||!l.ignoreDefaults){c.setDefaultOrigin("defaults");for(const t of Object.getOwnPropertyNames(u))d[t]||s(e,t,c,l)}c.setDefaultOrigin("user")},e.readLoadable=function(e,t,r,n=a){const i={...n,messages:[]};r(i),i.messages?.forEach((t=>{"warning"!==t.type||e.loaded?n?.messages&&n.messages.push(t):e.loadWarnings.push(t)}))},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/core/accessorSupport/write":function(){define(["exports","../arrayUtils","../Error","../Logger","./get","./PropertyOrigin","./utils","./extensions/serializableProperty"],(function(e,t,r,n,i,o,s,a){"use strict";function l(e,t,r,n,i){const o={};return t.write?.writer?.call(e,n,o,r,i),o}function c(e,s,a,l,c,u){if(!l?.write)return!1;const d=i.get(e,a);if(!c&&l.write.overridePolicy){const t=l.write.overridePolicy.call(e,d,a,u??void 0);void 0!==t&&(c=t)}if(c||(c=l.write),!c||!1===c.enabled)return!1;if(c.layerContainerTypes&&u?.layerContainerType&&!c.layerContainerTypes.includes(u.layerContainerType))return!1;if((null===d&&!c.allowNull&&!c.writerEnsuresNonNull||void 0===d)&&c.isRequired){const t=new r("web-document-write:property-required",`Missing value for required property '${a}' on '${e.declaredClass}'`,{propertyName:a,target:e});return t&&u?.messages?u.messages.push(t):t&&!u&&n.getLogger("esri.core.accessorSupport.write").error(t.name,t.message),!1}return!(void 0===d||null===d&&!c.allowNull&&!c.writerEnsuresNonNull||!(c.alwaysWriteDefaults||s.store.multipleOriginsSupported&&s.store.originOf(a)!==o.OriginId.DEFAULTS)&&function(e,r,n,i,o){const s=i.default;if(void 0===s)return!1;if(null!=i.defaultEquals)return i.defaultEquals(o);if("function"==typeof s){if(Array.isArray(o)){const i=s.call(e,r,n??void 0);return t.equals(i,o)}return!1}return s===o}(e,a,u,l,d)||!c.ignoreOrigin&&u?.origin&&s.store.multipleOriginsSupported&&s.store.originOf(a)<o.nameToId(u.origin))}e.willPropertyWrite=function(e,t,r,n){const i=s.getProperties(e),o=i.metadata,l=a.originSpecificWritePropertyDefinition(o[t],n);return!!l&&c(e,i,t,l,r,n)},e.write=function(e,t,r){if(e&&"function"==typeof e.toJSON&&(!e.toJSON.isDefaultToJSON||!e.write))return s.merge(t,e.toJSON(r));const n=s.getProperties(e),u=n.metadata;for(const d in u){const f=a.originSpecificWritePropertyDefinition(u[d],r);if(!c(e,n,d,f,void 0,r))continue;const h=i.get(e,d),p=l(e,f,f.write&&"string"==typeof f.write.target?f.write.target:d,h,r);Object.keys(p).length>0&&(t=s.merge(t,p),r?.resources?.pendingOperations?.length&&r.resources.pendingOperations.push(Promise.all(r.resources.pendingOperations).then((()=>s.merge(t,p,(()=>"replace-arrays"))))),r?.writtenProperties&&r.writtenProperties.push({target:e,propName:d,oldOrigin:o.idToReadableName(n.store.originOf(d)),newOrigin:r.origin}))}return t},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/core/accessorSupport/decorators/reader":function(){define(["exports","./property"],(function(e,t){"use strict";e.reader=function(e,r,n){let i,o;return void 0===r||Array.isArray(r)?(o=e,n=r,i=[void 0]):(o=r,i=Array.isArray(e)?e:[e]),(e,r)=>{const s=e.constructor.prototype;i.forEach((i=>{const a=t.propertyJSONMeta(e,i,o);a.read&&"object"==typeof a.read||(a.read={}),a.read.reader=s[r],n&&(a.read.source=(a.read.source||[]).concat(n))}))}},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/geometry/SpatialReference":function(){define(["exports","../chunks/tslib.es6","../core/Accessor","../core/JSONSupport","../core/lang","../core/unitUtils","../core/accessorSupport/ensureType","../core/accessorSupport/decorators/property","../core/accessorSupport/decorators/subclass","../core/accessorSupport/decorators/writer","./support/spatialReferenceUtils"],(function(e,t,r,n,i,o,s,a,l,c,u){"use strict";var d;return e.default=class extends n{static{d=this}static{this.GCS_NAD_1927=null}static{this.WGS84=null}static{this.WebMercator=null}static{this.PlateCarree=null}static fromJSON(e){if(!e)return null;if(102100===e?.wkid)return d.WebMercator;if(4326===e?.wkid)return d.WGS84;const t=new d;return t.read(e),t}constructor(e){super(e),this.latestWkid=null,this.wkid=null,this.wkt=null,this.wkt2=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}normalizeCtorArgs(e){if(e&&"object"==typeof e)return e;const t="string"==typeof e?"wkt":"wkid";return{[t]:e}}get isWGS84(){return u.isWGS84(this)}get isWebMercator(){return u.isWebMercator(this)}get isGeographic(){return u.isGeographic(this)}get isWrappable(){return u.isWrappable(this)}get metersPerUnit(){return o.getMetersPerUnitForSR(this)}get unit(){return o.getUnitString(this)||(this.isGeographic?"degrees":null)}writeWkt(e,t){this.wkid||(t.wkt=e)}clone(){if(this===d.WGS84)return new d(u.wgs84);if(this===d.WebMercator)return new d(u.webMercator);const e=new d;return null!=this.wkid?(e.wkid=this.wkid,null!=this.latestWkid&&(e.latestWkid=this.latestWkid),null!=this.vcsWkid&&(e.vcsWkid=this.vcsWkid),null!=this.latestVcsWkid&&(e.latestVcsWkid=this.latestVcsWkid)):(null!=this.wkt&&(e.wkt=this.wkt),null!=this.wkt2&&(e.wkt2=this.wkt2)),this.imageCoordinateSystem&&(e.imageCoordinateSystem=i.clone(this.imageCoordinateSystem)),e}equals(e){if(null==e)return!1;if(this.imageCoordinateSystem||e.imageCoordinateSystem){if(null==this.imageCoordinateSystem||null==e.imageCoordinateSystem)return!1;const{id:t,referenceServiceName:r}=e.imageCoordinateSystem,{geodataXform:n}=e.imageCoordinateSystem,i=this.imageCoordinateSystem;return null==t||n?JSON.stringify(i)===JSON.stringify(e.imageCoordinateSystem):r?i.id===t&&i.referenceServiceName===r:i.id===t}return u.equals(this,e)}toJSON(e){return this.write(void 0,e)}},t.__decorate([a.property({readOnly:!0})],e.default.prototype,"isWGS84",null),t.__decorate([a.property({readOnly:!0})],e.default.prototype,"isWebMercator",null),t.__decorate([a.property({readOnly:!0})],e.default.prototype,"isGeographic",null),t.__decorate([a.property({readOnly:!0})],e.default.prototype,"isWrappable",null),t.__decorate([a.property({type:s.Integer,json:{write:!0}})],e.default.prototype,"latestWkid",void 0),t.__decorate([a.property({readOnly:!0})],e.default.prototype,"metersPerUnit",null),t.__decorate([a.property({readOnly:!0})],e.default.prototype,"unit",null),t.__decorate([a.property({type:s.Integer,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null==this.wkt}}}}}}})],e.default.prototype,"wkid",void 0),t.__decorate([a.property({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null==this.wkid}}}}}}})],e.default.prototype,"wkt",void 0),t.__decorate([c.writer("wkt"),c.writer("web-scene","wkt")],e.default.prototype,"writeWkt",null),t.__decorate([a.property({type:String,json:{write:!1}})],e.default.prototype,"wkt2",void 0),t.__decorate([a.property({type:s.Integer,json:{write:!0}})],e.default.prototype,"vcsWkid",void 0),t.__decorate([a.property({type:s.Integer,json:{write:!0}})],e.default.prototype,"latestVcsWkid",void 0),t.__decorate([a.property()],e.default.prototype,"imageCoordinateSystem",void 0),e.default=d=t.__decorate([l.subclass("esri.geometry.SpatialReference")],e.default),e.default.prototype.toJSON.isDefaultToJSON=!0,e.default.GCS_NAD_1927=r.freeze(new e.default({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'})),e.default.WGS84=r.freeze(new e.default(u.wgs84)),e.default.WebMercator=r.freeze(new e.default(u.webMercator)),e.default.PlateCarree=r.freeze(new e.default(u.plateCarree)),e.default}))},"esri/core/unitUtils":function(){define(["exports","./has","./jsonMap","../geometry/ellipsoidUtils","../geometry/support/Ellipsoid","../geometry/support/spatialReferenceUtils","../geometry/support/WKIDUnitConversion"],(function(e,t,r,n,i,o,s){"use strict";const a=i.earth.radius*Math.PI/200,l=/(?:LENGTH)?UNIT\[([^\]]+)]]$/i,c=s,u=/UNIT\[([^\]]+)]/i,d=new Set([4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104025,104026,104139,104140]),f=r.strict()({millimeter:"millimeters",centimeter:"centimeters",meter:"meters",meter_german:"german-meters",kilometer:"kilometers",decimeter:"decimeters",micrometer:"micrometers",nanometer:"nanometers","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",fathom:"fathoms",nautical_mile:"nautical-miles",chain_us:"us-chains",link_us:"us-links",mile_us:"us-miles",yard_clarke:"clarke-yards",chain_clarke:"clarke-chains",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",link_sears:"sears-links",yard_benoit_1895_a:"benoit-1895-a-yards",foot_benoit_1895_a:"benoit-1895-a-feet",chain_benoit_1895_a:"benoit-1895-a-chains",link_benoit_1895_a:"benoit-1895-a-links",yard_benoit_1895_b:"benoit-1895-b-yards",foot_benoit_1895_b:"benoit-1895-b-feet",chain_benoit_1895_b:"benoit-1895-b-chains",link_benoit_1895_b:"benoit-1895-b-links",foot_1865:"1865-feet",foot_indian:"indian-feet",foot_indian_1937:"indian-1937-feet",foot_indian_1962:"indian-1962-feet",foot_indian_1975:"indian-1975-feet",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",yard_indian_1962:"indian-1962-yards",yard_indian_1975:"indian-1975-yards",statute_mile:"statute-miles",foot_gold_coast:"gold-coast-feet",foot_british_1936:"british-1936-feet",yard:"yards",chain:"chains",link:"links",yard_sears_1922_truncated:"sears-1922-truncated-yards",foot_sears_1922_truncated:"sears-1922-truncated-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains",link_sears_1922_truncated:"sears-1922-truncated-links",yard_us:"us-yards",inch:"inches",inch_us:"us-inches",rod:"rods",rod_us:"us-rods",nautical_mile_us:"us-nautical-miles",nautical_mile_uk:"uk-nautical-miles",smoot:"smoots",vara_tx:"tx-vara",point:"points"}),h=e=>e*e,p=e=>e*e*e,y={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},meters:{inBaseUnits:1},feet:{inBaseUnits:.3048},"us-feet":{inBaseUnits:.3048006096012192},"clarke-feet":{inBaseUnits:.3047972654},fathoms:{inBaseUnits:1.8288},"nautical-miles":{inBaseUnits:1852},"german-meters":{inBaseUnits:1.0000135965},"us-chains":{inBaseUnits:20.11684023368047},"us-links":{inBaseUnits:.2011684023368047},"us-miles":{inBaseUnits:1609.347218694438},kilometers:{inBaseUnits:1e3},"clarke-yards":{inBaseUnits:.9143917962},"clarke-chains":{inBaseUnits:20.1166195164},"clarke-links":{inBaseUnits:.201166195164},"sears-yards":{inBaseUnits:.9143984146160287},"sears-feet":{inBaseUnits:.3047994715386762},"sears-chains":{inBaseUnits:20.11676512155263},"sears-links":{inBaseUnits:.2011676512155263},"benoit-1895-a-yards":{inBaseUnits:.9143992},"benoit-1895-a-feet":{inBaseUnits:.3047997333333333},"benoit-1895-a-chains":{inBaseUnits:20.1167824},"benoit-1895-a-links":{inBaseUnits:.201167824},"benoit-1895-b-yards":{inBaseUnits:.9143992042898124},"benoit-1895-b-feet":{inBaseUnits:.3047997347632708},"benoit-1895-b-chains":{inBaseUnits:20.11678249437587},"benoit-1895-b-links":{inBaseUnits:.2011678249437587},"1865-feet":{inBaseUnits:.3048008333333334},"indian-feet":{inBaseUnits:.3047995102481469},"indian-1937-feet":{inBaseUnits:.30479841},"indian-1962-feet":{inBaseUnits:.3047996},"indian-1975-feet":{inBaseUnits:.3047995},"indian-yards":{inBaseUnits:.9143985307444408},"indian-1937-yards":{inBaseUnits:.91439523},"indian-1962-yards":{inBaseUnits:.9143988},"indian-1975-yards":{inBaseUnits:.9143985},miles:{inBaseUnits:1609.344},"statute-miles":{inBaseUnits:1609.344},"gold-coast-feet":{inBaseUnits:.3047997101815088},"british-1936-feet":{inBaseUnits:.3048007491},yards:{inBaseUnits:.9144},chains:{inBaseUnits:20.1168},links:{inBaseUnits:.201168},"sears-1922-truncated-yards":{inBaseUnits:.914398},"sears-1922-truncated-feet":{inBaseUnits:.3047993333333334},"sears-1922-truncated-chains":{inBaseUnits:20.116756},"sears-1922-truncated-links":{inBaseUnits:.20116756},"us-yards":{inBaseUnits:.9144018288036576},decimeters:{inBaseUnits:.1},inches:{inBaseUnits:.0254},"us-inches":{inBaseUnits:.0254000508001016},rods:{inBaseUnits:5.0292},"us-rods":{inBaseUnits:5.029210058420118},"us-nautical-miles":{inBaseUnits:1853.248},"uk-nautical-miles":{inBaseUnits:1853.184},smoots:{inBaseUnits:1.7018},"tx-vara":{inBaseUnits:.8466683600033867},points:{inBaseUnits:.0003527777777777778},micrometers:{inBaseUnits:1e-6},nanometers:{inBaseUnits:1e-9},"50-kilometers":{inBaseUnits:5e4},"150-kilometers":{inBaseUnits:15e4}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:h(.001)},"square-centimeters":{inBaseUnits:h(.01)},"square-decimeters":{inBaseUnits:h(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:h(1e3)},"square-inches":{inBaseUnits:h(.0254)},"square-feet":{inBaseUnits:h(.3048)},"square-yards":{inBaseUnits:h(.9144)},"square-miles":{inBaseUnits:h(1609.344)},"square-nautical-miles":{inBaseUnits:h(1852)},"square-us-feet":{inBaseUnits:h(1200/3937)},acres:{inBaseUnits:.0015625*h(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*p(.001)},"cubic-centimeters":{inBaseUnits:1e3*p(.01)},"cubic-decimeters":{inBaseUnits:1e3*p(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*p(1e3)},"cubic-inches":{inBaseUnits:1e3*p(.0254)},"cubic-feet":{inBaseUnits:1e3*p(.3048)},"cubic-yards":{inBaseUnits:1e3*p(.9144)},"cubic-miles":{inBaseUnits:1e3*p(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},m=(()=>{const e={};for(const t in y)for(const r in y[t].units)e[r]=t;return e})(),g=["metric","imperial"],_=[...g,"square-inches","square-feet","square-yards","square-miles","square-nautical-miles","square-us-feet","square-millimeters","square-centimeters","square-decimeters","square-meters","square-kilometers","acres","ares","hectares"],T=[...g,"inches","feet","yards","miles","nautical-miles","us-feet","millimeters","centimeters","decimeters","meters","kilometers"],S=new Map([["meters","square-meters"],["feet","square-feet"],["us-feet","square-us-feet"]]);function x(e){const t=m[e];if(!t)throw new Error("unknown type");return t}function b(e){return y[e].baseUnit}function E(e,t=null){return t=t||x(e),y[t].baseUnit===e}function v(e,t,r){if(t===r)return e;const n=x(t);if(n!==x(r))throw new Error("incompatible units");const i=E(t,n)?e:function(e,t,r){return e*y[r].units[t].inBaseUnits}(e,t,n);return E(r,n)?i:function(e,t,r){return e/y[r].units[t].inBaseUnits}(i,r,n)}function w(e){switch(e){case"metric":return"meters";case"imperial":return"feet";default:return e}}function P(e,t){const r=v(e,t,"meters");return Math.abs(r)<3e3?"meters":"kilometers"}function A(e,t){const r=v(e,t,"meters");return Math.abs(r)<1e5?"meters":"kilometers"}function M(e,t){const r=v(e,t,"feet");return Math.abs(r)<1e3?"feet":"miles"}function I(e,t){const r=v(e,t,"feet");return Math.abs(r)<1e5?"feet":"miles"}function O(e,t){const r=v(e,t,"square-meters");return Math.abs(r)<3e6?"square-meters":"square-kilometers"}function R(e,t){const r=v(e,t,"square-feet");return Math.abs(r)<1e6?"square-feet":"square-miles"}function D(e){return f.fromJSON(e.toLowerCase())||null}function N(e){return C(e)>=n.getReferenceEllipsoid(e).metersPerDegree?"meters":F(e)}function C(e,t=i.earth.metersPerDegree){return L(e,!0)??t}function L(e,t=!1){const r=e?.wkid??null,n=e?.wkt2??e?.wkt??null;let s=null;if(r){if(o.isWKIDFromMars(r))return i.mars.metersPerDegree;if(o.isWKIDFromMoon(r))return i.moon.metersPerDegree;s=c.values[c[r]],!s&&t&&d.has(r)&&(s=a)}else n&&(B(n)?s=k(l.exec(n),s):G(n)&&(s=k(u.exec(n),s)));return s}function k(e,t){return e?.[1]?U(e[1]):t}function U(e){return parseFloat(e.split(",")[1])}function F(e){const t=e?.wkid??null,r=e?.wkt2??e?.wkt??null;let n=null;if(t)n=c.units[c[t]];else if(r){const e=B(r)?l:G(r)?u:null;if(e){const t=e.exec(r);t?.[1]&&(n=function(e){const t=/[\\"']{1}([^\\"']+)/.exec(e);let r=t?.[1];if(!r||!D(r)){const t=U(e);r=null;const n=c.values;for(let e=0;e<n.length;++e)if(Math.abs(t-n[e])<j){r=c.units[e];break}}return r}(t[1]))}}return null!=n?D(n):null}function G(e){return/^GEOCCS/i.test(e)}function B(e){return/^\s*(?:PROJCS|PROJCRS|PROJECTEDCRS)/i.test(e)}const j=1e-7,V=r.strict()({esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"}),z=r.strict()({esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"}),W=r.strict()({esriDUDecimalDegrees:"degrees",esriDURadians:"radians"});e.adaptiveAreaUnit=function(e,t,r){switch(r){case"metric":return O(e,t);case"imperial":return R(e,t);default:return r}},e.adaptiveImperialAreaUnit=R,e.adaptiveImperialLengthUnit=M,e.adaptiveImperialVerticalLengthUnit=I,e.adaptiveLengthUnit=function(e,t,r){switch(r){case"metric":return P(e,t);case"imperial":return M(e,t);default:return r}},e.adaptiveMetricAreaUnit=O,e.adaptiveMetricLengthUnit=P,e.adaptiveMetricVerticalLengthUnit=A,e.adaptiveVerticalLengthUnit=function(e,t,r){switch(r){case"metric":return A(e,t);case"imperial":return I(e,t);default:return r}},e.angleUnitsJSONMap=W,e.areaUnitFromSpatialReference=function(e){const t=F(e);return null==t?null:S.get(t)},e.areaUnitsJSONMap=V,e.baseUnitForUnit=function(e){return b(x(e))},e.baseUnitForUnitType=b,e.convertFromSpatialReferenceUnit=function(e,t,r,n=!1){if(!n&&o.isGeographic(t))throw new Error("Unable to convert from an angular unit to a linear unit.");const i=F(t);return i!==r&&(e=i?v(e,i,r):v(e*=C(t),"meters",r)),e},e.convertToSpatialReferenceUnit=function(e,t,r,n=!1){if(!n&&o.isGeographic(r))throw new Error("Unable to convert from a linear unit to an angular unit.");const i=F(r);return t!==i&&(e=i?v(e,t,i):v(e,t,"meters")/C(r)),e},e.convertUnit=v,e.defaultAreaUnit=function(e){switch(e){case"metric":return"square-meters";case"imperial":return"square-feet";default:return e}},e.defaultLengthUnit=w,e.defaultVerticalLengthUnit=function(e){return w(e)},e.getDefaultUnitSystem=function(e){const t=F(e);if(null==t)return null;switch(t){case"feet":case"us-feet":case"clarke-feet":case"fathoms":case"nautical-miles":case"us-chains":case"us-links":case"us-miles":case"clarke-yards":case"clarke-chains":case"clarke-links":case"sears-yards":case"sears-feet":case"sears-chains":case"sears-links":case"benoit-1895-a-yards":case"benoit-1895-a-feet":case"benoit-1895-a-chains":case"benoit-1895-a-links":case"benoit-1895-b-yards":case"benoit-1895-b-feet":case"benoit-1895-b-chains":case"benoit-1895-b-links":case"1865-feet":case"indian-feet":case"indian-1937-feet":case"indian-1962-feet":case"indian-1975-feet":case"indian-yards":case"indian-1937-yards":case"indian-1962-yards":case"indian-1975-yards":case"statute-miles":case"gold-coast-feet":case"british-1936-feet":case"yards":case"chains":case"links":case"sears-1922-truncated-yards":case"sears-1922-truncated-feet":case"sears-1922-truncated-chains":case"sears-1922-truncated-links":case"us-yards":case"inches":case"us-inches":case"rods":case"us-rods":case"us-nautical-miles":case"uk-nautical-miles":case"smoots":case"tx-vara":case"points":return"imperial";case"millimeters":case"centimeters":case"meters":case"german-meters":case"kilometers":case"decimeters":case"micrometers":case"nanometers":case"50-kilometers":case"150-kilometers":return"metric"}return null},e.getMetersPerCartesianUnitForSR=function(e){return o.isGeographic(e)?1:C(e)},e.getMetersPerUnit=L,e.getMetersPerUnitForSR=C,e.getMetersPerVerticalUnitForSR=function(e){if(null!=e&&!o.isEarth(e))return 1;const t=C(e);return t>1e5?1:t},e.getUnitString=F,e.getVerticalUnitStringForSR=N,e.gradGcsIds=d,e.inchesPerMeter=39.37,e.isBaseUnit=E,e.isMeasurementSystem=function(e){return"imperial"===e||"metric"===e},e.isProjectedWKT=B,e.lengthToDegrees=function(e,t,r){return v(e,t,"meters")/(r*Math.PI/180)},e.lengthUnitFromSpatialReference=function(e){const t=F(e);return null!=t&&T.includes(t)?t:null},e.lengthUnitsJSONMap=z,e.measurementAreaUnits=_,e.measurementLengthUnits=T,e.unitFromRESTJSON=D,e.unitType=x,e.verticalLengthUnitFromSpatialReference=function(e){const t=N(e);return null!=t&&T.includes(t)?t:null},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/core/jsonMap":function(){define(["exports","./object"],(function(e,t){"use strict";class r{constructor(e,r={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=e,this._options=r,this.apiValues=[],this.jsonValues=[],this._apiToJSON=function(e){const t={};for(const r in e)t[e[r]]=r;return t}(e),this.apiValues=n(this._apiToJSON),this.jsonValues=n(this._jsonToAPI),this.read=e=>this.fromJSON(e),this.write=(e,r,n)=>{const i=this.toJSON(e);void 0!==i&&t.setDeepValue(n,i,r)},this.write.isJSONMapWriter=!0}toJSON(e){if(null==e)return null;if(this._apiToJSON.hasOwnProperty(e)){const t=this._apiToJSON[e];return this._options.useNumericKeys?+t:t}return this._options.ignoreUnknown?null:e}fromJSON(e){return null!=e&&this._jsonToAPI.hasOwnProperty(e)?this._jsonToAPI[e]:this._options.ignoreUnknown?void 0:e}}function n(e){const t=[];for(const r in e)t.push(r);return t.sort(),t}e.JSONMap=r,e.strict=function(){return function(e,t){return new r(e,{ignoreUnknown:!0,...t})}},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/geometry/ellipsoidUtils":function(){define(["exports","./support/Ellipsoid","./support/spatialReferenceUtils"],(function(e,t,r){"use strict";function n(e){return{wkt:`GEOCCS["Spherical geocentric",\n    DATUM["Not specified",\n      SPHEROID["Sphere",${e.radius},0]],\n    PRIMEM["Greenwich",0.0,\n      AUTHORITY["EPSG","8901"]],\n    UNIT["m",1.0],\n    AXIS["Geocentric X",OTHER],\n    AXIS["Geocentric Y",EAST],\n    AXIS["Geocentric Z",NORTH]\n  ]`}}const i=n(t.earth),o=n(t.mars),s=n(t.moon),a={wkt:`GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",${t.earth.radius},298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]`},l=o.wkt.toUpperCase(),c=s.wkt.toUpperCase();function u(e){return r.equals(e,i)}e.SphericalECEFSpatialReferenceLike=i,e.SphericalPCPFMarsLike=o,e.SphericalPCPFMoonLike=s,e.WGS84ECEFSpatialReferenceLike=a,e.getReferenceEllipsoid=function(e){if(null!=e&&r.isValid(e)){const n=e.wkid,i=e.wkt2??e.wkt;if(r.isWKIDFromMars(n))return t.mars;const o=i?.toUpperCase();if(i&&o===l)return t.mars;if(r.isWKIDFromMoon(n)||o&&o===c)return t.moon}return t.earth},e.getReferenceEllipsoidFromWKID=function(e){return r.isWKIDFromMars(e)?t.mars:r.isWKIDFromMoon(e)?t.moon:t.earth},e.isSphericalECEF=u,e.isSphericalPCPF=function(e){return u(e)||r.equals(e,o)||r.equals(e,s)},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/geometry/support/Ellipsoid":function(){define(["exports"],(function(e){"use strict";class t{constructor(e,t,r,n,i,o){this.semiMajorAxis=e,this.flattening=t,this.outerAtmosphereRimWidth=r,this.atmosphereHeight=n,this.scaleHeight=i;const s=1-this.flattening;this.semiMinorAxis=this.semiMajorAxis*s,this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=o||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}}const r=new t(6378137,1/298.257223563,3e5,1e5,.085,.006694379990137799),n=new t(3396190,1/169.8944472236118,23e4,6e4,.111),i=new t(1737400,0,0,0,0);e.Ellipsoid=t,e.earth=r,e.mars=n,e.moon=i,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/geometry/support/spatialReferenceUtils":function(){define(["exports","../../core/string","../../chunks/pe","./SupportedGCSWkids","./WKIDUnitConversion"],(function(e,t,r,n,i){"use strict";const o=[102100,102113,3857,3785,900913],s=[4326,...o,104905,104971],a=[-20037508.342788905,20037508.342788905],l=[-20037508.342787,20037508.342787],c={wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:a,origin:l,dx:1e-5},u={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:a,origin:l,dx:1e-5},102100:c,3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:a,origin:l,dx:1e-5},3857:c,4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},900913:c};function d(e){return/^\s*(?:GEOD|GEODETIC|GEOG|GEOGRAPHIC|PROJ|PROJECTED|VERT|VERTICAL|ENG|ENGINEERING|PARAMETRIC|TIME|DERIVEDPROJ|COMPOUND|BOUND)CRS/i.test(e)}function f(e){const t=e?.wkid;return null!=t&&t>=2e3&&o.includes(t)}function h(e){return e===n.SupportedGCSWkids.GCSMARS2000||e===n.SupportedGCSWkids.GCSMARS2000_SPHERE}function p(e){return h(e?.wkid)}function y(e){return e===n.SupportedGCSWkids.GCSMOON2000}function m(e){return y(e?.wkid)}function g(e){if(null==e)return!1;const t=e.wkid;return null!=t&&t>=2e3||null!=e.wkt2||null!=e.wkt}const _={wkid:4326,wkt:t.replace(u[4326].wkTemplate,{Central_Meridian:"0.0"})};e.equals=function(e,t){if(e===t)return!0;if(null==e||null==t)return!1;const r=e.wkid,n=t.wkid;if(null!=r||null!=n){if(r===n)return!0;if(f(e)&&f(t))return!0;const i=e.latestWkid;if(null!=i&&n===i)return!0;const o=t.latestWkid;return null!=o&&r===o}let i,o;return e.wkt2&&t.wkt2?(i=e.wkt2,o=t.wkt2):e.wkt&&t.wkt&&(i=e.wkt,o=t.wkt),!(!i||!o)&&i.toUpperCase()===o.toUpperCase()},e.equalsWithProjectionEngine=async function(e,t){if(e===t)return!0;r.isLoaded()||await r.load();const n=e=>{const t=e.wkt2||e.wkt;if(t){const e=r.PeFactory.fromString(r.PeDefs.PE_TYPE_COORDSYS,t);return e?.getCode()}const n=e.wkid??e.latestWkid;return n?r.PeFactory.coordsys(n)?.getCode():null},i=e?n(e):null,o=t?n(t):null;return null!=i&&null!=o&&i===o},e.getInfo=function(e){const t=e?.wkid;return null!=t&&t>=2e3&&u[t]||null},e.getWktFromWkt=async function(e,t){if(1===t&&!d(e)||2===t&&d(e))return e;r.isLoaded()||await r.load();const n=r.PeFactory.fromString(r.PeDefs.PE_TYPE_NONE,e);return n?.toString(1===t?r.PeDefs.PE_STR_FMT_WKT:r.PeDefs.PE_STR_FMT_WKT2)??null},e.isCGCS2000=function(e){return e?.wkid===n.SupportedGCSWkids.CGCS2000},e.isEarth=function(e){return!(p(e)||m(e))},e.isGeographic=function(e){if(!g(e))return!1;const{wkid:t}=e;if(t)return null==i[t];const r=e.wkt2||e.wkt;return!!r&&/^\s*(?:GEOGCS|GEOGCRS|GEOGRAPHICCRS)/i.test(r)},e.isMars=p,e.isMoon=m,e.isPlateCarree=function(e){return 32662===e?.wkid},e.isValid=g,e.isWGS84=function(e){return 4326===e?.wkid},e.isWKIDFromMars=h,e.isWKIDFromMoon=y,e.isWKT2=d,e.isWebMercator=f,e.isWrappable=function(e){const t=e?.wkid;return null!=t&&t>=2e3&&s.includes(t)},e.plateCarree={wkid:32662},e.srToRESTValue=function(e){if(!e)return;const{wkid:t,vcsWkid:r}=e;if(t)return r?JSON.stringify({wkid:t,vcsWkid:r}):String(t);const n=e.wkt||e.wkt2;return JSON.stringify(n?r?{wkt:n,vcsWkid:r}:{wkt:n}:{})},e.webMercator={wkid:102100,latestWkid:3857},e.webMercatorOrigin=l,e.webMercatorValid=a,e.wgs84=_,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/chunks/pe":function(){define(["require","exports","../assets","../core/has"],(function(e,t,r,n){"use strict";let i;function o(){return!!t._pe}function s(){return!!n("esri-wasm")}function a(){return i||(i=new Promise(((t,r)=>e(["./pe-wasm"],t,r))).then((({default:e})=>e({locateFile:e=>r.getAssetUrl(`esri/geometry/support/${e}`)}))).then((e=>{p(e)})),i)}var l,c,u,d,f,h;function p(e){function r(e,t,r){e[t]=r(e[t])}t._pe=e,t.PeDefs.init(),t.PeGTlistExtended.init(),t.PeNotationMgrs.init(),t.PeNotationUtm.init(),t.PePCSInfo.init(),t.PeDouble=class extends t._pe.PeDouble{constructor(e=NaN){super(e)}destroy(){t._pe.destroy(this)}[Symbol.dispose](){this.destroy()}},t.PeGCSExtent=class extends t._pe.PeGCSExtent{destroy(){t._pe.destroy(this)}[Symbol.dispose](){this.destroy()}};const n=[t._pe.PeAngunit,t._pe.PeDatum,t._pe.PeGeogcs,t._pe.PeGeogtran,t._pe.PeObject,t._pe.PeParameter,t._pe.PePrimem,t._pe.PeProjcs,t._pe.PeSpheroid,t._pe.PeUnit];for(const e of n)r(e.prototype,"getName",(e=>function(){return e.call(this,new Array(t.PeDefs.PE_NAME_MAX))}));for(const e of[t._pe.PeGeogtran,t._pe.PeProjcs])r(e.prototype,"getParameters",(e=>function(){const r=new Array(t.PeDefs.PE_PARM_MAX);let n=e.call(this);for(let e=0;e<r.length;e++){const i=t._pe.getValue(n,"*");r[e]=i?t._pe.wrapPointer(i,t._pe.PeParameter):null,n+=Int32Array.BYTES_PER_ELEMENT}return r}));r(t._pe.PeHorizon.prototype,"getCoord",(e=>function(t=!1){const r=this.getSize();if(!r)return null;const n=[];return _(n,r,e.call(this),t),n})),r(t._pe.PeGTlistExtendedEntry.prototype,"getEntries",(e=>{const r=t._pe._pe_getPeGTlistExtendedGTsSize();return function(){let n=null;const i=e.call(this);if(!t._pe.compare(i,t._pe.NULL)){n=[i];const e=this.getSteps();if(e>1){const o=t._pe.getPointer(i);for(let i=1;i<e;i++)n.push(t._pe.wrapPointer(o+r*i,t._pe.PeGTlistExtendedGTs))}}return n}}));const i=t._pe._pe_getPeHorizonSize(),o=e=>function(){let r=this._cache;if(r||(r=new Map,this._cache=r),r.has(e))return r.get(e);let n=null;const o=e.call(this);if(!t._pe.compare(o,t._pe.NULL)){n=[o];const e=o.getNump();if(e>1){const r=t._pe.getPointer(o);for(let o=1;o<e;o++)n.push(t._pe.wrapPointer(r+i*o,t._pe.PeHorizon))}}return r.set(e,n),n};r(t._pe.PeProjcs.prototype,"horizonGcsGenerate",o),r(t._pe.PeProjcs.prototype,"horizonPcsGenerate",o),t._pe.PeObject.prototype.toString=function(e=t.PeDefs.PE_STR_OPTS_NONE){t._pe.ensureCache.prepare();const r=t._pe.getPointer(this),n=t._pe.ensureInt8(new Array(t.PeDefs.PE_BUFFER_MAX));return t._pe.UTF8ToString(t._pe._pe_object_to_string_ext(r,e,n))},t._pe.PeGeogcs.prototype.destroy=function(){this.Delete(),y(this),this.ptr=0},t._pe.PeGeogcs.prototype[Symbol.dispose]=function(){this.destroy()},t._pe.PeProjcs.prototype.destroy=function(){this.Delete(),y(this),this.ptr=0},t._pe.PeProjcs.prototype[Symbol.dispose]=function(){this.destroy()}}function y(e){if(!e)return;const r=t._pe.getClass(e);if(!r)return;const n=t._pe.getCache(r);if(!n)return;const i=t._pe.getPointer(e);i&&delete n[i]}function m(e,r){const n=[],i=new Array(r);for(let r=0;r<e;r++)n.push(t._pe.ensureInt8(i));return n}function g(e){return ArrayBuffer.isView(e)?e:Array.isArray(e[0])?e.flat():e}function _(e,r,n,i=!1){if(i)for(let i=0;i<2*r;i++)e[i]=t._pe.getValue(n+i*Float64Array.BYTES_PER_ELEMENT,"double");else{const i=0===e.length;for(let o=0;o<r;o++)i&&(e[o]=new Array(2)),e[o][0]=t._pe.getValue(n,"double"),e[o][1]=t._pe.getValue(n+Float64Array.BYTES_PER_ELEMENT,"double"),n+=2*Float64Array.BYTES_PER_ELEMENT}}t._pe=null,t.PeCSTransformations=void 0,function(e){function r(e,r,n){t._pe.ensureCache.prepare();const i=g(n),o=n===i,s=t._pe.ensureFloat64(i),a=t._pe._pe_geog_to_proj(t._pe.getPointer(e),r,s);return a&&_(n,r,s,o),a}function n(e,t,r){return i(e,t,r,0)}function i(e,r,n,i){t._pe.ensureCache.prepare();const o=g(n),s=n===o,a=t._pe.ensureFloat64(o),l=t._pe._pe_proj_to_geog_center(t._pe.getPointer(e),r,a,i);return l&&_(n,r,a,s),l}e.geogToProj=r,e.projGeog=function(e,i,o,s){switch(s){case t.PeDefs.PE_TRANSFORM_P_TO_G:return n(e,i,o);case t.PeDefs.PE_TRANSFORM_G_TO_P:return r(e,i,o)}return 0},e.projToGeog=n,e.projToGeogCenter=i}(t.PeCSTransformations||(t.PeCSTransformations={})),t.PeDefs=void 0,(l=t.PeDefs||(t.PeDefs={})).init=function(){l.PE_BUFFER_MAX=t._pe.PeDefs.prototype.PE_BUFFER_MAX,l.PE_NAME_MAX=t._pe.PeDefs.prototype.PE_NAME_MAX,l.PE_MGRS_MAX=t._pe.PeDefs.prototype.PE_MGRS_MAX,l.PE_USNG_MAX=t._pe.PeDefs.prototype.PE_USNG_MAX,l.PE_DD_MAX=t._pe.PeDefs.prototype.PE_DD_MAX,l.PE_DDM_MAX=t._pe.PeDefs.prototype.PE_DDM_MAX,l.PE_DMS_MAX=t._pe.PeDefs.prototype.PE_DMS_MAX,l.PE_UTM_MAX=t._pe.PeDefs.prototype.PE_UTM_MAX,l.PE_PARM_MAX=t._pe.PeDefs.prototype.PE_PARM_MAX,l.PE_TYPE_NONE=t._pe.PeDefs.prototype.PE_TYPE_NONE,l.PE_TYPE_GEOGCS=t._pe.PeDefs.prototype.PE_TYPE_GEOGCS,l.PE_TYPE_PROJCS=t._pe.PeDefs.prototype.PE_TYPE_PROJCS,l.PE_TYPE_GEOGTRAN=t._pe.PeDefs.prototype.PE_TYPE_GEOGTRAN,l.PE_TYPE_COORDSYS=t._pe.PeDefs.prototype.PE_TYPE_COORDSYS,l.PE_TYPE_UNIT=t._pe.PeDefs.prototype.PE_TYPE_UNIT,l.PE_TYPE_LINUNIT=t._pe.PeDefs.prototype.PE_TYPE_LINUNIT,l.PE_STR_OPTS_NONE=t._pe.PeDefs.prototype.PE_STR_OPTS_NONE,l.PE_STR_AUTH_NONE=t._pe.PeDefs.prototype.PE_STR_AUTH_NONE,l.PE_STR_AUTH_TOP=t._pe.PeDefs.prototype.PE_STR_AUTH_TOP,l.PE_STR_NAME_CANON=t._pe.PeDefs.prototype.PE_STR_NAME_CANON,l.PE_STR_FMT_WKT=t._pe.PeDefs.prototype.PE_STR_FMT_WKT,l.PE_STR_FMT_WKT2=t._pe.PeDefs.prototype.PE_STR_FMT_WKT2,l.PE_PARM_X0=t._pe.PeDefs.prototype.PE_PARM_X0,l.PE_PARM_ND=t._pe.PeDefs.prototype.PE_PARM_ND,l.PE_TRANSFORM_1_TO_2=t._pe.PeDefs.prototype.PE_TRANSFORM_1_TO_2,l.PE_TRANSFORM_2_TO_1=t._pe.PeDefs.prototype.PE_TRANSFORM_2_TO_1,l.PE_TRANSFORM_P_TO_G=t._pe.PeDefs.prototype.PE_TRANSFORM_P_TO_G,l.PE_TRANSFORM_G_TO_P=t._pe.PeDefs.prototype.PE_TRANSFORM_G_TO_P,l.PE_HORIZON_RECT=t._pe.PeDefs.prototype.PE_HORIZON_RECT,l.PE_HORIZON_POLY=t._pe.PeDefs.prototype.PE_HORIZON_POLY,l.PE_HORIZON_LINE=t._pe.PeDefs.prototype.PE_HORIZON_LINE,l.PE_HORIZON_DELTA=t._pe.PeDefs.prototype.PE_HORIZON_DELTA},t.PeDouble=null,t.PeFactory=void 0,function(e){const r={},n={},i=e=>{const r=e.getType();switch(r){case t.PeDefs.PE_TYPE_GEOGCS:e=t._pe.castObject(e,t._pe.PeGeogcs);break;case t.PeDefs.PE_TYPE_PROJCS:e=t._pe.castObject(e,t._pe.PeProjcs);break;case t.PeDefs.PE_TYPE_GEOGTRAN:e=t._pe.castObject(e,t._pe.PeGeogtran);break;default:r&t.PeDefs.PE_TYPE_UNIT&&(e=t._pe.castObject(e,t._pe.PeUnit))}return e};function o(e,n){let o=null,s=r[e];if(s||(s={},r[e]=s),s.hasOwnProperty(String(n))&&(o=s[n],t._pe.compare(o,t._pe.NULL)&&(o=null)),!o){const r=t._pe.PeFactory.prototype.factoryByType(e,n);t._pe.compare(r,t._pe.NULL)||(o=i(r),s[n]=o)}return o}e.initialize=function(){t._pe.PeFactory.prototype.initialize(null)},e.coordsys=function(e){return o(t.PeDefs.PE_TYPE_COORDSYS,e)},e.factoryByType=o,e.fromString=function(e,r){let o=null,s=n[e];if(s||(s={},n[e]=s),s.hasOwnProperty(r)&&(o=s[r],t._pe.compare(o,t._pe.NULL)&&(o=null)),!o){const n=t._pe.PeFactory.prototype.fromString(e,r);t._pe.compare(n,t._pe.NULL)||(o=i(n),s[r]=o)}return o},e.geogcs=function(e){return o(t.PeDefs.PE_TYPE_GEOGCS,e)},e.geogtran=function(e){return o(t.PeDefs.PE_TYPE_GEOGTRAN,e)},e.getCode=function(e){return t._pe.PeFactory.prototype.getCode(e)},e.projcs=function(e){return o(t.PeDefs.PE_TYPE_PROJCS,e)},e.unit=function(e){return o(t.PeDefs.PE_TYPE_UNIT,e)}}(t.PeFactory||(t.PeFactory={})),t.PeGCSExtent=null,t.PeGTlistExtended=void 0,function(e){let r;e.init=function(){e.PE_GTLIST_OPTS_COMMON=t._pe.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,r=t._pe._pe_getPeGTlistExtendedEntrySize()},e.getGTlist=function(e,n,i,o,s,a){let l=null;const c=new t._pe.PeInteger(a);try{const u=t._pe.PeGTlistExtended.prototype.getGTlist(e,n,i,o,s,c);if((a=c.val)&&(l=[u],a>1)){const e=t._pe.getPointer(u);for(let n=1;n<a;n++)l.push(t._pe.wrapPointer(e+r*n,t._pe.PeGTlistExtendedEntry))}}finally{t._pe.destroy(c)}return l}}(t.PeGTlistExtended||(t.PeGTlistExtended={})),t.PeGTlistExtendedEntry=void 0,(t.PeGTlistExtendedEntry||(t.PeGTlistExtendedEntry={})).destroy=function(e){if(e?.length){for(const t of e)y(t),t.getEntries().forEach((e=>{y(e);const t=e.getGeogtran();y(t),t.getParameters().forEach(y),[t.getGeogcs1(),t.getGeogcs2()].forEach((e=>{y(e);const t=e.getDatum();y(t),y(t.getSpheroid()),y(e.getPrimem()),y(e.getUnit())}))}));t._pe.PeGTlistExtendedEntry.prototype.Delete(e[0])}},t.PeGTTransformations=void 0,(t.PeGTTransformations||(t.PeGTTransformations={})).geogToGeog=function(e,r,n,i,o){t._pe.ensureCache.prepare();const s=g(n),a=n===s,l=t._pe.ensureFloat64(s);let c=0;i&&(c=t._pe.ensureFloat64(i));const u=t._pe._pe_geog_to_geog(t._pe.getPointer(e),r,l,c,o);return u&&_(n,r,l,a),u},t.PeLineType=void 0,(c=t.PeLineType||(t.PeLineType={})).geodesicCoordinate=function(e,r,n,i,o,s,a,l){t._pe.PeLineType.prototype.geodesic_coordinate(e,r,n,i,o,s,a,l)},c.geodeticCoordinate=function(e,r,n,i,o,s,a,l,c){t._pe.PeLineType.prototype.geodetic_coordinate(e,r,n,i,o,s,a,l,c)},c.geodeticDistance=function(e,r,n,i,o,s,a,l,c,u){t._pe.PeLineType.prototype.geodetic_distance(e,r,n,i,o,s,a,l,c,u)},c.greatEllipticDistance=function(e,r,n,i,o,s,a,l,c){t._pe.PeLineType.prototype.great_elliptic_distance(e,r,n,i,o,s,a,l,c)},t.PeMath=void 0,(u=t.PeMath||(t.PeMath={})).phiToEta=function(e,r){return t._pe.PeMath.prototype.phi_to_eta(e,r)},u.etaToPhi=function(e,r){return t._pe.PeMath.prototype.eta_to_phi(e,r)},u.phiToPhig=function(e,r){return t._pe.PeMath.prototype.phi_to_phig(e,r)},u.q=function(e,r,n){return t._pe.PeMath.prototype.q(e,r,n)},u.q90=function(e,r){return t._pe.PeMath.prototype.q90(e,r)},t.PeNotationDms=void 0,function(e){const r=(e,r,n,i,o,s)=>{let a,l;switch(t._pe.ensureCache.prepare(),e){case"dd":a=t._pe._pe_geog_to_dd,l=t.PeDefs.PE_DD_MAX;break;case"ddm":a=t._pe._pe_geog_to_ddm,l=t.PeDefs.PE_DDM_MAX;break;case"dms":a=t._pe._pe_geog_to_dms,l=t.PeDefs.PE_DMS_MAX}let c=0;r&&(c=t._pe.getPointer(r));const u=g(i),d=t._pe.ensureFloat64(u),f=m(n,l),h=a(c,n,d,o,t._pe.ensureInt32(f));if(h)for(let e=0;e<n;e++)s[e]=t._pe.UTF8ToString(f[e]);return h},n=(e,r,n,i,o)=>{let s;switch(t._pe.ensureCache.prepare(),e){case"dd":s=t._pe._pe_dd_to_geog;break;case"ddm":s=t._pe._pe_ddm_to_geog;break;case"dms":s=t._pe._pe_dms_to_geog}let a=0;r&&(a=t._pe.getPointer(r));const l=i.map((e=>t._pe.ensureString(e))),c=t._pe.ensureInt32(l),u=t._pe.ensureFloat64(new Array(2*n)),d=s(a,n,c,u);return d&&_(o,n,u),d};e.geogToDms=function(e,t,n,i,o){return r("dms",e,t,n,i,o)},e.dmsToGeog=function(e,t,r,i){return n("dms",e,t,r,i)},e.geogToDdm=function(e,t,n,i,o){return r("ddm",e,t,n,i,o)},e.ddmToGeog=function(e,t,r,i){return n("ddm",e,t,r,i)},e.geogToDd=function(e,t,n,i,o){return r("dd",e,t,n,i,o)},e.ddToGeog=function(e,t,r,i){return n("dd",e,t,r,i)}}(t.PeNotationDms||(t.PeNotationDms={})),t.PeNotationMgrs=void 0,(d=t.PeNotationMgrs||(t.PeNotationMgrs={})).init=function(){d.PE_MGRS_STYLE_NEW=t._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,d.PE_MGRS_STYLE_OLD=t._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,d.PE_MGRS_STYLE_AUTO=t._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,d.PE_MGRS_180_ZONE_1_PLUS=t._pe.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,d.PE_MGRS_ADD_SPACES=t._pe.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES},d.geogToMgrsExtended=function(e,r,n,i,o,s,a){t._pe.ensureCache.prepare();let l=0;e&&(l=t._pe.getPointer(e));const c=g(n),u=t._pe.ensureFloat64(c),d=m(r,t.PeDefs.PE_MGRS_MAX),f=t._pe.ensureInt32(d),h=t._pe._pe_geog_to_mgrs_extended(l,r,u,i,o,s,f);if(h)for(let e=0;e<r;e++)a[e]=t._pe.UTF8ToString(d[e]);return h},d.mgrsToGeogExtended=function(e,r,n,i,o){t._pe.ensureCache.prepare();let s=0;e&&(s=t._pe.getPointer(e));const a=n.map((e=>t._pe.ensureString(e))),l=t._pe.ensureInt32(a),c=t._pe.ensureFloat64(new Array(2*r)),u=t._pe._pe_mgrs_to_geog_extended(s,r,l,i,c);return u&&_(o,r,c),u},t.PeNotationUsng=void 0,(f=t.PeNotationUsng||(t.PeNotationUsng={})).geogToUsng=function(e,r,n,i,o,s,a){t._pe.ensureCache.prepare();let l=0;e&&(l=t._pe.getPointer(e));const c=g(n),u=t._pe.ensureFloat64(c),d=m(r,t.PeDefs.PE_MGRS_MAX),f=t._pe.ensureInt32(d),h=t._pe._pe_geog_to_usng(l,r,u,i,o,s,f);if(h)for(let e=0;e<r;e++)a[e]=t._pe.UTF8ToString(d[e]);return h},f.usngToGeog=function(e,r,n,i){t._pe.ensureCache.prepare();let o=0;e&&(o=t._pe.getPointer(e));const s=n.map((e=>t._pe.ensureString(e))),a=t._pe.ensureInt32(s),l=t._pe.ensureFloat64(new Array(2*r)),c=t._pe._pe_usng_to_geog(o,r,a,l);return c&&_(i,r,l),c},t.PeNotationUtm=void 0,(h=t.PeNotationUtm||(t.PeNotationUtm={})).init=function(){h.PE_UTM_OPTS_NONE=t._pe.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,h.PE_UTM_OPTS_ADD_SPACES=t._pe.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,h.PE_UTM_OPTS_NS=t._pe.PeNotationUtm.prototype.PE_UTM_OPTS_NS},h.geogToUtm=function(e,r,n,i,o){t._pe.ensureCache.prepare();let s=0;e&&(s=t._pe.getPointer(e));const a=g(n),l=t._pe.ensureFloat64(a),c=m(r,t.PeDefs.PE_UTM_MAX),u=t._pe.ensureInt32(c),d=t._pe._pe_geog_to_utm(s,r,l,i,u);if(d)for(let e=0;e<r;e++)o[e]=t._pe.UTF8ToString(c[e]);return d},h.utmToGeog=function(e,r,n,i,o){t._pe.ensureCache.prepare();let s=0;e&&(s=t._pe.getPointer(e));const a=n.map((e=>t._pe.ensureString(e))),l=t._pe.ensureInt32(a),c=t._pe.ensureFloat64(new Array(2*r)),u=t._pe._pe_utm_to_geog(s,r,l,i,c);return u&&_(o,r,c),u},t.PePCSInfo=void 0,function(e){const r=new Map;e.init=function(){e.PE_PCSINFO_OPTION_NONE=t._pe.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,e.PE_PCSINFO_OPTION_DOMAIN=t._pe.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,e.PE_POLE_OUTSIDE_BOUNDARY=t._pe.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,e.PE_POLE_POINT=t._pe.PePCSInfo.prototype.PE_POLE_POINT},e.generate=function(n,i=e.PE_PCSINFO_OPTION_DOMAIN){let o=null,s=null;return r.has(n)&&(s=r.get(n),s[i]&&(o=s[i])),o||(o=t._pe.PePCSInfo.prototype.generate(n,i),s||(s=[],r.set(n,s)),s[i]=o),o}}(t.PePCSInfo||(t.PePCSInfo={})),t.PeVersion=void 0,(t.PeVersion||(t.PeVersion={})).versionString=function(){return t._pe.PeVersion.prototype.version_string()};const T=Object.freeze(Object.defineProperty({__proto__:null,get PeCSTransformations(){return t.PeCSTransformations},get PeDefs(){return t.PeDefs},get PeDouble(){return t.PeDouble},get PeFactory(){return t.PeFactory},get PeGCSExtent(){return t.PeGCSExtent},get PeGTTransformations(){return t.PeGTTransformations},get PeGTlistExtended(){return t.PeGTlistExtended},get PeGTlistExtendedEntry(){return t.PeGTlistExtendedEntry},get PeLineType(){return t.PeLineType},get PeMath(){return t.PeMath},get PeNotationDms(){return t.PeNotationDms},get PeNotationMgrs(){return t.PeNotationMgrs},get PeNotationUsng(){return t.PeNotationUsng},get PeNotationUtm(){return t.PeNotationUtm},get PePCSInfo(){return t.PePCSInfo},get PeVersion(){return t.PeVersion},_init:p,get _pe(){return t._pe},isLoaded:o,isSupported:s,load:a},Symbol.toStringTag,{value:"Module"}));t._init=p,t.isLoaded=o,t.isSupported=s,t.load=a,t.pe=T}))},"esri/assets":function(){define(["exports","./config","./request","./core/Error","./core/Logger","./core/urlUtils"],(function(e,t,r,n,i,o){"use strict";function s(e){if(!t.assetsPath)throw i.getLogger("esri.assets").errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new n("assets:path-not-set","config.assetsPath is not set");return o.join(t.assetsPath,e)}e.fetchAsset=function(e,t){return r(s(e),t)},e.getAssetUrl=s,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/request":function(){define(["require","./config","./kernel","./core/Error","./core/has","./core/lang","./core/MapUtils","./core/promiseUtils","./core/urlUtils","./layers/support/arcgisLayerUrl","./portal/support/urlUtils","./support/apiKeyUtils","./support/requestUtils"],(function(e,t,r,n,i,o,s,a,l,c,u,d,f){"use strict";const h=e=>Object.freeze(Object.defineProperty({__proto__:null,default:e},Symbol.toStringTag,{value:"Module"}));async function p(t,r){t instanceof URL&&(t=t.toString()),r?.query instanceof URLSearchParams&&(r.query=l.queryToObject(r.query.toString().replaceAll("+"," ")));const n=l.isDataProtocol(t),o=l.isBlobProtocol(t);o||n||(t=l.normalize(t));const u={url:t,requestOptions:{...r}},d=e=>({data:e,getAllHeaders:b,getHeader:b,httpStatus:200,requestOptions:u.requestOptions,url:u.url}),f=l.getInterceptor(t,g.internalInterceptors);if(f){const e=await I(f,u);if(null!=e)return d(e)}let h=l.getInterceptor(t);if(h){const e=await I(h,u);if(null!=e)return d(e);h.after||h.error||(h=null)}if(t=u.url,"image"===(r=u.requestOptions).responseType&&(i("host-webworker")||i("host-node")))throw w("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),u);if("head"===r.method){if(r.body)throw w("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),u);if(n||o)throw w("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),u)}if(await async function(){i("host-webworker")&&(!y&&globalThis.invokeStaticMessage?y=await new Promise(((t,r)=>e(["./core/workers/request"],t,r))):m=!0)}(),y)return y.execute(t,r);const p=new AbortController,_=a.onAbort(r,(()=>p.abort())),T={controller:p,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:h,params:u,redoRequest:!1,useIdentity:g.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},S=r.useRequestQueue?async function(t){const r=function(e){let t,r;return"string"==typeof e?(t=l.getOrigin(e,!0),r=c.isHostedAgolService(e)):(t=e.origin,r=c.isHostedAgolService(e.toString())),null==t?null:{origin:t,isHosted:r}}(t.params.url);if(!r)return D(t);const{QueueProcessor:n}=await new Promise(((t,r)=>e(["./core/QueueProcessor"],t,r))),o=s.getOrCreateMapValue(R,r.origin,(()=>{const e=r.isHosted?i("request-queue-concurrency-hosted"):i("request-queue-concurrency-non-hosted");return new n({concurrency:e,process:e=>{if(a.isAborted(e.params.requestOptions))throw w("",a.createAbortError("Request canceled"),e.params);return D(e)}})}));return o.push(t)}(T):D(T),x=await S.finally((()=>_?.remove()));return h?.after?.(x),x}let y,m=!1;const g=t.request,_="FormData"in globalThis,T=new Set([499,498,403,401]),S=new Set(["COM_0056","COM_0057","SB_0008"]),x=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],b=()=>null,E=Symbol();function v(e){const t=l.getOrigin(e);return!t||t.endsWith(".arcgis.com")||p._corsServers.includes(t)||l.isTrustedServer(t)}function w(e,t,r,i){let s;const l={url:r.url,requestOptions:r.requestOptions,getAllHeaders:b,getHeader:b,ssl:!1};if(t instanceof n)return t.details?(t.details=o.clone(t.details),t.details.url=r.url,t.details.requestOptions=r.requestOptions):t.details=l,t;if(t){const e=i&&(()=>Array.from(i.headers)),r=i&&(e=>i.headers.get(e)),n=i?.status,o=t.message;o&&(s=o),e&&r&&(l.getAllHeaders=e,l.getHeader=r),l.httpStatus=(null!=t.httpCode?t.httpCode:t.code)||n||0,l.subCode=t.subcode,l.messageCode=t.messageCode,"string"==typeof t.details?(l.messages=[t.details],s??=t.details):(l.messages=t.details,s??=l.messages?.[0]),l.raw=E in t?t[E]:t}return s??="Error",a.isAbortError(t)?a.createAbortError():new n(e,s,l)}async function P(){r.id||await new Promise(((t,r)=>e(["./identity/IdentityManager"],(e=>t(h(e))),r)))}function A(e){return x.some((t=>t.test(e)))}async function M(e){let t=e.params.url,n=f.getPreferredUrl(t);const o=e.params.requestOptions,s=e.fetchOptions??{},c=l.isBlobProtocol(t)||l.isDataProtocol(t),d=o.responseType||"json",h=c?0:null!=o.timeout?o.timeout:g.timeout;let y=!1;if(!c){e.useSSL&&(t=l.toHTTPS(t));let a={...o.query};e.credentialToken&&(a.token=e.credentialToken);let c=l.objectToQuery(a);i("esri-url-encodes-apostrophe")&&(c=c.replaceAll("'","%27"));const d=n.length+1+c.length;let h;y="delete"===o.method||"post"===o.method||"put"===o.method||!!o.body||d>g.maxUrlLength;const p=o.useProxy||!!l.getProxyRule(t);if(p){const e=l.getProxyUrl(t);h=e.path,!y&&h.length+1+d>g.maxUrlLength&&(y=!0),e.query&&(a={...e.query,...a})}if("HEAD"===s.method&&(y||p)){if(y){if(d>g.maxUrlLength)throw w("request:invalid-parameters",new Error("URL exceeds maximum length"),e.params);throw w("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),e.params)}if(p)throw w("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),e.params)}if(y?(s.method="delete"===o.method?"DELETE":"put"===o.method?"PUT":"POST",o.body?t=l.addQueryParameters(t,a):(s.body=l.objectToQuery(a),s.headers||(s.headers={}),s.headers["Content-Type"]="application/x-www-form-urlencoded")):t=l.addQueryParameters(t,a),p&&(e.useProxy=!0,t=`${h}?${t}`),a.token&&_&&s.body instanceof FormData&&!u.isSecureProxyService(t)&&s.body.set("token",a.token),o.hasOwnProperty("withCredentials"))e.withCredentials=o.withCredentials;else if(!l.hasSameOrigin(t,l.getAppUrl()))if(l.isTrustedServer(t))e.withCredentials=!0;else if(r.id){const n=r.id.findServerInfo(t);n?.webTierAuth&&(e.withCredentials=!0)}e.withCredentials&&(s.credentials="include",f.isNoCorsRequestRequired(t)&&await f.sendNoCorsRequest(y?l.addQueryParameters(t,a):t)),n=f.getPreferredUrl(t)}let m,T,S=0,x=!1;h>0&&(S=setTimeout((()=>{x=!0,e.controller.abort()}),h));try{if("native-request-init"===o.responseType)T=s,T.url=n,o.signal?T.signal=o.signal:delete T.signal;else if("image"!==o.responseType||"default"!==s.cache||"GET"!==s.method||y||function(e){if(e)for(const t of Object.getOwnPropertyNames(e))if(e[t])return!0;return!1}(o.headers)||!c&&!e.useProxy&&g.proxyUrl&&!v(t)){if(p._beforeFetch&&await p._beforeFetch(t,s),m=await fetch(n,s),p._afterFetch&&await p._afterFetch(m),e.useProxy||function(e){const t=l.getOrigin(e);t&&!p._corsServers.includes(t)&&p._corsServers.push(t)}(t),"native"===o.responseType)T=m;else if("HEAD"!==s.method)if(m.ok){switch(d){case"array-buffer":T=await m.arrayBuffer();break;case"blob":case"image":T=await m.blob();break;default:T=await m.text()}if(S&&(clearTimeout(S),S=0),"json"===d||"xml"===d||"document"===d)if(T)switch(d){case"json":T=JSON.parse(T);break;case"xml":T=O(T,"application/xml");break;case"document":T=O(T,"text/html")}else T=null;if(T){if("array-buffer"===d||"blob"===d){const e=m.headers.get("Content-Type");if(e&&/application\/json|text\/plain/i.test(e)&&T["blob"===d?"size":"byteLength"]<=750)try{const e=await new Response(T).json();e.error&&(T=e)}catch{}}"image"===d&&T instanceof Blob&&(T=await C(URL.createObjectURL(T),e,!0))}}else{T=await m.text();try{T=JSON.parse(T)}catch{}}}else T=await C(n,e)}catch(r){if("AbortError"===r.name){if(x)throw f.createTimeoutError();throw a.createAbortError("Request canceled")}if(!(!m&&r instanceof TypeError&&g.proxyUrl)||o.body||"delete"===o.method||"head"===o.method||"post"===o.method||"put"===o.method||e.useProxy||v(t))throw r;e.redoRequest=!0,l.addProxyRule({proxyUrl:g.proxyUrl,urlPrefix:l.getOrigin(t)??""})}finally{S&&clearTimeout(S)}return[m,T]}async function I(e,t){if(null!=e.responseData)return e.responseData;if(e.headers&&(t.requestOptions.headers={...t.requestOptions.headers,...e.headers}),e.query&&(t.requestOptions.query={...t.requestOptions.query,...e.query}),e.before){let r,i;try{i=await e.before(t)}catch(e){r=w("request:interceptor",e,t)}if((i instanceof Error||i instanceof n)&&(r=w("request:interceptor",i,t)),r)throw e.error&&e.error(r),r;return i}}function O(e,t){let r;try{r=(new DOMParser).parseFromString(e,t)}catch{}if(!r||r.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return r}p._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"],p._beforeFetch=void 0,p._afterFetch=void 0;const R=new Map;async function D(e){let t,n;await async function(e){const t=e.params.url,n=e.params.requestOptions,i=e.controller.signal,o=n.body;let s=null,l=null;if(_&&"HTMLFormElement"in globalThis&&(o instanceof FormData?s=o:o instanceof HTMLFormElement&&(s=new FormData(o))),"string"==typeof o&&(l=o),e.fetchOptions={cache:n.cacheBust?"no-cache":"default",credentials:"same-origin",headers:n.headers||{},method:"head"===n.method?"HEAD":"GET",mode:"cors",priority:g.priority,redirect:"follow",signal:i},(s||l)&&(e.fetchOptions.body=s||l),(m||"anonymous"===n.authMode)&&(e.useIdentity=!1),e.hasToken=!!(/token=/i.test(t)||n.query?.token||s?.get("token")),!e.hasToken){const r=d.getApiKey(t);r&&(n.query??={},n.query.token=r,e.hasToken=!0)}if(e.useIdentity&&!e.hasToken&&!e.credential&&!e.credentialToken&&!A(t)&&!a.isAborted(i)){let o;"immediate"===n.authMode?(await P(),o=await r.id.getCredential(t,{signal:i})):"no-prompt"===n.authMode?(await P(),o=await r.id.getCredential(t,{prompt:!1,signal:i}).catch((()=>{}))):r.id&&(o=r.id.findCredential(t)),o&&(e.credential=o,e.credentialToken=o.token,e.useSSL=!!o.ssl)}}(e);try{do{[t,n]=await M(e)}while(!await N(e,t,n))}catch(r){const n=w("request:server",r,e.params,t);throw n.details.ssl=e.useSSL,e.interceptor?.error&&e.interceptor.error(n),n}const i=e.params.url;if(n)if(/\/sharing\/rest\/(accounts|portals)\/self/i.test(i)){if(!e.hasToken&&!e.credentialToken&&n.user?.username&&!l.isTrustedServer(i)){const e=l.getOrigin(i,!0);e&&g.trustedServers.push(e)}Array.isArray(n.authorizedCrossOriginNoCorsDomains)&&f.registerNoCorsDomains(n.authorizedCrossOriginNoCorsDomains)}else"json"===(e.params.requestOptions.responseType||"json")&&f.setPreferredHost(i,n);const o=e.credential;if(o&&r.id){const e=r.id.findServerInfo(o.server);let t=e?.owningSystemUrl;if(t){t=t.replace(/\/?$/,"/sharing");const e=r.id.findCredential(t,o.userId);e&&-1===r.id._getIdenticalSvcIdx(t,e)&&e.resources.unshift(t)}}return{data:n,getAllHeaders:t?()=>Array.from(t.headers):b,getHeader:t?e=>t.headers.get(e):b,httpStatus:t?.status??200,requestOptions:e.params.requestOptions,ssl:e.useSSL,url:e.params.url}}async function N(e,t,n){if(e.redoRequest)return e.redoRequest=!1,!1;const i=e.params.requestOptions;if(!t||"native"===i.responseType||"native-request-init"===i.responseType)return!0;let o,s;if(n&&(n.error&&"object"==typeof n.error?o=n.error:"error"===n.status&&Array.isArray(n.messages)&&(o={...n},o[E]=n,o.details=n.messages)),!o&&!t.ok)throw o=new Error(`Unable to load ${t.url} status: ${t.status}`),o[E]=n,o;let a,l=null;o&&(s=Number(o.code),l=o.hasOwnProperty("subcode")?Number(o.subcode):null,a=o.messageCode,a=a?.toUpperCase());const c=i.authMode;if(403===s&&(4===l||o.message?.toLowerCase().includes("ssl")&&!o.message.toLowerCase().includes("permission"))){if(!e.useSSL)return e.useSSL=!0,!1}else if(!e.hasToken&&e.useIdentity&&("no-prompt"!==c||498===s)&&void 0!==s&&T.has(s)&&!A(e.params.url)&&(403!==s||(!a||!S.has(a))&&(null==l||2===l&&e.credentialToken))){await P();try{const t=await r.id.getCredential(e.params.url,{error:w("request:server",o,e.params),credential:e.credential,prompt:"no-prompt"!==c,signal:e.controller.signal,token:e.credentialToken});return e.credential=t,e.credentialToken=t.token,e.useSSL=e.useSSL||t.ssl,!1}catch(t){if("no-prompt"===c)return e.credential=void 0,e.credentialToken=void 0,!1;o=t}}if(o)throw o;return!0}function C(e,t,r=!1){const n=t.controller.signal,i=new Image;return t.withCredentials?i.crossOrigin="use-credentials":i.crossOrigin="anonymous",i.alt="",i.fetchPriority=g.priority,i.src=e,f.loadImageAsync(i,e,r,n)}return p}))},"esri/layers/support/arcgisLayerUrl":function(){define(["exports","../../core/urlUtils","../../chunks/persistableUrlUtils"],(function(e,t,r){"use strict";const n={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",knowledgegraphserver:"KnowledgeGraphServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer","3dtilesserver":"3DTilesServer",videoserver:"VideoServer"},i=Object.values(n),o=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${i.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),s=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^/\\n]+)\\/(${i.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),a=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function l(e){if(null==e)return null;const r=t.urlToObject(e),i=r?.path.match(o)||r?.path.match(s);if(!i)return null;const[,a,l,c,d]=i,f=l.indexOf("/");return{title:u(-1!==f?l.slice(f+1):l),serverType:n[c.toLowerCase()],sublayer:null!=d&&""!==d?parseInt(d,10):null,url:{path:a}}}function c(e){const r=t.urlToObject(e).path.match(a);return r?{serviceUrl:r[1],sublayerId:Number(r[2])}:null}function u(e){return(e=e.replaceAll(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}e.cleanTitle=u,e.isArcGISUrl=function(e){return o.test(e)},e.isHostedAgolService=function(e){let r=t.getOrigin(e,!0);return!!r&&(r=r.toLowerCase(),r.endsWith(".arcgis.com")&&(r.startsWith("services")||r.startsWith("tiles")||r.startsWith("features")||/^[a-z\d-]+\.svcs[a-z\d-]*\./.test(r)))},e.isServerOrServicesAGOLUrl=function(e){if(!e)return!1;const r=new t.Url(t.makeAbsolute(e)),n=r.authority?.toLowerCase();return"server.arcgisonline.com"===n||"services.arcgisonline.com"===n},e.isWmsServer=function(e){if(!e)return!1;const t=e.toLowerCase(),r=t.includes("/services/"),n=t.includes("/mapserver/wmsserver"),i=t.includes("/imageserver/wmsserver"),o=t.includes("/wmsserver");return r&&(n||i||o)},e.parse=l,e.parseNonStandardSublayerUrl=c,e.sanitizeUrl=function(e,r){return e?t.removeTrailingSlash(t.removeQueryParameters(e,r)):e},e.sanitizeUrlWithLayerId=function(e){let{url:r}=e;if(!r)return{url:r};r=t.removeQueryParameters(r,e.logger);const n=t.urlToObject(r),i=l(n.path);let o;if(null!=i)null!=i.sublayer&&null==e.layer.layerId&&(o=i.sublayer),r=i.url.path;else if(e.nonStandardUrlAllowed){const e=c(n.path);null!=e&&(r=e.serviceUrl,o=e.sublayerId)}return{url:t.removeTrailingSlash(r),layerId:o}},e.serverTypes=i,e.titleFromUrlAndName=function(e,t){const r=[];if(e){const t=l(e);null!=t&&t.title&&r.push(t.title)}if(t){const e=u(t);r.push(e)}if(2===r.length){if(r[0].toLowerCase().includes(r[1].toLowerCase()))return r[0];if(r[1].toLowerCase().includes(r[0].toLowerCase()))return r[1]}return r.join(" - ")},e.writeUrlWithLayerId=function(e,n,i,o,s){r.write(n,o,"url",s),o.url&&null!=e.layerId&&(o.url=t.join(o.url,i,e.layerId.toString()))},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/chunks/persistableUrlUtils":function(){define(["exports","../kernel","../core/urlUtils","../portal/support/urlUtils"],(function(e,t,r,n){"use strict";function i(e,t){const n=t?.url?.path;if(e&&n&&(e=r.makeAbsolute(e,n,{preserveProtocolRelative:!0}),t.portalItem&&t.readResourcePaths)){const n=r.makeRelative(e,t.portalItem.itemUrl);null!=n&&c.test(n)&&t.readResourcePaths.push(t.portalItem.resourceFromPath(n).path)}return(e=h(e,t?.portal))&&l.test(e)?p(e):e}function o(t,n,i=e.MarkKeep.YES){if(null==(t=t&&l.test(t)?y(t):t))return t;!r.isAbsolute(t)&&n?.blockedRelativeUrls&&n.blockedRelativeUrls.push(t);let o=r.makeAbsolute(t);if(n){const e=n.verifyItemRelativeUrls?.rootPath||n.url?.path;if(e){const i=h(e,n.portal),s=h(o,n.portal);o=r.makeRelative(s,i,i),null!=o&&o!==s&&o!==t&&n.verifyItemRelativeUrls&&n.verifyItemRelativeUrls.writtenUrls.push(o)}}return o=f(o,n?.portal),r.isAbsolute(o)&&(o=r.normalize(o)),n?.resources&&n?.portalItem&&!r.isAbsolute(o)&&!r.isDataProtocol(o)&&i===e.MarkKeep.YES&&n.resources.toKeep.push({resource:n.portalItem.resourceFromPath(o),compress:!1}),o}function s(e,t,r){return i(e,r)}function a(e,t,r,n){const i=o(e,n);void 0!==i&&(t[r]=i)}const l=/\/items\/([^/]+)\/resources\/(.*)/,c=/^\.\/resources\//;function u(e){const t=e?.match(l)??null;return t?.[1]??null}function d(e){const t=e?.match(l)??null;if(null==t)return null;const n=t[2],i=n.lastIndexOf("/");if(-1===i){const{path:e,extension:t}=r.splitPathExtension(n);return{prefix:null,filename:e,extension:t}}const{path:o,extension:s}=r.splitPathExtension(n.slice(i+1));return{prefix:n.slice(0,i),filename:o,extension:s}}function f(e,t){return t&&!t.isPortal&&t.urlKey&&t.customBaseUrl?r.changeDomain(e,`${t.urlKey}.${t.customBaseUrl}`,t.portalHostname):e}function h(e,t){if(!t||t.isPortal||!t.urlKey||!t.customBaseUrl)return e;const n=`${t.urlKey}.${t.customBaseUrl}`,i=r.getAppUrl();return r.hasSameOrigin(i,`${i.scheme}://${n}`)?r.changeDomain(e,t.portalHostname,n):r.changeDomain(e,n,t.portalHostname)}function p(e){if(!e)return e||null;let r=e;return r&&t.id&&!t.id.findCredential(r)&&(r=n.normalizeArcGISOnlineOrgDomain(r),r=r.replace(/^https?:\/\/www\.arcgis\.com/,"https://cdn.arcgis.com"),r=r.replace(/^https?:\/\/devext\.arcgis\.com/,"https://cdndev.arcgis.com"),r=r.replace(/^https?:\/\/qaext\.arcgis\.com/,"https://cdnqa.arcgis.com")),r}function y(e){if(!e)return e||null;let r=e;return r=r.replace(/^https?:\/\/cdn\.arcgis\.com/,"https://www.arcgis.com"),r=r.replace(/^https?:\/\/cdndev\.arcgis\.com/,"https://devext.arcgis.com"),r=r.replace(/^https?:\/\/cdnqa\.arcgis\.com/,"https://qaext.arcgis.com"),r&&t.id&&!t.id.findCredential(r)&&(r=n.normalizeArcGISOnlineOrgDomain(r)),r}var m;e.MarkKeep=void 0,(m=e.MarkKeep||(e.MarkKeep={}))[m.YES=0]="YES",m[m.NO=1]="NO";const g=Object.freeze(Object.defineProperty({__proto__:null,get MarkKeep(){return e.MarkKeep},ensureMainOnlineDomain:f,fromCDNUrl:y,fromJSON:i,itemIdFromResourceUrl:u,prefixAndFilenameFromResourceUrl:d,read:s,toCDNUrl:p,toJSON:o,write:a},Symbol.toStringTag,{value:"Module"}));e.ensureMainOnlineDomain=f,e.fromCDNUrl=y,e.fromJSON=i,e.itemIdFromResourceUrl=u,e.persistableUrlUtils=g,e.prefixAndFilenameFromResourceUrl=d,e.read=s,e.toCDNUrl=p,e.toJSON=o,e.write=a}))},"esri/support/apiKeyUtils":function(){define(["exports","../config","../core/urlUtils"],(function(e,t,r){"use strict";const n=new Set(["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"]);function i(e){if(!o(e))return null;const r=t=>t instanceof RegExp?t.test(e):"string"==typeof t&&e.startsWith(t),n=t.apiKeys;if(Array.isArray(n.scopes))for(const e of n.scopes)if(Array.isArray(e.urls)){if(e.urls.some(r))return e.token}else if(r(e.urls))return e.token;return n.basemapStyles&&/^https?:\/\/(i?basemaps|basemapstyles)-api\.arcgis\.com\//i.test(e)?n.basemapStyles:t.apiKey&&/^https?:\/\/.+\.arcgis\.com(\/|$)/i.test(e)?t.apiKey:null}function o(e){const t=r.getOrigin(e,!0);return!!t&&!n.has(t)&&!e.endsWith("/sharing/rest/generateToken")}e.getApiKey=i,e.hasBasemapStylesApiKey=function(){return null!=t.apiKey||null!=t.apiKeys.basemapStyles},e.isApiKeyApplicable=function(e,t){return t?o(e):null!=i(e)},e.supportsApiKey=o,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/support/requestUtils":function(){define(["exports","../config","../core/has","../core/promiseUtils","../core/urlUtils","../layers/support/arcgisLayerUrl","../portal/support/urlUtils"],(function(e,t,r,n,i,o,s){"use strict";function a(){try{return new DOMException("Aborted","AbortError")}catch{const e=new Error;return e.name="AbortError",e}}const l="Timeout exceeded",c=new Map;e.createTimeoutError=function(){return new Error(l)},e.getPreferredUrl=function(e){const t=o.parse(e)?.url.path.toLowerCase();if(!t)return e;const r=c.get(t);return r?i.changeHost(e,r):e},e.isNoCorsRequestRequired=function(e){const r=t.request.crossOriginNoCorsDomains;if(r){let t=i.getOrigin(e);if(t)return t=t.toLowerCase(),!i.hasSameOrigin(t,i.getAppUrl())&&r[t]<Date.now()-36e5}return!1},e.isTimeoutError=function(e){return"object"==typeof e&&!!e&&"message"in e&&e.message===l},e.loadImageAsync=function(e,t,i=!1,o){return new Promise(((s,l)=>{if(n.isAborted(o))return void l(a());let c=()=>{f(),l(new Error(`Unable to load ${t}`))},u=()=>{const t=e;f(),s(t)},d=()=>{if(!e)return;const t=e;f(),t.src="",l(a())};const f=()=>{r("esri-image-decode")||(e.removeEventListener("error",c),e.removeEventListener("load",u)),c=null,u=null,e=null,null!=o&&o.removeEventListener("abort",d),d=null,i&&URL.revokeObjectURL(t)};null!=o&&o.addEventListener("abort",d),r("esri-image-decode")?e.decode().then(u,c):(e.addEventListener("error",c),e.addEventListener("load",u))}))},e.preferredHosts=c,e.registerNoCorsDomains=function(e){t.request.crossOriginNoCorsDomains||(t.request.crossOriginNoCorsDomains={});const r=t.request.crossOriginNoCorsDomains;for(let t of e)t=t.toLowerCase(),/^https?:\/\//.test(t)?r[i.getOrigin(t)??""]=0:(r[i.getOrigin("http://"+t)??""]=0,r[i.getOrigin("https://"+t)??""]=0)},e.sendNoCorsRequest=async function(e){const r=i.urlToObject(e);e=r.path,"json"===r.query?.f&&(e+="?f=json");try{await fetch(e,{mode:"no-cors",credentials:"include"})}catch{}const n=t.request.crossOriginNoCorsDomains,o=i.getOrigin(e);n&&o&&(n[o.toLowerCase()]=Date.now())},e.setPreferredHost=function(e,t){const r=t?.preferredHost;if(!r||i.hasSameOrigin(e,`https://${r}`,!0))return;const n=o.parse(e);if(!n||"FeatureServer"!==n.serverType||s.isSecureProxyService(e))return;const a=n.url.path.toLowerCase();c.has(a)||c.set(a,r)},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/geometry/support/SupportedGCSWkids":function(){define(["exports"],(function(e){"use strict";var t;e.SupportedGCSWkids=void 0,(t=e.SupportedGCSWkids||(e.SupportedGCSWkids={}))[t.CGCS2000=4490]="CGCS2000",t[t.GCSMARS2000=104971]="GCSMARS2000",t[t.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE",t[t.GCSMOON2000=104903]="GCSMOON2000",Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/geometry/support/WKIDUnitConversion":function(){define((function(){"use strict";let e;const t={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9895:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,10160:0,10183:0,10188:0,10194:0,10199:0,10207:0,10212:0,10217:0,10222:0,10227:0,10235:0,10240:0,10250:0,10254:0,10270:0,10275:0,10280:0,10306:0,10329:0,10471:0,10477:0,10481:2,10516:2,10592:0,10594:0,10596:0,10598:0,10601:0,10603:0,10626:0,10632:0,10641:0,10665:0,10674:0,10744:0,10745:0,10759:0,10773:0,10802:0,10820:0,20002:0,20042:0,20050:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,65061:2,65062:2,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2,103897:1,103978:2,103979:0,103980:2,103981:0};for(e=2e3;e<=2045;e++)t[e]=0;for(e=2056;e<=2065;e++)t[e]=0;for(e=2067;e<=2135;e++)t[e]=0;for(e=2137;e<=2154;e++)t[e]=0;for(e=2161;e<=2170;e++)t[e]=0;for(e=2172;e<=2193;e++)t[e]=0;for(e=2195;e<=2198;e++)t[e]=0;for(e=2200;e<=2203;e++)t[e]=0;for(e=2205;e<=2217;e++)t[e]=0;for(e=2222;e<=2224;e++)t[e]=1;for(e=2225;e<=2250;e++)t[e]=2;for(e=2251;e<=2253;e++)t[e]=1;for(e=2257;e<=2264;e++)t[e]=2;for(e=2274;e<=2279;e++)t[e]=2;for(e=2280;e<=2282;e++)t[e]=1;for(e=2283;e<=2289;e++)t[e]=2;for(e=2290;e<=2292;e++)t[e]=0;for(e=2308;e<=2313;e++)t[e]=0;for(e=2315;e<=2491;e++)t[e]=0;for(e=2494;e<=2866;e++)t[e]=0;for(e=2867;e<=2869;e++)t[e]=1;for(e=2870;e<=2888;e++)t[e]=2;for(e=2891;e<=2895;e++)t[e]=2;for(e=2896;e<=2898;e++)t[e]=1;for(e=2902;e<=2908;e++)t[e]=2;for(e=2915;e<=2920;e++)t[e]=2;for(e=2921;e<=2923;e++)t[e]=1;for(e=2924;e<=2930;e++)t[e]=2;for(e=2931;e<=2962;e++)t[e]=0;for(e=2964;e<=2968;e++)t[e]=2;for(e=2969;e<=2973;e++)t[e]=0;for(e=2975;e<=2991;e++)t[e]=0;for(e=2995;e<=3051;e++)t[e]=0;for(e=3054;e<=3079;e++)t[e]=0;for(e=3081;e<=3088;e++)t[e]=0;for(e=3092;e<=3101;e++)t[e]=0;for(e=3106;e<=3138;e++)t[e]=0;for(e=3146;e<=3151;e++)t[e]=0;for(e=3153;e<=3166;e++)t[e]=0;for(e=3168;e<=3172;e++)t[e]=0;for(e=3174;e<=3203;e++)t[e]=0;for(e=3294;e<=3358;e++)t[e]=0;for(e=3367;e<=3403;e++)t[e]=0;for(e=3408;e<=3416;e++)t[e]=0;for(e=3417;e<=3438;e++)t[e]=2;for(e=3441;e<=3446;e++)t[e]=2;for(e=3447;e<=3450;e++)t[e]=0;for(e=3451;e<=3459;e++)t[e]=2;for(e=3460;e<=3478;e++)t[e]=0;for(e=3554;e<=3559;e++)t[e]=0;for(e=3560;e<=3570;e++)t[e]=2;for(e=3571;e<=3581;e++)t[e]=0;for(e=3594;e<=3597;e++)t[e]=0;for(e=3601;e<=3604;e++)t[e]=0;for(e=3637;e<=3639;e++)t[e]=0;for(e=3665;e<=3667;e++)t[e]=0;for(e=3693;e<=3695;e++)t[e]=0;for(e=3701;e<=3727;e++)t[e]=0;for(e=3728;e<=3739;e++)t[e]=2;for(e=3740;e<=3751;e++)t[e]=0;for(e=3753;e<=3760;e++)t[e]=2;for(e=3761;e<=3773;e++)t[e]=0;for(e=3775;e<=3777;e++)t[e]=0;for(e=3779;e<=3781;e++)t[e]=0;for(e=3783;e<=3785;e++)t[e]=0;for(e=3788;e<=3791;e++)t[e]=0;for(e=3797;e<=3802;e++)t[e]=0;for(e=3814;e<=3816;e++)t[e]=0;for(e=3825;e<=3829;e++)t[e]=0;for(e=3832;e<=3841;e++)t[e]=0;for(e=3844;e<=3852;e++)t[e]=0;for(e=3873;e<=3885;e++)t[e]=0;for(e=3890;e<=3893;e++)t[e]=0;for(e=3907;e<=3912;e++)t[e]=0;for(e=3942;e<=3950;e++)t[e]=0;for(e=3968;e<=3970;e++)t[e]=0;for(e=3973;e<=3976;e++)t[e]=0;for(e=3986;e<=3989;e++)t[e]=0;for(e=3994;e<=3997;e++)t[e]=0;for(e=4048;e<=4051;e++)t[e]=0;for(e=4056;e<=4063;e++)t[e]=0;for(e=4093;e<=4096;e++)t[e]=0;for(e=4390;e<=4398;e++)t[e]=0;for(e=4399;e<=4413;e++)t[e]=2;for(e=4418;e<=4433;e++)t[e]=2;for(e=4455;e<=4457;e++)t[e]=2;for(e=4484;e<=4489;e++)t[e]=0;for(e=4491;e<=4554;e++)t[e]=0;for(e=4568;e<=4589;e++)t[e]=0;for(e=4652;e<=4656;e++)t[e]=0;for(e=4766;e<=4800;e++)t[e]=0;for(e=5014;e<=5016;e++)t[e]=0;for(e=5069;e<=5072;e++)t[e]=0;for(e=5105;e<=5130;e++)t[e]=0;for(e=5167;e<=5188;e++)t[e]=0;for(e=5253;e<=5259;e++)t[e]=0;for(e=5269;e<=5275;e++)t[e]=0;for(e=5292;e<=5311;e++)t[e]=0;for(e=5329;e<=5331;e++)t[e]=0;for(e=5343;e<=5349;e++)t[e]=0;for(e=5355;e<=5357;e++)t[e]=0;for(e=5387;e<=5389;e++)t[e]=0;for(e=5459;e<=5463;e++)t[e]=0;for(e=5479;e<=5482;e++)t[e]=0;for(e=5518;e<=5520;e++)t[e]=0;for(e=5530;e<=5539;e++)t[e]=0;for(e=5550;e<=5552;e++)t[e]=0;for(e=5562;e<=5583;e++)t[e]=0;for(e=5623;e<=5625;e++)t[e]=2;for(e=5631;e<=5639;e++)t[e]=0;for(e=5649;e<=5653;e++)t[e]=0;for(e=5663;e<=5680;e++)t[e]=0;for(e=5682;e<=5685;e++)t[e]=0;for(e=5875;e<=5877;e++)t[e]=0;for(e=5896;e<=5899;e++)t[e]=0;for(e=5921;e<=5940;e++)t[e]=0;for(e=6050;e<=6125;e++)t[e]=0;for(e=6244;e<=6275;e++)t[e]=0;for(e=6328;e<=6348;e++)t[e]=0;for(e=6350;e<=6356;e++)t[e]=0;for(e=6366;e<=6372;e++)t[e]=0;for(e=6381;e<=6387;e++)t[e]=0;for(e=6393;e<=6404;e++)t[e]=0;for(e=6480;e<=6483;e++)t[e]=0;for(e=6511;e<=6514;e++)t[e]=0;for(e=6579;e<=6581;e++)t[e]=0;for(e=6619;e<=6624;e++)t[e]=0;for(e=6625;e<=6627;e++)t[e]=2;for(e=6628;e<=6632;e++)t[e]=0;for(e=6634;e<=6637;e++)t[e]=0;for(e=6669;e<=6692;e++)t[e]=0;for(e=6707;e<=6709;e++)t[e]=0;for(e=6720;e<=6723;e++)t[e]=0;for(e=6732;e<=6738;e++)t[e]=0;for(e=6931;e<=6933;e++)t[e]=0;for(e=6956;e<=6959;e++)t[e]=0;for(e=7005;e<=7007;e++)t[e]=0;for(e=7057;e<=7070;e++)t[e]=2;for(e=7074;e<=7082;e++)t[e]=0;for(e=7109;e<=7118;e++)t[e]=0;for(e=7119;e<=7127;e++)t[e]=1;for(e=7374;e<=7376;e++)t[e]=0;for(e=7528;e<=7586;e++)t[e]=0;for(e=7587;e<=7645;e++)t[e]=2;for(e=7692;e<=7696;e++)t[e]=0;for(e=7755;e<=7787;e++)t[e]=0;for(e=7791;e<=7795;e++)t[e]=0;for(e=7799;e<=7801;e++)t[e]=0;for(e=7803;e<=7805;e++)t[e]=0;for(e=7825;e<=7831;e++)t[e]=0;for(e=7845;e<=7859;e++)t[e]=0;for(e=8013;e<=8032;e++)t[e]=0;for(e=8065;e<=8068;e++)t[e]=1;for(e=8518;e<=8529;e++)t[e]=2;for(e=8533;e<=8536;e++)t[e]=2;for(e=8538;e<=8540;e++)t[e]=2;for(e=8677;e<=8679;e++)t[e]=0;for(e=8836;e<=8840;e++)t[e]=0;for(e=8857;e<=8859;e++)t[e]=0;for(e=8908;e<=8910;e++)t[e]=0;for(e=9154;e<=9159;e++)t[e]=0;for(e=9205;e<=9218;e++)t[e]=0;for(e=9271;e<=9273;e++)t[e]=0;for(e=9295;e<=9297;e++)t[e]=0;for(e=9356;e<=9360;e++)t[e]=0;for(e=9404;e<=9407;e++)t[e]=0;for(e=9476;e<=9482;e++)t[e]=0;for(e=9487;e<=9494;e++)t[e]=0;for(e=9697;e<=9699;e++)t[e]=0;for(e=9821;e<=9865;e++)t[e]=0;for(e=10285;e<=10291;e++)t[e]=0;for(e=10314;e<=10317;e++)t[e]=0;for(e=10448;e<=10465;e++)t[e]=0;for(e=10726;e<=10729;e++)t[e]=0;for(e=10731;e<=10733;e++)t[e]=0;for(e=11114;e<=11118;e++)t[e]=0;for(e=20004;e<=20032;e++)t[e]=0;for(e=20047;e<=20049;e++)t[e]=0;for(e=20062;e<=20092;e++)t[e]=0;for(e=20135;e<=20138;e++)t[e]=0;for(e=20248;e<=20258;e++)t[e]=0;for(e=20348;e<=20358;e++)t[e]=0;for(e=20436;e<=20440;e++)t[e]=0;for(e=20822;e<=20824;e++)t[e]=0;for(e=20904;e<=20932;e++)t[e]=0;for(e=20934;e<=20936;e++)t[e]=0;for(e=21004;e<=21032;e++)t[e]=0;for(e=21035;e<=21037;e++)t[e]=0;for(e=21095;e<=21097;e++)t[e]=0;for(e=21148;e<=21150;e++)t[e]=0;for(e=21207;e<=21264;e++)t[e]=0;for(e=21307;e<=21364;e++)t[e]=0;for(e=21413;e<=21423;e++)t[e]=0;for(e=21453;e<=21463;e++)t[e]=0;for(e=21473;e<=21483;e++)t[e]=0;for(e=21780;e<=21782;e++)t[e]=0;for(e=21891;e<=21894;e++)t[e]=0;for(e=21896;e<=21899;e++)t[e]=0;for(e=22171;e<=22177;e++)t[e]=0;for(e=22181;e<=22187;e++)t[e]=0;for(e=22191;e<=22197;e++)t[e]=0;for(e=22207;e<=22222;e++)t[e]=0;for(e=22229;e<=22232;e++)t[e]=0;for(e=22234;e<=22236;e++)t[e]=0;for(e=22243;e<=22250;e++)t[e]=0;for(e=22262;e<=22265;e++)t[e]=0;for(e=22307;e<=22322;e++)t[e]=0;for(e=22348;e<=22357;e++)t[e]=0;for(e=22407;e<=22422;e++)t[e]=0;for(e=22462;e<=22465;e++)t[e]=0;for(e=22521;e<=22525;e++)t[e]=0;for(e=22607;e<=22622;e++)t[e]=0;for(e=22641;e<=22646;e++)t[e]=0;for(e=22648;e<=22657;e++)t[e]=0;for(e=22707;e<=22722;e++)t[e]=0;for(e=22762;e<=22765;e++)t[e]=0;for(e=22807;e<=22822;e++)t[e]=0;for(e=22991;e<=22994;e++)t[e]=0;for(e=23028;e<=23038;e++)t[e]=0;for(e=23301;e<=23333;e++)t[e]=2;for(e=23830;e<=23853;e++)t[e]=0;for(e=23866;e<=23872;e++)t[e]=0;for(e=23877;e<=23884;e++)t[e]=0;for(e=23886;e<=23894;e++)t[e]=0;for(e=23946;e<=23948;e++)t[e]=0;for(e=24311;e<=24313;e++)t[e]=0;for(e=24342;e<=24347;e++)t[e]=0;for(e=24370;e<=24374;e++)t[e]=10;for(e=24375;e<=24381;e++)t[e]=0;for(e=24718;e<=24721;e++)t[e]=0;for(e=24817;e<=24821;e++)t[e]=0;for(e=24877;e<=24882;e++)t[e]=0;for(e=24891;e<=24893;e++)t[e]=0;for(e=25391;e<=25395;e++)t[e]=0;for(e=25828;e<=25838;e++)t[e]=0;for(e=26191;e<=26195;e++)t[e]=0;for(e=26391;e<=26393;e++)t[e]=0;for(e=26701;e<=26722;e++)t[e]=0;for(e=26729;e<=26799;e++)t[e]=2;for(e=26801;e<=26803;e++)t[e]=2;for(e=26811;e<=26813;e++)t[e]=2;for(e=26847;e<=26870;e++)t[e]=2;for(e=26891;e<=26899;e++)t[e]=0;for(e=26901;e<=26923;e++)t[e]=0;for(e=26929;e<=26946;e++)t[e]=0;for(e=26948;e<=26998;e++)t[e]=0;for(e=27037;e<=27040;e++)t[e]=0;for(e=27205;e<=27232;e++)t[e]=0;for(e=27258;e<=27260;e++)t[e]=0;for(e=27391;e<=27398;e++)t[e]=0;for(e=27561;e<=27564;e++)t[e]=0;for(e=27571;e<=27574;e++)t[e]=0;for(e=27581;e<=27584;e++)t[e]=0;for(e=27591;e<=27594;e++)t[e]=0;for(e=27700;e<=27707;e++)t[e]=0;for(e=28191;e<=28193;e++)t[e]=0;for(e=28348;e<=28358;e++)t[e]=0;for(e=28402;e<=28432;e++)t[e]=0;for(e=28462;e<=28492;e++)t[e]=0;for(e=29118;e<=29122;e++)t[e]=0;for(e=29168;e<=29172;e++)t[e]=0;for(e=29177;e<=29185;e++)t[e]=0;for(e=29187;e<=29195;e++)t[e]=0;for(e=29900;e<=29903;e++)t[e]=0;for(e=30161;e<=30179;e++)t[e]=0;for(e=30491;e<=30494;e++)t[e]=0;for(e=30729;e<=30732;e++)t[e]=0;for(e=31251;e<=31259;e++)t[e]=0;for(e=31265;e<=31268;e++)t[e]=0;for(e=31275;e<=31279;e++)t[e]=0;for(e=31281;e<=31297;e++)t[e]=0;for(e=31461;e<=31469;e++)t[e]=0;for(e=31491;e<=31495;e++)t[e]=0;for(e=31917;e<=31922;e++)t[e]=0;for(e=31965;e<=32e3;e++)t[e]=0;for(e=32001;e<=32003;e++)t[e]=2;for(e=32005;e<=32031;e++)t[e]=2;for(e=32033;e<=32060;e++)t[e]=2;for(e=32064;e<=32067;e++)t[e]=2;for(e=32074;e<=32077;e++)t[e]=2;for(e=32081;e<=32086;e++)t[e]=0;for(e=32107;e<=32130;e++)t[e]=0;for(e=32133;e<=32159;e++)t[e]=0;for(e=32164;e<=32167;e++)t[e]=2;for(e=32180;e<=32199;e++)t[e]=0;for(e=32201;e<=32260;e++)t[e]=0;for(e=32301;e<=32360;e++)t[e]=0;for(e=32401;e<=32460;e++)t[e]=0;for(e=32501;e<=32560;e++)t[e]=0;for(e=32601;e<=32662;e++)t[e]=0;for(e=32664;e<=32667;e++)t[e]=2;for(e=32701;e<=32761;e++)t[e]=0;for(e=53001;e<=53004;e++)t[e]=0;for(e=53008;e<=53019;e++)t[e]=0;for(e=53021;e<=53032;e++)t[e]=0;for(e=53034;e<=53037;e++)t[e]=0;for(e=53042;e<=53046;e++)t[e]=0;for(e=53074;e<=53080;e++)t[e]=0;for(e=54001;e<=54004;e++)t[e]=0;for(e=54008;e<=54019;e++)t[e]=0;for(e=54021;e<=54032;e++)t[e]=0;for(e=54034;e<=54037;e++)t[e]=0;for(e=54042;e<=54046;e++)t[e]=0;for(e=54048;e<=54053;e++)t[e]=0;for(e=54074;e<=54080;e++)t[e]=0;for(e=54090;e<=54096;e++)t[e]=0;for(e=54098;e<=54101;e++)t[e]=0;for(e=65161;e<=65163;e++)t[e]=0;for(e=102001;e<=102040;e++)t[e]=0;for(e=102042;e<=102063;e++)t[e]=0;for(e=102065;e<=102067;e++)t[e]=0;for(e=102070;e<=102117;e++)t[e]=0;for(e=102122;e<=102216;e++)t[e]=0;for(e=102221;e<=102377;e++)t[e]=0;for(e=102382;e<=102388;e++)t[e]=0;for(e=102389;e<=102398;e++)t[e]=2;for(e=102399;e<=102444;e++)t[e]=0;for(e=102445;e<=102447;e++)t[e]=2;for(e=102448;e<=102458;e++)t[e]=0;for(e=102459;e<=102468;e++)t[e]=2;for(e=102469;e<=102499;e++)t[e]=0;for(e=102500;e<=102519;e++)t[e]=1;for(e=102520;e<=102524;e++)t[e]=0;for(e=102525;e<=102529;e++)t[e]=2;for(e=102530;e<=102588;e++)t[e]=0;for(e=102590;e<=102598;e++)t[e]=0;for(e=102601;e<=102603;e++)t[e]=0;for(e=102605;e<=102628;e++)t[e]=0;for(e=102629;e<=102646;e++)t[e]=2;for(e=102648;e<=102700;e++)t[e]=2;for(e=102701;e<=102703;e++)t[e]=0;for(e=102707;e<=102730;e++)t[e]=2;for(e=102733;e<=102758;e++)t[e]=2;for(e=102767;e<=102900;e++)t[e]=0;for(e=102901;e<=102933;e++)t[e]=2;for(e=102934;e<=102950;e++)t[e]=13;for(e=102951;e<=102963;e++)t[e]=0;for(e=102965;e<=102969;e++)t[e]=0;for(e=102971;e<=102973;e++)t[e]=0;for(e=102975;e<=102989;e++)t[e]=0;for(e=102990;e<=102992;e++)t[e]=1;for(e=102997;e<=103002;e++)t[e]=0;for(e=103003;e<=103008;e++)t[e]=2;for(e=103009;e<=103011;e++)t[e]=0;for(e=103012;e<=103014;e++)t[e]=2;for(e=103019;e<=103021;e++)t[e]=0;for(e=103022;e<=103024;e++)t[e]=2;for(e=103029;e<=103031;e++)t[e]=0;for(e=103032;e<=103034;e++)t[e]=2;for(e=103065;e<=103068;e++)t[e]=0;for(e=103074;e<=103076;e++)t[e]=0;for(e=103077;e<=103079;e++)t[e]=1;for(e=103080;e<=103082;e++)t[e]=0;for(e=103083;e<=103085;e++)t[e]=2;for(e=103090;e<=103093;e++)t[e]=0;for(e=103097;e<=103099;e++)t[e]=0;for(e=103100;e<=103102;e++)t[e]=2;for(e=103107;e<=103109;e++)t[e]=0;for(e=103110;e<=103112;e++)t[e]=2;for(e=103113;e<=103116;e++)t[e]=0;for(e=103117;e<=103120;e++)t[e]=2;for(e=103153;e<=103157;e++)t[e]=0;for(e=103158;e<=103162;e++)t[e]=2;for(e=103163;e<=103165;e++)t[e]=0;for(e=103166;e<=103168;e++)t[e]=1;for(e=103169;e<=103171;e++)t[e]=2;for(e=103186;e<=103188;e++)t[e]=0;for(e=103189;e<=103191;e++)t[e]=2;for(e=103192;e<=103195;e++)t[e]=0;for(e=103196;e<=103199;e++)t[e]=2;for(e=103200;e<=103224;e++)t[e]=0;for(e=103225;e<=103227;e++)t[e]=1;for(e=103232;e<=103237;e++)t[e]=0;for(e=103238;e<=103243;e++)t[e]=2;for(e=103244;e<=103246;e++)t[e]=0;for(e=103247;e<=103249;e++)t[e]=2;for(e=103254;e<=103256;e++)t[e]=0;for(e=103257;e<=103259;e++)t[e]=2;for(e=103264;e<=103266;e++)t[e]=0;for(e=103267;e<=103269;e++)t[e]=2;for(e=103300;e<=103375;e++)t[e]=0;for(e=103381;e<=103383;e++)t[e]=0;for(e=103384;e<=103386;e++)t[e]=1;for(e=103387;e<=103389;e++)t[e]=0;for(e=103390;e<=103392;e++)t[e]=2;for(e=103397;e<=103399;e++)t[e]=0;for(e=103400;e<=103471;e++)t[e]=2;for(e=103476;e<=103478;e++)t[e]=0;for(e=103479;e<=103481;e++)t[e]=2;for(e=103486;e<=103488;e++)t[e]=0;for(e=103489;e<=103491;e++)t[e]=2;for(e=103492;e<=103495;e++)t[e]=0;for(e=103496;e<=103499;e++)t[e]=2;for(e=103528;e<=103543;e++)t[e]=0;for(e=103544;e<=103548;e++)t[e]=2;for(e=103549;e<=103551;e++)t[e]=0;for(e=103552;e<=103554;e++)t[e]=1;for(e=103555;e<=103557;e++)t[e]=2;for(e=103558;e<=103560;e++)t[e]=0;for(e=103571;e<=103573;e++)t[e]=0;for(e=103574;e<=103576;e++)t[e]=2;for(e=103577;e<=103580;e++)t[e]=0;for(e=103581;e<=103583;e++)t[e]=2;for(e=103595;e<=103694;e++)t[e]=0;for(e=103696;e<=103699;e++)t[e]=0;for(e=103700;e<=103793;e++)t[e]=2;for(e=103794;e<=103890;e++)t[e]=0;for(e=103891;e<=103896;e++)t[e]=2;for(e=103900;e<=103971;e++)t[e]=2;for(e=103972;e<=103977;e++)t[e]=0;for(e=112e3;e<=112101;e++)t[e]=0;return t}))},"esri/core/accessorSupport/decorators/writer":function(){define(["exports","./property"],(function(e,t){"use strict";e.writer=function(e,r,n){let i,o;return void 0===r?(o=e,i=[void 0]):"string"!=typeof r?(o=e,i=[void 0],n=r):(o=r,i=Array.isArray(e)?e:[e]),(e,r)=>{const s=e.constructor.prototype;for(const a of i){const i=t.propertyJSONMeta(e,a,o);i.write&&"object"==typeof i.write||(i.write={}),n&&(i.write.target=n),i.write.writer=s[r]}}},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/geometry/Point":function(){define(["exports","../chunks/tslib.es6","../core/Accessor","../core/Logger","../core/accessorSupport/decorators/property","../core/accessorSupport/decorators/cast","../core/has","../core/RandomLCG","../core/accessorSupport/decorators/reader","../core/accessorSupport/decorators/subclass","../core/accessorSupport/decorators/writer","../core/accessorSupport/ensureType","./Geometry","./SpatialReference","./support/pointUtils","./support/spatialReferenceUtils","./support/webMercatorUtils"],(function(e,t,r,n,i,o,s,a,l,c,u,d,f,h,p,y,m){"use strict";var g;const _=[0,0];function T(e){return e&&("esri.geometry.SpatialReference"===e.declaredClass||null!=e.wkid)}return e.default=g=class extends f{static copy(e,t){t._set("x",e._get("x")),t._set("y",e._get("y")),t._set("z",e._get("z")),t._set("m",e._get("m"));const n=e._get("spatialReference");t._set("spatialReference",r.isFrozen(n)?n:n.clone())}constructor(...e){super(...e),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}normalizeCtorArgs(e,t,r,i,o){let s;if(Array.isArray(e))s=e,o=t,e=s[0],t=s[1],r=s[2],i=s[3];else if(e&&"object"==typeof e){if(s=e,e=null!=s.x?s.x:s.longitude,t=null!=s.y?s.y:s.latitude,r=s.z,i=s.m,(o=s.spatialReference)&&"esri.geometry.SpatialReference"!==o.declaredClass&&(o=new h(o)),null!=s.longitude||null!=s.latitude)if(null==s.longitude)n.getLogger(this).warn(".longitude=","Latitude was defined without longitude");else if(null==s.latitude)n.getLogger(this).warn(".latitude=","Longitude was defined without latitude");else if(!s.declaredClass&&o?.isWebMercator){const r=m.lngLatToXY(s.longitude,s.latitude,_);e=r[0],t=r[1]}}else T(r)?(o=r,r=null):T(i)&&(o=i,i=null);const a={x:e,y:t};return null==a.x&&null!=a.y?n.getLogger(this).warn(".y=","Y coordinate was defined without an X coordinate"):null==a.y&&null!=a.x&&n.getLogger(this).warn(".x=","X coordinate was defined without a Y coordinate"),null!=o&&(a.spatialReference=o),null!=r&&(a.z=r),null!=i&&(a.m=i),a}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return void 0!==this.m}set hasM(e){e!==(void 0!==this._get("m"))&&(this._set("m",e?0:void 0),this._set("hasM",e))}get hasZ(){return void 0!==this.z}set hasZ(e){e!==(void 0!==this._get("z"))&&(this._set("z",e?0:void 0),this._set("hasZ",e))}get latitude(){return p.getLatitude(this)}set latitude(e){const{spatialReference:t,x:r}=this;null!=e&&t&&(t.isWebMercator?this._set("y",m.lngLatToXY(r,e,_)[1]):t.isGeographic&&this._set("y",e),this._set("latitude",e))}get longitude(){return p.getLongitude(this)}set longitude(e){const{y:t,spatialReference:r}=this;null!=e&&r&&(r.isWebMercator?this._set("x",m.lngLatToXY(e,t,_)[0]):r.isGeographic&&this._set("x",e),this._set("longitude",e))}writeX(e,t,r){t[r]=isNaN(e)?"NaN":e}readX(e){return"string"==typeof e?NaN:e}clone(){const e=new g;return e.x=this.x,e.y=this.y,e.z=this.z,e.m=this.m,e.spatialReference=this.spatialReference,e}copy(e){return g.copy(e,this),this}equals(e){if(null==e)return!1;const{x:t,y:r,z:n,m:i,spatialReference:o}=this,{z:s,m:a}=e;let{x:l,y:c,spatialReference:u}=e;if(!o.equals(u))if(o.isWebMercator&&u.isWGS84)[l,c]=m.lngLatToXY(l,c),u=o;else{if(!o.isWGS84||!u.isWebMercator)return!1;[l,c]=m.xyToLngLat(l,c),u=o}return t===l&&r===c&&n===s&&i===a&&o.wkid===u.wkid}offset(e,t,r){return this.x+=e,this.y+=t,null!=r&&(this.z=(this.z??0)+r),this}normalize(){if(!this.spatialReference)return this;const e=y.getInfo(this.spatialReference);if(!e)return this;let t=this.x;const[r,n]=e.valid,i=2*n;let o;return t>n?(o=Math.ceil(Math.abs(t-n)/i),t-=o*i):t<r&&(o=Math.ceil(Math.abs(t-r)/i),t+=o*i),this._set("x",t),this}distance(e){return p.distance(this,e)}toArray(){const e=this.hasZ,t=this.hasM;return e&&t?[this.x,this.y,this.z,this.m]:e?[this.x,this.y,this.z]:t?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(e){return this.write({},e)}},t.__decorate([i.property({readOnly:!0})],e.default.prototype,"cache",null),t.__decorate([i.property({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],e.default.prototype,"hasM",null),t.__decorate([i.property({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],e.default.prototype,"hasZ",null),t.__decorate([i.property({type:Number})],e.default.prototype,"latitude",null),t.__decorate([i.property({type:Number})],e.default.prototype,"longitude",null),t.__decorate([i.property({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),o.cast((e=>isNaN(e)?e:d.ensureNumber(e)))],e.default.prototype,"x",void 0),t.__decorate([u.writer("x")],e.default.prototype,"writeX",null),t.__decorate([l.reader("x")],e.default.prototype,"readX",null),t.__decorate([i.property({type:Number,json:{write:!0}})],e.default.prototype,"y",void 0),t.__decorate([i.property({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],e.default.prototype,"z",void 0),t.__decorate([i.property({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],e.default.prototype,"m",void 0),e.default=g=t.__decorate([c.subclass("esri.geometry.Point")],e.default),e.default.prototype.toJSON.isDefaultToJSON=!0,e.default}))},"esri/core/accessorSupport/decorators/cast":function(){define(["exports","../ensureType","../metadata"],(function(e,t,r){"use strict";const n=Object.prototype.toString;function i(e){const r="__accessorMetadata__"in e?t.ensureType(e):e;return function(...e){if(e.push(r),"number"==typeof e[2])throw new Error("Using @cast has parameter decorator is not supported since 4.16");return o.apply(this,e)}}function o(e,t,n,i){r.getPropertyMetadata(e,t).cast=i}e.cast=function(...e){var t;if(3!==e.length||"string"!=typeof e[1])return 1===e.length&&"[object Function]"===n.call(e[0])?i(e[0]):1===e.length&&"string"==typeof e[0]?(t=e[0],(e,n)=>{r.getPropertyMetadata(e,t).cast=e[n]}):void 0},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/geometry/support/pointUtils":function(){define(["exports","./spatialReferenceUtils","./webMercatorUtils"],(function(e,t,r){"use strict";function n({x:e,y:n,spatialReference:i},o=[0,0]){if(i){if(t.isWebMercator(i))return r.xyToLngLat(e,n,o);if(t.isGeographic(i))return o[0]=e,o[1]=n,o}return null}const i=[0,0];e.distance=function(e,t){const r=e.x-t.x,n=e.y-t.y,i=null!=e.z&&null!=t.z?e.z-t.z:0;return Math.sqrt(r*r+n*n+i*i)},e.getLatitude=function(e){return n(e,i)?.[1]??null},e.getLongitude=function(e){return n(e,i)?.[0]??null},e.getLongitudeLatitude=n,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/geometry/support/webMercatorUtils":function(){define(["exports","../../core/lang","../asserts","../SpatialReference","./Ellipsoid","./spatialReferenceUtils"],(function(e,t,r,n,i,o){"use strict";function s(e){return 57.29577951308232*e}function a(e){return.017453292519943*e}function l(e){return null!=e.wkid||null!=e.wkt}const c=[0,0];function u(e,t,r,n,i){const o=e,s=i;if(s.spatialReference=r,"x"in o&&"x"in s)[s.x,s.y]=t(o.x,o.y,c,n);else if("xmin"in o&&"xmin"in s)[s.xmin,s.ymin]=t(o.xmin,o.ymin,c,n),[s.xmax,s.ymax]=t(o.xmax,o.ymax,c,n);else if("paths"in o&&"paths"in s||"rings"in o&&"rings"in s){const e="paths"in o?o.paths:o.rings,r=[];let i;for(let o=0;o<e.length;o++){const s=e[o];i=[],r.push(i);for(let e=0;e<s.length;e++)i.push(t(s[e][0],s[e][1],[0,0],n)),s[e].length>2&&i[e].push(s[e][2]),s[e].length>3&&i[e].push(s[e][3])}"paths"in s?s.paths=r:s.rings=r}else if("points"in o&&"points"in s){const e=o.points,r=[];for(let i=0;i<e.length;i++)r[i]=t(e[i][0],e[i][1],[0,0],n),e[i].length>2&&r[i].push(e[i][2]),e[i].length>3&&r[i].push(e[i][3]);s.points=r}return i}function d(e,t){const r=e&&(l(e)?e:e.spatialReference),n=t&&(l(t)?t:t.spatialReference);return!(e&&"type"in e&&"mesh"===e.type||t&&"type"in t&&"mesh"===t.type||!r||!n)&&(!!o.equals(n,r)||o.isWebMercator(n)&&o.isWGS84(r)||o.isWebMercator(r)&&o.isWGS84(n))}function f(e,t,r=[0,0]){t>89.99999?t=89.99999:t<-89.99999&&(t=-89.99999);const n=a(t);return r[0]=a(e)*i.earth.radius,r[1]=i.earth.halfSemiMajorAxis*Math.log((1+Math.sin(n))/(1-Math.sin(n))),r}function h(e,t,r=[0,0],n=!1){if(e===o.webMercatorValid[0])r[0]=-180;else if(e===o.webMercatorValid[1])r[0]=180;else{const t=s(e/i.earth.radius);r[0]=n?t:t-360*Math.floor((t+180)/360)}return r[1]=s(Math.PI/2-2*Math.atan(Math.exp(-t/i.earth.radius))),r}e.canProject=d,e.geographicToWebMercator=function(e,i=!1,o=t.clone(e)){return r.assertNotMesh(e),r.assertNotMesh(o),u(e,f,n.WebMercator,i,o)},e.lngLatToXY=f,e.project=function(e,r){if(null==e)return null;const i=e.spatialReference,s=r&&(l(r)?r:r.spatialReference);return d(i,s)?o.equals(i,s)?t.clone(e):o.isWebMercator(s)?u(e,f,n.WebMercator,!1,t.clone(e)):o.isWGS84(s)?u(e,h,n.WGS84,!1,t.clone(e)):null:null},e.webMercatorToGeographic=function(e,i=!1,o=t.clone(e)){return r.assertNotMesh(e),r.assertNotMesh(o),u(e,h,n.WGS84,i,o)},e.x2lon=function(e){return e/i.earth.radius},e.xyToLngLat=h,e.y2lat=function(e){return Math.PI/2-2*Math.atan(Math.exp(-e/i.earth.radius))},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/geometry/asserts":function(){define(["exports","../core/Error"],(function(e,t){"use strict";function r(e){if(e&&"object"==typeof e&&"type"in e&&"mesh"===e.type)throw new t("internal:mesh","Mesh geometries are not supported for this operation")}e.assertNotMesh=r,e.assertNotMeshes=function(e){e.forEach(r)},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/geometry/support/contains":function(){define(["exports"],(function(e){"use strict";const t=[0,0];function r(e,t){return n(e,t[0],t[1])}function n(e,t,r,n){return t>=e.xmin&&t<=e.xmax&&r>=e.ymin&&r<=e.ymax&&(null==n||!e.hasZ||n>=e.zmin&&n<=e.zmax)}function i(e,t){return o(e.rings,t)}function o(e,t){if(!e)return!1;if(function(e){return!Array.isArray(e[0][0])}(e))return s(!1,e,t);let r=!1;for(let n=0,i=e.length;n<i;n++)r=s(r,e[n],t);return r}function s(e,t,r){const[n,i]=r;let o=e,s=0;for(let e=0,r=t.length;e<r;e++){s++,s===r&&(s=0);const[a,l]=t[e],[c,u]=t[s];(l<i&&u>=i||u<i&&l>=i)&&a+(i-l)/(u-l)*(c-a)<n&&(o=!o)}return o}e.extentContainsCoords2D=r,e.extentContainsCoords3D=function(e,t){return n(e,t[0],t[1],t[2])},e.extentContainsExtent=function(e,t){const{xmin:r,ymin:i,zmin:o,xmax:s,ymax:a,zmax:l}=t;return e.hasZ&&t.hasZ?n(e,r,i,o)&&n(e,r,a,o)&&n(e,s,a,o)&&n(e,s,i,o)&&n(e,r,i,l)&&n(e,r,a,l)&&n(e,s,a,l)&&n(e,s,i,l):n(e,r,i)&&n(e,r,a)&&n(e,s,a)&&n(e,s,i)},e.extentContainsMultipoint=function(e,t){if(!t.points?.length)return!1;for(const n of t.points)if(!r(e,n))return!1;return!0},e.extentContainsPoint=function(e,t){return null!=t&&n(e,t.x,t.y,t.z)},e.extentContainsXYZ=n,e.polygonContainsCoords=i,e.polygonContainsPoint=function(e,r){return t[1]=r.y,t[0]=r.x,i(e,t)},e.ringsContainsCoords=o,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/geometry/support/intersectsBase":function(){define(["exports","./contains"],(function(e,t){"use strict";function r(e,r){return t.extentContainsPoint(e,r)}function n(e,t){const r=e.hasZ&&t.hasZ;let n,i,o;if(e.xmin<=t.xmin){if(n=t.xmin,e.xmax<n)return!1}else if(n=e.xmin,t.xmax<n)return!1;if(e.ymin<=t.ymin){if(i=t.ymin,e.ymax<i)return!1}else if(i=e.ymin,t.ymax<i)return!1;if(r&&t.hasZ)if(e.zmin<=t.zmin){if(o=t.zmin,e.zmax<o)return!1}else if(o=e.zmin,t.zmax<o)return!1;return!0}function i(e,r){const{points:n,hasZ:i}=r,o=i?t.extentContainsCoords3D:t.extentContainsCoords2D;for(const t of n)if(o(e,t))return!0;return!1}const o=[0,0],s=[0,0],a=[0,0],l=[0,0],c=[o,s,a,l],u=[[a,o],[o,s],[s,l],[l,a]];function d(e,r){return function(e,r){o[0]=e.xmin,o[1]=e.ymax,s[0]=e.xmax,s[1]=e.ymax,a[0]=e.xmin,a[1]=e.ymin,l[0]=e.xmax,l[1]=e.ymin;for(const e of c)if(t.ringsContainsCoords(r,e))return!0;for(const n of r){if(!n.length)continue;let r=n[0];if(t.extentContainsCoords2D(e,r))return!0;for(let i=1;i<n.length;i++){const o=n[i];if(t.extentContainsCoords2D(e,o)||p(r,o,u))return!0;r=o}}return!1}(e,r.rings)}function f(e,r){o[0]=e.xmin,o[1]=e.ymax,s[0]=e.xmax,s[1]=e.ymax,a[0]=e.xmin,a[1]=e.ymin,l[0]=e.xmax,l[1]=e.ymin;const n=r.paths;for(const r of n){if(!n.length)continue;let i=r[0];if(t.extentContainsCoords2D(e,i))return!0;for(let n=1;n<r.length;n++){const o=r[n];if(t.extentContainsCoords2D(e,o)||p(i,o,u))return!0;i=o}}return!1}const h=[0,0];function p(e,t,r){for(let n=0;n<r.length;n++)if(y(e,t,r[n][0],r[n][1]))return!0;return!1}function y(e,t,r,n,i){const[o,s]=e,[a,l]=t,[c,u]=r,[d,f]=n,h=d-c,p=o-c,y=a-o,m=f-u,g=s-u,_=l-s,T=m*y-h*_;if(0===T)return!1;const S=(h*g-m*p)/T,x=(y*g-_*p)/T;return S>=0&&S<=1&&x>=0&&x<=1&&(i&&(i[0]=o+S*(a-o),i[1]=s+S*(l-s)),!0)}e.extentIntersectsExtent=n,e.extentIntersectsMultipoint=i,e.extentIntersectsPoint=r,e.extentIntersectsPolygon=d,e.extentIntersectsPolyline=f,e.getFeatureExtentIntersector=function(e){switch(e){case"esriGeometryEnvelope":case"extent":return n;case"esriGeometryMultipoint":case"multipoint":return i;case"esriGeometryPoint":case"point":return r;case"esriGeometryMultiPatch":case"multipatch":case"esriGeometryPolygon":case"polygon":return d;case"esriGeometryPolyline":case"polyline":return f}},e.isSelfIntersecting=function(e){for(let t=0;t<e.length;t++){const r=e[t];for(let n=0;n<r.length-1;n++){const i=r[n],o=r[n+1];for(let r=t+1;r<e.length;r++)for(let t=0;t<e[r].length-1;t++){const n=e[r][t],s=e[r][t+1];if(y(i,o,n,s,h)&&!(h[0]===i[0]&&h[1]===i[1]||h[0]===n[0]&&h[1]===n[1]||h[0]===o[0]&&h[1]===o[1]||h[0]===s[0]&&h[1]===s[1]))return!0}}const n=r.length;if(!(n<=4))for(let e=0;e<n-3;e++){let t=n-1;0===e&&(t=n-2);const i=r[e],o=r[e+1];for(let n=e+2;n<t;n++){const e=r[n],t=r[n+1];if(y(i,o,e,t,h)&&!(h[0]===i[0]&&h[1]===i[1]||h[0]===e[0]&&h[1]===e[1]||h[0]===o[0]&&h[1]===o[1]||h[0]===t[0]&&h[1]===t[1]))return!0}}}return!1},e.segmentIntersects=y,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/geometry/Multipoint":function(){define(["exports","../chunks/tslib.es6","../core/lang","../core/accessorSupport/decorators/property","../core/has","../core/Logger","../core/accessorSupport/decorators/subclass","../core/accessorSupport/decorators/writer","./Extent","./Geometry","./Point","./support/zmUtils"],(function(e,t,r,n,i,o,s,a,l,c,u,d){"use strict";var f;function h(e){return(t,r)=>null==t?r:null==r?t:e(t,r)}return e.default=f=class extends c{constructor(...e){super(...e),this.points=[],this.type="multipoint"}normalizeCtorArgs(e,t){if(!e&&!t)return{};const r={};var n;Array.isArray(e)?(r.points=e,r.spatialReference=t):!(n=e)||"esri.geometry.SpatialReference"!==n.declaredClass&&null==n.wkid?(e.points&&(r.points=e.points),e.spatialReference&&(r.spatialReference=e.spatialReference),e.hasZ&&(r.hasZ=e.hasZ),e.hasM&&(r.hasM=e.hasM)):r.spatialReference=e;const i=r.points?.[0];return i&&(void 0===r.hasZ&&void 0===r.hasM?(r.hasZ=i.length>2,r.hasM=!1):void 0===r.hasZ?r.hasZ=i.length>3:void 0===r.hasM&&(r.hasM=i.length>3)),r}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const e=this.points;if(!e.length)return null;const t=new l,r=this.hasZ,n=this.hasM,i=r?3:2,o=e[0],s=h(Math.min),a=h(Math.max);let c,u,d,f,[p,y]=o,[m,g]=o;for(let t=0,o=e.length;t<o;t++){const o=e[t],[l,h]=o;if(p=s(p,l),y=s(y,h),m=a(m,l),g=a(g,h),r&&o.length>2){const e=o[2];c=s(c,e),d=a(d,e)}if(n&&o.length>i){const e=o[i];u=s(u,e),f=a(f,e)}}return t.xmin=p,t.ymin=y,t.xmax=m,t.ymax=g,t.spatialReference=this.spatialReference,r?(t.zmin=c,t.zmax=d):(t.zmin=void 0,t.zmax=void 0),n?(t.mmin=u,t.mmax=f):(t.mmin=void 0,t.mmax=void 0),t}writePoints(e,t){t.points=r.clone(this.points)}addPoint(e){return d.updateSupportFromPoint(this,e),Array.isArray(e)?this.points.push(e):this.points.push(e.toArray()),this.notifyChange("points"),this}clone(){const e={points:r.clone(this.points),spatialReference:this.spatialReference};return this.hasZ&&(e.hasZ=!0),this.hasM&&(e.hasM=!0),new f(e)}getPoint(e){if(!this._validateInputs(e))return null;const t=this.points[e],r={x:t[0],y:t[1],spatialReference:this.spatialReference};let n=2;return this.hasZ&&(r.z=t[2],n=3),this.hasM&&(r.m=t[n]),new u(r)}removePoint(e){if(!this._validateInputs(e))return null;const t=new u(this.points.splice(e,1)[0],this.spatialReference);return this.notifyChange("points"),t}setPoint(e,t){return this._validateInputs(e)?(d.updateSupportFromPoint(this,t),Array.isArray(t)||(t=t.toArray()),this.points[e]=t,this.notifyChange("points"),this):this}toJSON(e){return this.write({},e)}_validateInputs(e){return null!=e&&e>=0&&e<this.points.length}},t.__decorate([n.property({readOnly:!0})],e.default.prototype,"cache",null),t.__decorate([n.property()],e.default.prototype,"extent",null),t.__decorate([n.property({type:[[Number]],json:{write:{isRequired:!0}}})],e.default.prototype,"points",void 0),t.__decorate([a.writer("points")],e.default.prototype,"writePoints",null),e.default=f=t.__decorate([s.subclass("esri.geometry.Multipoint")],e.default),e.default.prototype.toJSON.isDefaultToJSON=!0,e.default}))},"esri/geometry/support/zmUtils":function(){define(["exports"],(function(e){"use strict";e.updateSupportFromPoint=function(e,t,r=!1){let{hasM:n,hasZ:i}=e;Array.isArray(t)?4!==t.length||n||i?3===t.length&&r&&!n?(i=!0,n=!1):3===t.length&&n&&i&&(n=!1,i=!1):(n=!0,i=!0):(i=!i&&t.hasZ&&(!n||t.hasM),n=!n&&t.hasM&&(!i||t.hasZ)),e.hasZ=i,e.hasM=n},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/geometry/Polygon":function(){define(["exports","../chunks/tslib.es6","../core/arrayUtils","../core/deprecate","../core/lang","../core/Logger","../core/accessorSupport/decorators/property","../core/has","../core/accessorSupport/decorators/subclass","../core/accessorSupport/decorators/writer","./Extent","./Geometry","./Point","./SpatialReference","./support/centroid","./support/contains","./support/coordsUtils","./support/extentUtils","./support/intersectsBase","./support/webMercatorUtils","./support/zmUtils"],(function(e,t,r,n,i,o,s,a,l,c,u,d,f,h,p,y,m,g,_,T,S){"use strict";var x;function b(e){return!Array.isArray(e[0])}return e.default=x=class extends d{static fromExtent(e){const t=e.clone().normalize(),{spatialReference:r}=e;let n=!1,i=!1;for(const e of t)e.hasZ&&(n=!0),e.hasM&&(i=!0);const o={rings:t.map((e=>{const t=[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]];if(n&&e.hasZ){const r=e.zmin+.5*(e.zmax-e.zmin);for(let e=0;e<t.length;e++)t[e].push(r)}if(i&&e.hasM){const r=e.mmin+.5*(e.mmax-e.mmin);for(let e=0;e<t.length;e++)t[e].push(r)}return t})),spatialReference:r};return n&&(o.hasZ=!0),i&&(o.hasM=!0),new x(o)}constructor(e){super(function(e){if(!e)return;let{rings:t,hasM:r,hasZ:n,spatialReference:i}=e;var o;switch(t??=[],o=t,"number"==typeof o[0]?.[0]&&(t=[t]),t[0]?.[0]?.length){case 4:n??=!0,r??=!0;break;case 3:n??=!0!==r,r??=!n;break;default:n??=!1,r??=!1}return i??=h.WGS84,{...e,hasM:r,hasZ:n,rings:t,spatialReference:i}}(e)),this.curveRings=void 0,this.rings=[],this.type="polygon"}get cache(){return this.commitProperty("curveRings"),this.commitProperty("hasM"),this.commitProperty("hasZ"),this.commitProperty("rings"),this.commitProperty("spatialReference"),{}}get centroid(){const e=p.polygonCentroid(this);if(!e||isNaN(e[0])||isNaN(e[1])||this.hasZ&&isNaN(e[2]))return null;const t=new f;return t.x=e[0],t.y=e[1],t.spatialReference=this.spatialReference,this.hasZ&&(t.z=e[2]),t}writeCurveRings(e,t){t.curveRings=i.clone(e)}get extent(){const e=g.getPolygonExtent(this),{spatialReference:t}=this;return e?new u({...e,spatialReference:t}):null}get isSelfIntersecting(){return n.deprecatedProperty(o.getLogger(this),"isSelfIntersecting",{replacement:"Please use simplifyOperator.isSimple() instead.",version:"4.33",warnOnce:!0}),_.isSelfIntersecting(this.rings)}writeRings(e,t){t.rings=i.clone(this.rings)}addRing(e){if(!e)return;const t=this.rings,r=t.length;if(b(e)){const n=[];for(let t=0,r=e.length;t<r;t++)n[t]=e[t].toArray();t[r]=n}else t[r]=e.slice();return this.notifyChange("rings"),this}clone(){const e=new x;return e.spatialReference=this.spatialReference,e.rings=i.clone(this.rings),e.curveRings=i.clone(this.curveRings),e.hasZ=this.hasZ,e.hasM=this.hasM,e}equals(e){if(this===e)return!0;if(null==e)return!1;const t=this.spatialReference,n=e.spatialReference;if(null!=t!=(null!=n))return!1;if(null!=t&&null!=n&&!t.equals(n))return!1;if(this.rings.length!==e.rings.length)return!1;const i=([e,t,r,n],[i,o,s,a])=>e===i&&t===o&&(null==r&&null==s||r===s)&&(null==n&&null==a||n===a);for(let t=0;t<this.rings.length;t++){const n=this.rings[t],o=e.rings[t];if(!r.equals(n,o,i))return!1}return!0}contains(e){if(!e)return!1;const t=T.project(e,this.spatialReference);return y.polygonContainsPoint(this,null!=t?t:e)}isClockwise(e){const t=b(e)?e.map((e=>this.hasZ?this.hasM?[e.x,e.y,e.z,e.m]:[e.x,e.y,e.z]:[e.x,e.y])):e;return m.isClockwise(t)}getPoint(e,t){if(!this._validateInputs(e,t))return null;const r=this.rings[e][t],n=this.hasZ,i=this.hasM;return n&&!i?new f(r[0],r[1],r[2],void 0,this.spatialReference):i&&!n?new f(r[0],r[1],void 0,r[2],this.spatialReference):n&&i?new f(r[0],r[1],r[2],r[3],this.spatialReference):new f(r[0],r[1],this.spatialReference)}insertPoint(e,t,r){return this._validateInputs(e,t,!0)?(S.updateSupportFromPoint(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[e].splice(t,0,r),this.notifyChange("rings"),this):this}removePoint(e,t){if(!this._validateInputs(e,t))return null;const r=new f(this.rings[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("rings"),r}removeRing(e){if(!this._validateInputs(e,null))return null;const t=this.rings.splice(e,1)[0],r=this.spatialReference,n=t.map((e=>new f(e,r)));return this.notifyChange("rings"),n}setPoint(e,t,r){return this._validateInputs(e,t)?(S.updateSupportFromPoint(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[e][t]=r,this.notifyChange("rings"),this):this}_validateInputs(e,t,r=!1){if(null==e||e<0||e>=this.rings.length)return!1;if(null!=t){const n=this.rings[e];if(r&&(t<0||t>n.length))return!1;if(!r&&(t<0||t>=n.length))return!1}return!0}toJSON(e){return this.write({},e)}},t.__decorate([s.property({readOnly:!0})],e.default.prototype,"cache",null),t.__decorate([s.property({readOnly:!0})],e.default.prototype,"centroid",null),t.__decorate([s.property({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],e.default.prototype,"curveRings",void 0),t.__decorate([c.writer("curveRings")],e.default.prototype,"writeCurveRings",null),t.__decorate([s.property({readOnly:!0})],e.default.prototype,"extent",null),t.__decorate([s.property({readOnly:!0})],e.default.prototype,"isSelfIntersecting",null),t.__decorate([s.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],e.default.prototype,"rings",void 0),t.__decorate([c.writer("rings")],e.default.prototype,"writeRings",null),e.default=x=t.__decorate([l.subclass("esri.geometry.Polygon")],e.default),e.default.prototype.toJSON.isDefaultToJSON=!0,e.default}))},"esri/geometry/support/centroid":function(){define(["exports","../geometryCursorCollectUtils","./coordsUtils"],(function(e,t,r){"use strict";function n(e,t){if(!e?.length)return null;const r=[],n=[],s=t?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let r=0,o=e.length;r<o;r++){const o=i(e[r],t,s);o&&n.push(o)}if(n.sort(((e,r)=>{let n=e[2]-r[2];return 0===n&&t&&(n=e[4]-r[4]),n})),n.length&&(r[0]=n[0][0],r[1]=n[0][1],t&&(r[2]=n[0][3]),(r[0]<s[0]||r[0]>s[1]||r[1]<s[2]||r[1]>s[3]||t&&(r[2]<s[4]||r[2]>s[5]))&&(r.length=0)),!r.length){const n=e[0]&&e[0].length?o(e[0],t):null;if(!n)return null;r[0]=n[0],r[1]=n[1],t&&n.length>2&&(r[2]=n[2])}return r}function i(e,t,r){let n=0,i=0,o=0,s=0,a=0;const l=e.length?e[0][0]:0,c=e.length?e[0][1]:0,u=e.length&&t?e[0][2]:0;for(let d=0;d<e.length;d++){const f=e[d],h=e[(d+1)%e.length],[p,y,m]=f,g=p-l,_=y-c,[T,S,x]=h,b=T-l,E=S-c,v=g*E-b*_;if(s+=v,n+=(g+b)*v,i+=(_+E)*v,t&&f.length>2&&h.length>2){const e=m-u,t=x-u,r=g*t-b*e;o+=(e+t)*r,a+=r}p<r[0]&&(r[0]=p),p>r[1]&&(r[1]=p),y<r[2]&&(r[2]=y),y>r[3]&&(r[3]=y),t&&(m<r[4]&&(r[4]=m),m>r[5]&&(r[5]=m))}if(s>0&&(s*=-1),a>0&&(a*=-1),!s)return null;s*=.5,a*=.5;const d=[n/(6*s)+l,i/(6*s)+c,s];return t&&(r[4]===r[5]||0===a?(d[3]=(r[4]+r[5])/2,d[4]=0):(d[3]=o/(6*a)+u,d[4]=a)),d}function o(e,t){const n=t?[0,0,0]:[0,0],i=t?[0,0,0]:[0,0];let o=0,s=0,a=0,l=0;for(let c=0,u=e.length;c<u-1;c++){const u=e[c],d=e[c+1];if(u&&d){n[0]=u[0],n[1]=u[1],i[0]=d[0],i[1]=d[1],t&&u.length>2&&d.length>2&&(n[2]=u[2],i[2]=d[2]);const e=r.getLength(n,i);if(e){o+=e;const n=r.getMidpoint(u,d);s+=e*n[0],a+=e*n[1],t&&n.length>2&&(l+=e*n[2])}}}return o>0?t?[s/o,a/o,l/o]:[s/o,a/o]:e.length?e[0]:null}function s(e){const{hasZ:r,totalSize:n}=e;if(0===n)return null;const o=[],s=[],l=r?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(e.reset();e.nextPath();){const r=i(t.collectPath(e),e.hasZ,l);r&&s.push(r)}if(s.sort(((e,t)=>{let n=e[2]-t[2];return 0===n&&r&&(n=e[4]-t[4]),n})),s.length&&(o[0]=s[0][0],o[1]=s[0][1],r&&(o[2]=s[0][3]),(o[0]<l[0]||o[0]>l[1]||o[1]<l[2]||o[1]>l[3]||r&&(o[2]<l[4]||o[2]>l[5]))&&(o.length=0)),!o.length){e.reset(),e.nextPath();const t=e.pathSize?a(e):null;if(!t)return null;o[0]=t[0],o[1]=t[1],r&&t.length>2&&(o[2]=t[2])}return o}function a(e){const{hasZ:t}=e,n=t?[0,0,0]:[0,0],i=t?[0,0,0]:[0,0];let o=0,s=0,a=0,l=0;if(e.nextPoint()){let c=e.x,u=e.y,d=e.z;for(;e.nextPoint();){const f=e.x,h=e.y,p=e.z;n[0]=c,n[1]=u,i[0]=f,i[1]=h,t&&(n[2]=d,i[2]=p);const y=r.getLength(n,i);if(y){o+=y;const e=r.getMidpoint(n,i);s+=y*e[0],a+=y*e[1],t&&e.length>2&&(l+=y*e[2])}c=f,u=h,d=p}}return o>0?t?[s/o,a/o,l/o]:[s/o,a/o]:e.pathSize?(e.seekPathStart(),e.nextPoint(),[e.x,e.y]):null}const l=1/3;function c(e,t,r){if(!e||!r||r.pathSize<3)return null;r.nextPoint();const n=r.x,i=r.y;r.nextPoint();let o,s=r.x-n,a=r.y-i,c=0,u=0;for(;r.nextPoint();)c=r.x-n,u=r.y-i,o=.5*l*(c*a-u*s),e[0]+=o*(s+c),e[1]+=o*(a+u),s=c,a=u;const d=r.getCurrentRingArea(),f=[n,i];return f[0]-=t[0],f[1]-=t[1],f[0]*=d,f[1]*=d,e[0]+=f[0],e[1]+=f[1],e}e.extentCentroid=function(e){return e?e.hasZ?[e.xmax-e.xmin/2,e.ymax-e.ymin/2,e.zmax-e.zmin/2]:[e.xmax-e.xmin/2,e.ymax-e.ymin/2]:null},e.lineCentroid=o,e.lineCentroidCursor=a,e.polygonCentroid=function(e){return e?n(e.rings,e.hasZ??!1):null},e.ringCentroid=i,e.ringCentroidCursorXY=function(e,t){let r=0,n=0,i=0;e.nextPoint();const o=e.pathSize?e.x:0,s=e.pathSize?e.y:0;for(let a=0;a<e.pathSize;a++){e.seekInPath(a);const l=[e.x,e.y];e.seekInPath((a+1)%e.pathSize);const c=[e.x,e.y],[u,d]=l,f=u-o,h=d-s,[p,y]=c,m=p-o,g=y-s,_=f*g-m*h;i+=_,r+=(f+m)*_,n+=(h+g)*_,u<t[0]&&(t[0]=u),u>t[1]&&(t[1]=u),d<t[2]&&(t[2]=d),d>t[3]&&(t[3]=d)}return i>0&&(i*=-1),i?(i*=.5,[r/(6*i)+o,n/(6*i)+s,i]):null},e.ringsCentroid=n,e.ringsCentroidCursor=s,e.weightedAreaCentroid=function(e){let t=0;for(e.reset();e.nextPath();)t+=e.getCurrentRingArea();if(t<1e-6){const t=s(e);return t?[t[0],t[1]]:null}const r=[0,0];if(e.reset(),!e.nextPath()||!e.nextPoint())return null;const n=[e.x,e.y];for(e.reset();e.nextPath();)c(r,n,e);return r[0]*=1/t,r[1]*=1/t,r[0]+=n[0],r[1]+=n[1],r},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/geometry/geometryCursorCollectUtils":function(){define(["exports"],(function(e){"use strict";e.collectMultipath=function(e){const t=[];for(e.reset();e.nextPath();){const r=[];for(;e.nextPoint();)r.push([e.x,e.y]);t.push(r)}return e.reset(),t},e.collectPath=function(e){const t=[];for(;e.nextPoint();)t.push([e.x,e.y]);return e.seekPathStart(),t},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/geometry/support/coordsUtils":function(){define(["exports","../../core/arrayUtils","./Axis","./spatialReferenceUtils"],(function(e,t,r,n){"use strict";function i(e,t){const r=t[0]-e[0],n=t[1]-e[1];if(e.length>2&&t.length>2){const i=e[2]-t[2];return Math.sqrt(r*r+n*n+i*i)}return Math.sqrt(r*r+n*n)}function o(e,t,r){const n=e[0]+r*(t[0]-e[0]),i=e[1]+r*(t[1]-e[1]);return e.length>2&&t.length>2?[n,i,e[2]+r*(t[2]-e[2])]:[n,i]}function s(e,t,r,n){const[i,o]=t,[s,a]=r,[l,c]=n,u=l-s,d=c-a,f=u*u+d*d,h=(i-s)*u+(o-a)*d,p=Math.min(1,Math.max(0,h/f));return e[0]=s+u*p,e[1]=a+d*p,e}function a(e,t,r,n,i,o){let s=r,a=n,l=i-s,c=o-a;if(0!==l||0!==c){const r=((e-s)*l+(t-a)*c)/(l*l+c*c);r>1?(s=i,a=o):r>0&&(s+=l*r,a+=c*r)}return l=e-s,c=t-a,l*l+c*c}function l(e,t=r.Axis.X,n=r.Axis.Y){let i=0;const o=e.length;let s=e[0];for(let r=1;r<o;r++){const o=e[r];i+=(o[t]-s[t])*(o[n]+s[n]),s=o}if(c(e)){const r=e[0];i+=(r[t]-s[t])*(r[n]+s[n])}return i>=0}function c(e){const r=e.length;return r>0&&!t.equals(e[0],e[r-1])}function u(e){if("rings"in e)for(const t of e.rings)c(t)&&t.push(t[0].slice())}function d(e,t){const r=n.getInfo(t);if(!r)return;const i=r.valid[0],o=r.valid[1],s=o-i;for(const t of e){let e=1/0,r=-1/0;for(const n of t){const t=f(n[0],i,o);e=Math.min(e,t),r=Math.max(r,t),n[0]=t}const n=r-e;s-n<n&&t.forEach((e=>{e[0]<0&&(e[0]+=s)}))}}function f(e,t,r){const n=r-t;return e<t?r-(t-e)%n:e>r?t+(e-t)%n:e}e.closeRings=u,e.closeRingsAndFixWinding=function(e){"rings"in e&&(u(e),function(e){if(!("rings"in e))return!1;if(0===e.rings.length||l(e.rings[0]))return!1;for(const t of e.rings)t.reverse()}(e))},e.distanceFromPointToPolygon=function(e,t,r){let n,i,o,s,l=!1,c=1/0;for(r.reset();r.nextPath();)if(r.nextPoint())for(n=r.x,i=r.y;r.nextPoint();)o=r.x,s=r.y,i>t!=s>t&&e<(o-n)*(t-i)/(s-i)+n&&(l=!l),c=Math.min(c,a(e,t,n,i,o,s)),n=o,i=s;return 0===c?0:(l?1:-1)*Math.sqrt(c)},e.distanceToSegmentSquared=a,e.geometryToCoordinates=function(e){if(!e)return null;if(Array.isArray(e))return e;const t=e.hasZ,r=e.hasM;if("point"===e.type)return r&&t?[e.x,e.y,e.z,e.m]:t?[e.x,e.y,e.z]:r?[e.x,e.y,e.m]:[e.x,e.y];if("polygon"===e.type)return e.rings.slice();if("polyline"===e.type)return e.paths.slice();if("multipoint"===e.type)return e.points.slice();if("extent"===e.type){const t=e.clone().normalize();if(!t)return null;let r=!1,n=!1;return t.forEach((e=>{e.hasZ&&(r=!0),e.hasM&&(n=!0)})),t.map((e=>{const t=[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]];if(r&&e.hasZ){const r=.5*(e.zmax-e.zmin);for(let e=0;e<t.length;e++)t[e].push(r)}if(n&&e.hasM){const r=.5*(e.mmax-e.mmin);for(let e=0;e<t.length;e++)t[e].push(r)}return t}))}return null},e.getLength=i,e.getMidpoint=function(e,t){return o(e,t,.5)},e.getPathLength=function(e){const t=e.length;let r=0;for(let n=0;n<t-1;++n)r+=i(e[n],e[n+1]);return r},e.getPointOnPath=function(e,t){if(t<=0)return e[0];const r=e.length;let n=0;for(let s=0;s<r-1;++s){const r=i(e[s],e[s+1]);if(t-n<r){const i=(t-n)/r;return o(e[s],e[s+1],i)}n+=r}return e[r-1]},e.hasCompatibleTopology=function(e,t){if(e===t)return!0;if(e.type!==t.type)return!1;if("point"===e.type||"mesh"===e.type||"extent"===e.type)return!0;if("multipoint"===e.type)return e.points.length===t.points.length;const[r,n]="polyline"===e.type?[e.paths,t.paths]:[e.rings,t.rings];return r.length===n.length&&r.every(((e,t)=>e.length===n[t].length))},e.isClockwise=l,e.projectPointOnLine=function(e,t,r,n){return s(e,t,r[n],r[n+1])},e.projectPointOnLineSeg=s,e.unnormalizeGeometryOnDatelineCrossing=function(e){return"polygon"!==e.type&&"polyline"!==e.type||d("polygon"===e.type?e.rings:e.paths,e.spatialReference),e},e.unnormalizeVerticesOnDatelineCrossing=d,e.unnormalizedCoordinate=f,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/geometry/support/Axis":function(){define(["exports"],(function(e){"use strict";var t;e.Axis=void 0,(t=e.Axis||(e.Axis={}))[t.X=0]="X",t[t.Y=1]="Y",t[t.Z=2]="Z",Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/geometry/support/extentUtils":function(){define(["exports","./boundsUtils"],(function(e,t){"use strict";const r=[];function n(e,t,r,n){return{xmin:e,ymin:t,xmax:r,ymax:n}}function i(e,t,r,n,i,o){return{xmin:e,ymin:t,zmin:r,xmax:n,ymax:i,zmax:o}}function o(e,t,r,n,i,o){return{xmin:e,ymin:t,mmin:r,xmax:n,ymax:i,mmax:o}}function s(e,t,r,n,i,o,s,a){return{xmin:e,ymin:t,zmin:r,mmin:n,xmax:i,ymax:o,zmax:s,mmax:a}}function a(e,t=!1,r=!1){return t?r?s(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]):i(e[0],e[1],e[2],e[3],e[4],e[5]):r?o(e[0],e[1],e[2],e[3],e[4],e[5]):n(e[0],e[1],e[2],e[3])}function l(e){const{hasZ:n,hasM:i,points:o}=e;return a(t.getPointsBounds(r,o,n??!1,i??!1),n,i)}function c(e){const{x:t,y:r,z:a,m:l}=e,c=null!=l;return null!=a?c?s(t,r,a,l,t,r,a,l):i(t,r,a,t,r,a):c?o(t,r,l,t,r,l):n(t,r,t,r)}function u(e){const{hasZ:n,hasM:i,rings:o}=e,s=t.getRingsOrPathsBounds(r,o,n??!1,i??!1);return s?a(s,n,i):null}function d(e){const{hasZ:n,hasM:i,paths:o}=e,s=t.getRingsOrPathsBounds(r,o,n??!1,i??!1);return s?a(s,n,i):null}e.getGeometryExtent=function(e){return e?void 0!==(t=e).xmin&&void 0!==t.ymin&&void 0!==t.xmax&&void 0!==t.ymax?e:function(e){return void 0!==e.x&&void 0!==e.y}(e)?c(e):function(e){return void 0!==e.rings}(e)?u(e):function(e){return void 0!==e.paths}(e)?d(e):function(e){return void 0!==e.points}(e)?l(e):null:null;var t},e.getMultipointExtent=l,e.getPointExtent=c,e.getPolygonExtent=u,e.getPolylineExtent=d,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/geometry/support/boundsUtils":function(){define(["exports","./aaBoundingRect"],(function(e,t){"use strict";function r(e){return void 0!==e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax}function n(e){return void 0!==e.points}function i(e){return void 0!==e.x&&void 0!==e.y}function o(e){return void 0!==e.paths}function s(e){return void 0!==e.rings}function a(e){return function(t,r){return null==t?r:null==r?t:e(t,r)}}const l=a(Math.min),c=a(Math.max);function u(e){let r,n,i,o;for(r=i=1/0,n=o=-1/0;e.nextPoint();)r=Math.min(e.x,r),i=Math.min(e.y,i),n=Math.max(e.x,n),o=Math.max(e.y,o);return t.create([r,i,n,o])}function d(e,t,r,n){const i=r?3:2;if(!t.length||!t[0].length)return null;let o,s,a,u,[d,f]=t[0][0],[h,p]=t[0][0];for(let e=0;e<t.length;e++){const y=t[e];for(let e=0;e<y.length;e++){const t=y[e],[m,g]=t;if(d=l(d,m),f=l(f,g),h=c(h,m),p=c(p,g),r&&t.length>2){const e=t[2];o=l(o,e),s=c(s,e)}if(n&&t.length>i){const e=t[i];a=l(o,e),u=c(s,e)}}}return r?n?(e[0]=d,e[1]=f,e[2]=o,e[3]=a,e[4]=h,e[5]=p,e[6]=s,e[7]=u,e.length=8,e):(e[0]=d,e[1]=f,e[2]=o,e[3]=h,e[4]=p,e[5]=s,e.length=6,e):n?(e[0]=d,e[1]=f,e[2]=a,e[3]=h,e[4]=p,e[5]=u,e.length=6,e):(e[0]=d,e[1]=f,e[2]=h,e[3]=p,e.length=4,e)}function f(e,t,r,n,i,o){const s=t.xmin,a=t.xmax,l=t.ymin,c=t.ymax;let u=t.zmin,d=t.zmax,f=t.mmin,h=t.mmax;return i?(u=u||0,d=d||0,o?(f=f||0,h=h||0,e[0]=s,e[1]=l,e[2]=u,e[3]=f,e[4]=a,e[5]=c,e[6]=d,e[7]=h,e):(e[0]=s,e[1]=l,e[2]=u,e[3]=a,e[4]=c,e[5]=d,e)):o?(f=f||0,h=h||0,e[0]=s,e[1]=l,e[2]=f,e[3]=a,e[4]=c,e[5]=h,e):(e[0]=s,e[1]=l,e[2]=a,e[3]=c,e)}function h(e,t,r,n,i,o){const s=r?3:2,a=n&&o,u=r&&i;if(!t.length||!t[0].length)return null;let d,f,h,p,[y,m]=t[0],[g,_]=t[0];for(let e=0;e<t.length;e++){const r=t[e],[n,i]=r;if(y=l(y,n),m=l(m,i),g=c(g,n),_=c(_,i),u&&r.length>2){const e=r[2];d=l(d,e),f=c(f,e)}if(a&&r.length>s){const e=r[s];h=l(d,e),p=c(f,e)}}return i?(d=d||0,f=f||0,o?(h=h||0,p=p||0,e[0]=y,e[1]=m,e[2]=d,e[3]=h,e[4]=g,e[5]=_,e[6]=f,e[7]=p,e):(e[0]=y,e[1]=m,e[2]=d,e[3]=g,e[4]=_,e[5]=f,e)):o?(h=h||0,p=p||0,e[0]=y,e[1]=m,e[2]=h,e[3]=g,e[4]=_,e[5]=p,e):(e[0]=y,e[1]=m,e[2]=g,e[3]=_,e)}e.getBoundsXY=function(e,t){return o(t)?d(e,t.paths,!1,!1):s(t)?d(e,t.rings,!1,!1):n(t)?h(e,t.points,!1,!1,!1,!1):r(t)?f(e,t):(i(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.x,e[3]=t.y),e)},e.getBoundsXYZ=function(e,t){return o(t)?d(e,t.paths,!0,!1):s(t)?d(e,t.rings,!0,!1):n(t)?h(e,t.points,!0,!1,!0,!1):r(t)?f(e,t,0,0,!0,!1):(i(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.x,e[4]=t.y,e[5]=t.z),e)},e.getCursorBoundsXY=function(e){let r,n,i,o;for(e.reset(),r=i=1/0,n=o=-1/0;e.nextPath();){const t=u(e);r=Math.min(t[0],r),i=Math.min(t[1],i),n=Math.max(t[2],n),o=Math.max(t[3],o)}return t.create([r,i,n,o])},e.getCursorPathBounds=u,e.getExtentBounds=f,e.getPointsBounds=h,e.getRingsOrPathsBounds=d,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/geometry/support/aaBoundingRect":function(){define(["exports","../../core/has","../../core/mathUtils","../Extent"],(function(e,t,r,n){"use strict";function i(e=d){return[e[0],e[1],e[2],e[3]]}function o(e,t){return e!==t&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]),e}function s(e){return null==e||e[0]>=e[2]?0:e[2]-e[0]}function a(e){return null==e||e[1]>=e[3]?0:e[3]-e[1]}function l(e,t,r){return t>=e[0]&&r>=e[1]&&t<=e[2]&&r<=e[3]}function c(e){return null!=e&&4===e.length}const u=[1/0,1/0,-1/0,-1/0],d=[0,0,0,0];e.allFinite=function(e){for(let t=0;t<4;t++)if(!isFinite(e[t]))return!1;return!0},e.area=function(e){return s(e)*a(e)},e.center=function(e,t=[0,0]){return t[0]=(e[0]+e[2])/2,t[1]=(e[1]+e[3])/2,t},e.clone=function(e){return[e[0],e[1],e[2],e[3]]},e.contains=function(e,t){return t[0]>=e[0]&&t[2]<=e[2]&&t[1]>=e[1]&&t[3]<=e[3]},e.containsPoint=function(e,t){return l(e,t[0],t[1])},e.containsPointObject=function(e,t){return l(e,t.x,t.y)},e.containsPointWithMargin=function(e,t,r){return t[0]>=e[0]-r&&t[1]>=e[1]-r&&t[0]<=e[2]+r&&t[1]<=e[3]+r},e.containsXY=l,e.containsXYWithMargin=function(e,t,r,n){return t>=e[0]-n&&r>=e[1]-n&&t<=e[2]+n&&r<=e[3]+n},e.copy=o,e.create=i,e.diagonal=function(e){const t=s(e),r=a(e);return Math.sqrt(t*t+r*r)},e.distance=function(e,t){const r=(e[0]+e[2])/2,n=(e[1]+e[3])/2,i=Math.max(Math.abs(t[0]-r)-s(e)/2,0),o=Math.max(Math.abs(t[1]-n)-a(e)/2,0);return Math.sqrt(i*i+o*o)},e.empty=function(e){return e?o(e,u):i(u)},e.equals=function(e,t){return c(e)&&c(t)?e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]:e===t},e.expand=function(e,t,r){if(null!=t)if("length"in t)c(t)?(r[0]=Math.min(e[0],t[0]),r[1]=Math.min(e[1],t[1]),r[2]=Math.max(e[2],t[2]),r[3]=Math.max(e[3],t[3])):2!==t.length&&3!==t.length||(r[0]=Math.min(e[0],t[0]),r[1]=Math.min(e[1],t[1]),r[2]=Math.max(e[2],t[0]),r[3]=Math.max(e[3],t[1]));else switch(t.type){case"extent":r[0]=Math.min(e[0],t.xmin),r[1]=Math.min(e[1],t.ymin),r[2]=Math.max(e[2],t.xmax),r[3]=Math.max(e[3],t.ymax);break;case"point":r[0]=Math.min(e[0],t.x),r[1]=Math.min(e[1],t.y),r[2]=Math.max(e[2],t.x),r[3]=Math.max(e[3],t.y)}else o(r,e)},e.expandPointInPlace=function(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])},e.expandWithNestedArray=function(e,t,r=e){const n=t.length;let i=e[0],o=e[1],s=e[2],a=e[3];for(let e=0;e<n;e++){const r=t[e];i=Math.min(i,r[0]),o=Math.min(o,r[1]),s=Math.max(s,r[0]),a=Math.max(a,r[1])}return r[0]=i,r[1]=o,r[2]=s,r[3]=a,r},e.fromExtent=function(e,t=i()){return t[0]=e.xmin,t[1]=e.ymin,t[2]=e.xmax,t[3]=e.ymax,t},e.fromValues=function(e,t,r,n,o=i()){return o[0]=e,o[1]=t,o[2]=r,o[3]=n,o},e.hasArea=function(e){return s(e)>0&&a(e)>0},e.height=a,e.intersection=function(e,t,n){if(null==t)return o(n,e);const i=t[0],s=t[1],a=t[2],l=t[3];return n[0]=r.clamp(e[0],i,a),n[1]=r.clamp(e[1],s,l),n[2]=r.clamp(e[2],i,a),n[3]=r.clamp(e[3],s,l),n},e.intersects=function(e,t){return Math.max(t[0],e[0])<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])<=Math.min(t[3],e[3])},e.intersectsSegment=function(e,t,r){const n=e[0],i=e[1],o=e[2],s=e[3],{x:a,y:l}=t,{x:c,y:u}=r,d=(e,t)=>(u-l)*e+(a-c)*t+(c*l-a*u)<0,f=d(n,s),h=d(o,s),p=d(o,i),y=d(n,i);return!(f===h&&h===p&&p===y&&y===f||a<n&&c<n||a>o&&c>o||l>s&&u>s||l<i&&u<i)},e.intersectsSphere=function(e,t){const r=t[3],n=.5*(e[0]+e[2]),i=Math.abs(t[0]-n),o=.5*(e[2]-e[0]);if(i>r+o)return!1;const s=.5*(e[1]+e[3]),a=.5*(e[3]-e[1]),l=Math.abs(t[1]-s);if(l>r+a)return!1;if(i<o||l<a)return!0;const c=i-o,u=l-a;return c*c+u*u<=r*r},e.intersectsWithMargin=function(e,t,r){return Math.max(t[0],e[0])-r<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])-r<=Math.min(t[3],e[3])},e.is=c,e.isPoint=function(e){return!(0!==s(e)&&isFinite(e[0])||0!==a(e)&&isFinite(e[1]))},e.negativeInfinity=u,e.offset=function(e,t,r,n=e){return n[0]=e[0]+t,n[1]=e[1]+r,n[2]=e[2]+t,n[3]=e[3]+r,n},e.pad=function(e,t,r=e){return r[0]=e[0]-t,r[1]=e[1]-t,r[2]=e[2]+t,r[3]=e[3]+t,r},e.positiveInfinity=[-1/0,-1/0,1/0,1/0],e.setMax=function(e,t,r=e){return r[2]=t[0],r[3]=t[1],r!==e&&(r[0]=e[0],r[1]=e[1]),e},e.setMin=function(e,t,r=e){return r[0]=t[0],r[1]=t[1],r!==e&&(r[2]=e[2],r[3]=e[3]),r},e.size=function(e,t){t[0]=e[2]-e[0],t[1]=e[3]-e[1]},e.toExtent=function(e,t,r=new n){return r.xmin=e[0],r.ymin=e[1],r.xmax=e[2],r.ymax=e[3],r.spatialReference=t,r},e.union=function(e,t,r){return null==t?o(r,e):(r[0]=Math.min(e[0],t[0]),r[1]=Math.min(e[1],t[1]),r[2]=Math.max(e[2],t[2]),r[3]=Math.max(e[3],t[3]),r)},e.unit=[0,0,1,1],e.width=s,e.zero=d,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/core/mathUtils":function(){define(["exports"],(function(e){"use strict";const t=new Float32Array(1);function r(e,t,r){return Math.min(Math.max(e,t),r)}function n(e,t,r){return e+(t-e)*r}function i(e,t,r=1e-6){return e===t||!(!Number.isFinite(e)||!Number.isFinite(t))&&(e>t?e-t:t-e)<=r}const o=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));function s(e){return o.setFloat64(0,e),o.getBigInt64(0)}const a=BigInt("1000000"),l=c(1);function c(e){const t=s(e=Math.abs(e)),r=(n=t<=a?a:t-a,o.setBigInt64(0,n),o.getFloat64(0));var n;return Math.abs(e-r)}function u(e){return t[0]=e,t[0]}const d=u(34028234663852886e22);e.acosClamped=function(e){return Math.acos(r(e,-1,1))},e.asinClamped=function(e){return Math.asin(r(e,-1,1))},e.clamp=r,e.clampFloat32=function(e){return u(Math.max(-d,Math.min(e,d)))},e.decimalAdjust=function(e,t,r){if(void 0===r||0===+r)return Math[e](t);if(t=+t,r=+r,isNaN(t)||"number"!=typeof r||r%1!=0)return NaN;let n=t.toString().split("e");return n=(t=Math[e](+(n[0]+"e"+(n[1]?+n[1]-r:-r)))).toString().split("e"),+(n[0]+"e"+(n[1]?+n[1]+r:r))},e.deg2rad=function(e){return e*Math.PI/180},e.floatEqualAbsolute=i,e.floatEqualRelative=function(e,t,r=1e-6){if(e===t)return!0;if(!Number.isFinite(e)||!Number.isFinite(t))return!1;const n=Math.abs(e-t),i=Math.abs(e),o=Math.abs(t);if(0===e||0===t||i<1e-12&&o<1e-12){if(n>.01*r)return!1}else if(n/(i+o)>r)return!1;return!0},e.floatEqualUlp=function(e,t,r=l){if(e===t)return!0;if(!Number.isFinite(e)||!Number.isFinite(t))return!1;if(null!=r&&c(Math.min(Math.abs(e),Math.abs(t)))<r)return Math.abs(e-t)<=r;const n=s(e),i=s(t);return n<0==i<0&&!((n<i?i-n:n-i)>a)},e.floatGreaterThan=function(e,t,r=1e-6){return!i(e,t,r)&&e>t},e.floatGreaterThanOrEqual=function(e,t,r=1e-6){return i(e,t,r)||e>t},e.floatLessThan=function(e,t,r=1e-6){return!i(e,t,r)&&e<t},e.floatLessThanOrEqual=function(e,t,r=1e-6){return i(e,t,r)||e<t},e.gauss=function(e,t){const r=-e*e/(2*t);return 1/Math.sqrt(2*Math.PI*t)*Math.exp(r)},e.hasScaling=function(e){const t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[3]*e[3]+e[4]*e[4]+e[5]*e[5],n=e[6]*e[6]+e[7]*e[7]+e[8]*e[8];return!(i(t,1)&&i(r,1)&&i(n,1))},e.isPowerOfTwo=function(e){return!(e&e-1)},e.lerp=n,e.moduloPositive=function(e,t){return(e%t+t)%t},e.nextHighestPowerOfTen=function(e){return 10**Math.ceil(Math.LOG10E*Math.log(e))},e.nextHighestPowerOfTwo=function(e){--e;for(let t=1;t<32;t<<=1)e|=e>>t;return e+1},e.nextPowerOfTwo=function(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e},e.numberMaxFloat32=d,e.rad2deg=function(e){return 180*e/Math.PI},e.reciprocalClamped=function(e,t=1e-6){return(e<0?-1:1)/Math.max(Math.abs(e),t)},e.roundToNearest=function(e,t){return 0===t?0:Math.round(e/t)*t},e.scale=function(e,t,r,i,o){return n(i,o,(e-t)/(r-t))},e.smoothstep=function(e,t,n){const i=r((n-e)/(t-e),0,1);return i*i*(3-2*i)},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/geometry/Polyline":function(){define(["exports","../chunks/tslib.es6","../core/lang","../core/accessorSupport/decorators/property","../core/has","../core/Logger","../core/accessorSupport/decorators/subclass","../core/accessorSupport/decorators/writer","./Extent","./Geometry","./Point","./SpatialReference","./support/extentUtils","./support/zmUtils"],(function(e,t,r,n,i,o,s,a,l,c,u,d,f,h){"use strict";var p;return e.default=p=class extends c{constructor(e){super(function(e){if(!e)return;let{paths:t,hasM:r,hasZ:n,spatialReference:i}=e;var o;switch(t??=[],o=t,"number"==typeof o[0]?.[0]&&(t=[t]),t[0]?.[0]?.length){case 4:n??=!0,r??=!0;break;case 3:n??=!0!==r,r??=!n;break;default:n??=!1,r??=!1}return i??=d.WGS84,{...e,hasM:r,hasZ:n,paths:t,spatialReference:i}}(e)),this.curvePaths=void 0,this.paths=[],this.type="polyline"}get cache(){return this.commitProperty("curvePaths"),this.commitProperty("hasM"),this.commitProperty("hasZ"),this.commitProperty("paths"),this.commitProperty("spatialReference"),{}}writeCurvePaths(e,t){t.curvePaths=r.clone(e)}get extent(){const e=f.getPolylineExtent(this),{spatialReference:t}=this;return e?new l({...e,spatialReference:t}):null}writePaths(e,t){t.paths=r.clone(this.paths)}addPath(e){if(!e)return;const t=this.paths,r=t.length;if(function(e){return!Array.isArray(e[0])}(e)){const n=[];for(let t=0,r=e.length;t<r;t++)n[t]=e[t].toArray();t[r]=n}else t[r]=e.slice();return this.notifyChange("paths"),this}clone(){const e=new p;return e.spatialReference=this.spatialReference,e.paths=r.clone(this.paths),e.curvePaths=r.clone(this.curvePaths),e.hasZ=this.hasZ,e.hasM=this.hasM,e}getPoint(e,t){if(!this._validateInputs(e,t))return null;const r=this.paths[e][t],n=this.hasZ,i=this.hasM;return n&&!i?new u(r[0],r[1],r[2],void 0,this.spatialReference):i&&!n?new u(r[0],r[1],void 0,r[2],this.spatialReference):n&&i?new u(r[0],r[1],r[2],r[3],this.spatialReference):new u(r[0],r[1],this.spatialReference)}insertPoint(e,t,r){return this._validateInputs(e,t,!0)?(h.updateSupportFromPoint(this,r),Array.isArray(r)||(r=r.toArray()),this.paths[e].splice(t,0,r),this.notifyChange("paths"),this):this}removePath(e){if(!this._validateInputs(e,null))return null;const t=this.paths.splice(e,1)[0],r=this.spatialReference,n=t.map((e=>new u(e,r)));return this.notifyChange("paths"),n}removePoint(e,t){if(!this._validateInputs(e,t))return null;const r=new u(this.paths[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("paths"),r}setPoint(e,t,r){return this._validateInputs(e,t)?(h.updateSupportFromPoint(this,r),Array.isArray(r)||(r=r.toArray()),this.paths[e][t]=r,this.notifyChange("paths"),this):this}_validateInputs(e,t,r=!1){if(null==e||e<0||e>=this.paths.length)return!1;if(null!=t){const n=this.paths[e];if(r&&(t<0||t>n.length))return!1;if(!r&&(t<0||t>=n.length))return!1}return!0}toJSON(e){return this.write({},e)}},t.__decorate([n.property({readOnly:!0})],e.default.prototype,"cache",null),t.__decorate([n.property({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],e.default.prototype,"curvePaths",void 0),t.__decorate([a.writer("curvePaths")],e.default.prototype,"writeCurvePaths",null),t.__decorate([n.property({readOnly:!0})],e.default.prototype,"extent",null),t.__decorate([n.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],e.default.prototype,"paths",void 0),t.__decorate([a.writer("paths")],e.default.prototype,"writePaths",null),e.default=p=t.__decorate([s.subclass("esri.geometry.Polyline")],e.default),e.default.prototype.toJSON.isDefaultToJSON=!0,e.default}))},"esri/geometry/projectionUtils":function(){define(["require","exports","../core/Error","../core/promiseUtils","../core/accessorSupport/tracking","../core/accessorSupport/tracking/SimpleObservable","../core/libs/gl-matrix-2/factories/vec3f64","./asserts","./ellipsoidUtils","./Extent","./Multipoint","../chunks/pe","./Point","./Polygon","./Polyline","./SpatialReference","./projection/projectBuffer","./projection/projectors","./projection/projectXYZToVector","./support/GeographicTransformation","./support/spatialReferenceUtils","./support/zscale"],(function(e,t,r,n,i,o,s,a,l,c,u,d,f,h,p,y,m,g,_,T,S,x){"use strict";let b=null,E=null,v=null,w={};const P=new o.SimpleObservable;function A(){return!!b&&d.isLoaded()}function M(){return!!A()||(i.trackAccess(P),I(),!1)}function I(t){return null==v&&(v=Promise.all([d.load(),new Promise(((t,r)=>e(["../chunks/geometryEngineBase"],t,r))).then((e=>e.geometryEngineBase)),new Promise(((t,r)=>e(["./geometryAdapters/hydrated"],t,r)))])),v.then((([,e,{hydratedAdapter:r}])=>{n.throwIfAborted(t),E=r,b=e.default,b._enableProjection(d.pe),P.notify()}))}function O(e,t,r=null,n=null){return Array.isArray(e)?0===e.length?[]:(a.assertNotMeshes(e),R(E,e,e[0].spatialReference,t,r,n)):(a.assertNotMesh(e),R(E,[e],e.spatialReference,t,r,n)[0])}function R(e,t,r,n,i=null,o=null){if(null==r||null==n)return t;if(U(r,n,i))return t.map((e=>G(e,r,n)));if(null==i&&l.isSphericalECEF(r))return t.map((e=>G(e,r,y.WGS84))).map((e=>k(e,n)));if(null==i&&l.isSphericalECEF(n))return t.map((e=>k(e,y.WGS84))).map((e=>G(e,y.WGS84,n)));if(null==i){const e=T.cacheKey(r,n);void 0!==w[e]?i=w[e]:(null==(i=N(r,n,void 0))&&(i=new T),w[e]=i)}if(null==b||null==e)throw new C;return null!=o?b._project(e,t,r,n,i,o):b._project(e,t,r,n,i)}function D(e,t){if(!A())for(const r of e)if(null!=r&&!S.equals(r.spatialReference,t)&&S.isValid(r.spatialReference)&&S.isValid(t)&&!U(r.spatialReference,t))return i.trackAccess(P),{pending:I(),geometries:null};return{pending:null,geometries:e.map((e=>null==e?null:S.equals(e.spatialReference,t)?e:S.isValid(e.spatialReference)&&S.isValid(t)?k(e,t):null))}}function N(e,t,r=null){if(null==e||null==t)return null;if(null==b||null==E)throw new C;const n=b._getTransformation(E,e,t,r,r?.spatialReference);return null!==n?T.fromGE(n):null}class C extends r{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}}const L={get loadPromise(){return v}};function k(e,t){try{const r=O(e,t);if(null==r)return null;"xmin"in e&&"xmin"in r&&(r.zmin=e.zmin,r.zmax=e.zmax);const n=x.getGeometryZScaler(r.type,e.spatialReference,t);return null!=n&&n(r),r}catch(e){if(!(e instanceof C))throw e;return null}}function U(e,t,r){return!r&&(!!S.equals(e,t)||S.isValid(e)&&S.isValid(t)&&!!g.getProjector(e,t))}async function F(e,t,r,i){if(A())return n.waitTick(i);if(Array.isArray(e)){for(const{source:t,dest:r,geographicTransformation:n}of e)if(t&&r&&!U(t,r,n))return I(i)}else if(e&&t&&!U(e,t,r))return I(i);return n.waitTick(i)}function G(e,t,r){return e?"x"in e?B(e,t,new f,r,0):"xmin"in e?W(e,t,new c,r,0):"rings"in e?z(e,t,new h,r,0):"paths"in e?V(e,t,new p,r,0):"points"in e?j(e,t,new u,r,0):null:null}function B(e,t,r,n,i){H[0]=e.x,H[1]=e.y;const o=e.z;return H[2]=void 0!==o?o:i,m.projectBuffer(H,t,0,H,n,0)?(r.x=H[0],r.y=H[1],r.spatialReference=n,void 0!==o||l.isSphericalPCPF(n)?(r.z=H[2],r.hasZ=!0):(r.z=void 0,r.hasZ=!1),void 0===e.m?(r.m=void 0,r.hasM=!1):(r.m=e.m,r.hasM=!0),r):null}function j(e,t,r,n,i){const{points:o,hasZ:s,hasM:a}=e,c=[],u=o.length,d=[];for(const e of o)d.push(e[0],e[1],s?e[2]:i);if(!m.projectBuffer(d,t,0,d,n,0,u))return null;const f=s||l.isSphericalPCPF(n);for(let e=0;e<u;++e){const t=3*e,r=d[t],n=d[t+1];f&&a?c.push([r,n,d[t+2],o[e][3]]):f?c.push([r,n,d[t+2]]):a?c.push([r,n,o[e][2]]):c.push([r,n])}return r.points=c,r.spatialReference=n,r.hasZ=s,r.hasM=a,r}function V(e,t,r,n,i){const{paths:o,hasZ:s,hasM:a}=e,c=[];if(!q(o,s??!1,a??!1,t,c,n,i))return null;const u=s||l.isSphericalPCPF(n);return r.paths=c,r.spatialReference=n,r.hasZ=u,r.hasM=a,r}function z(e,t,r,n,i){const{rings:o,hasZ:s,hasM:a}=e,c=[];if(!q(o,s??!1,a??!1,t,c,n,i))return null;const u=s||l.isSphericalPCPF(n);return r.rings=c,r.spatialReference=n,r.hasZ=u,r.hasM=a,r}function W(e,t,r,n,i){const{xmin:o,ymin:s,xmax:a,ymax:c,hasZ:u,hasM:d}=e,f=u?e.zmin:i;if(!_.projectXYZToVector(o,s,f,t,H,n))return null;const h=u||l.isSphericalPCPF(n);r.xmin=H[0],r.ymin=H[1],h&&(r.zmin=H[2]);const p=u?e.zmax:i;return _.projectXYZToVector(a,c,p,t,H,n)?(r.xmax=H[0],r.ymax=H[1],h&&(r.zmax=H[2]),d&&(r.mmin=e.mmin,r.mmax=e.mmax),r.spatialReference=n,r):null}function q(e,t,r,n,i,o,s=0){const a=new Array;for(const r of e)for(const e of r)a.push(e[0],e[1],t?e[2]:s);if(!m.projectBuffer(a,n,0,a,o,0))return!1;let c=0;i.length=0;const u=t||l.isSphericalPCPF(o);for(const t of e){const e=new Array;for(const n of t)u&&r?e.push([a[c++],a[c++],a[c++],n[3]]):u?e.push([a[c++],a[c++],a[c++]]):r?(e.push([a[c++],a[c++],n[2]]),c++):(e.push([a[c++],a[c++]]),c++);i.push(e)}return!0}const H=s.create();t.canProjectWithoutEngine=U,t.getTransformation=N,t.getTransformations=function(e,t,r=null){if(null==b||null==E)throw new C;const n=b._getTransformationBySuitability(E,e,t,r,r?.spatialReference);if(null!==n){const e=[];for(const t of n)e.push(T.fromGE(t));return e}return[]},t.initializeProjection=F,t.isEqualBaseGCS=function(e,t){if(S.equals(e,t))return!0;if(!S.isValid(e)||!S.isValid(t))return!1;const r=S.isWGS84(e)||S.isWebMercator(e)||S.isCGCS2000(e),n=S.isWGS84(t)||S.isWebMercator(t)||S.isCGCS2000(t);return r&&n},t.isLoaded=A,t.isLoadedOrLoad=M,t.isLoadedOrLoadFor=function(e,t){return!e||!t||U(e,t)||M()},t.load=I,t.project=O,t.projectExtent=function(e,t,r=t.spatialReference,n=0){return null!=e.spatialReference&&null!=r&&null!=W(e,e.spatialReference,t,r,n)},t.projectMany=R,t.projectMultipoint=function(e,t,r=t.spatialReference,n=0){return null!=e.spatialReference&&null!=r&&null!=j(e,e.spatialReference,t,r,n)},t.projectOrLoad=function(e,t){const r=D([e],t);return null!=r.pending?{pending:r.pending,geometry:null}:null!=r.geometries?{pending:null,geometry:r.geometries[0]}:{pending:null,geometry:null}},t.projectOrLoadMany=D,t.projectPoint=function(e,t,r=t.spatialReference,n=0){return null!=r&&null!=e.spatialReference&&null!=B(e,e.spatialReference,t,r,n)},t.projectPolygon=function(e,t,r=t.spatialReference,n=0){return null!=e.spatialReference&&null!=r&&null!=z(e,e.spatialReference,t,r,n)},t.projectPolyline=function(e,t,r=t.spatialReference,n=0){return null!=e.spatialReference&&null!=r&&null!=V(e,e.spatialReference,t,r,n)},t.projectWithZConversion=async function(e,t,r){const n=e.spatialReference;return null!=n&&null!=t&&await F(n,t,null,r),k(e,t)},t.projectWithoutEngine=G,t.requiresLoad=function(e,t){return!U(e,t)&&!A()},t.test=L,t.tryProjectWithZConversion=k,t.unload=function(){b=null,E=null,v=null,w={}},Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}))},"esri/core/accessorSupport/tracking/SimpleObservable":function(){define(["exports","../ObservableBase"],(function(e,t){"use strict";class r extends t.ObservableBase{notify(){const e=this._observers;if(e&&e.length>0){const t=e.slice();for(const e of t)e.onInvalidated(),e.onCommitted()}}}e.SimpleObservable=r,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/core/libs/gl-matrix-2/factories/vec3f64":function(){define(["exports"],(function(e){"use strict";function t(){return[0,0,0]}function r(e){return[e[0],e[1],e[2]]}function n(e,t,r){return[e,t,r]}function i(e,t,r){return[e,t,r]}function o(e,t=[0,0,0]){const r=Math.min(3,e.length);for(let n=0;n<r;++n)t[n]=e[n];return t}function s(){return[0,0,0]}function a(){return n(1,1,1)}function l(){return n(1,0,0)}function c(){return n(0,1,0)}function u(){return n(0,0,1)}const d=[0,0,0],f=a(),h=l(),p=c(),y=u(),m=Object.freeze(Object.defineProperty({__proto__:null,ONES:f,UNIT_X:h,UNIT_Y:p,UNIT_Z:y,ZEROS:d,clone:r,create:t,freeze:i,fromArray:o,fromValues:n,ones:a,unitX:l,unitY:c,unitZ:u,zeros:s},Symbol.toStringTag,{value:"Module"}));e.ONES=f,e.UNIT_X=h,e.UNIT_Y=p,e.UNIT_Z=y,e.ZEROS=d,e.clone=r,e.create=t,e.freeze=i,e.fromArray=o,e.fromValues=n,e.ones=a,e.unitX=l,e.unitY=c,e.unitZ=u,e.vec3f64=m,e.zeros=s,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/geometry/projection/projectBuffer":function(){define(["exports","./projectors"],(function(e,t){"use strict";e.projectBuffer=function(e,r,n,i,o,s,a=Math.floor(e.length/3)){const l=t.getProjector(r,o);if(null==l)return!1;if(l===t.copy3){if(e===i&&n===s)return!0;const t=n+3*a;for(let r=n,o=s;r<t;r++,o++)i[o]=e[r];return!0}const c=n+3*a;for(let t=n,r=s;t<c;t+=3,r+=3)l(e,t,i,r);return!0},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/geometry/projection/projectors":function(){define(["exports","../../core/mathUtils","../../core/unitUtils","../ellipsoidUtils","../support/Ellipsoid","../support/geodesicConstants","../support/spatialReferenceUtils","../support/SupportedGCSWkids"],(function(e,t,r,n,i,o,s,a){"use strict";var l;e.ProjectionID=void 0,(l=e.ProjectionID||(e.ProjectionID={}))[l.UNKNOWN=0]="UNKNOWN",l[l.SPHERICAL_ECEF=1]="SPHERICAL_ECEF",l[l.WGS84=2]="WGS84",l[l.WEB_MERCATOR=3]="WEB_MERCATOR",l[l.WGS84_ECEF=4]="WGS84_ECEF",l[l.CGCS2000=5]="CGCS2000",l[l.SPHERICAL_MARS_PCPF=6]="SPHERICAL_MARS_PCPF",l[l.GCSMARS2000=7]="GCSMARS2000",l[l.SPHERICAL_MOON_PCPF=8]="SPHERICAL_MOON_PCPF",l[l.GCSMOON2000=9]="GCSMOON2000",l[l.LON_LAT=10]="LON_LAT",l[l.PLATE_CARREE=11]="PLATE_CARREE";const c={[e.ProjectionID.WGS84]:{[e.ProjectionID.CGCS2000]:h,[e.ProjectionID.GCSMARS2000]:null,[e.ProjectionID.GCSMOON2000]:null,[e.ProjectionID.LON_LAT]:h,[e.ProjectionID.SPHERICAL_ECEF]:w,[e.ProjectionID.SPHERICAL_MARS_PCPF]:null,[e.ProjectionID.SPHERICAL_MOON_PCPF]:null,[e.ProjectionID.UNKNOWN]:null,[e.ProjectionID.WEB_MERCATOR]:_,[e.ProjectionID.PLATE_CARREE]:T,[e.ProjectionID.WGS84]:h,[e.ProjectionID.WGS84_ECEF]:D},[e.ProjectionID.CGCS2000]:{[e.ProjectionID.CGCS2000]:h,[e.ProjectionID.GCSMARS2000]:null,[e.ProjectionID.GCSMOON2000]:null,[e.ProjectionID.LON_LAT]:h,[e.ProjectionID.SPHERICAL_ECEF]:w,[e.ProjectionID.SPHERICAL_MARS_PCPF]:null,[e.ProjectionID.SPHERICAL_MOON_PCPF]:null,[e.ProjectionID.UNKNOWN]:null,[e.ProjectionID.WEB_MERCATOR]:_,[e.ProjectionID.PLATE_CARREE]:T,[e.ProjectionID.WGS84]:h,[e.ProjectionID.WGS84_ECEF]:D},[e.ProjectionID.GCSMARS2000]:{[e.ProjectionID.CGCS2000]:null,[e.ProjectionID.GCSMARS2000]:h,[e.ProjectionID.GCSMOON2000]:null,[e.ProjectionID.LON_LAT]:h,[e.ProjectionID.SPHERICAL_ECEF]:null,[e.ProjectionID.SPHERICAL_MARS_PCPF]:v,[e.ProjectionID.SPHERICAL_MOON_PCPF]:null,[e.ProjectionID.UNKNOWN]:null,[e.ProjectionID.WEB_MERCATOR]:null,[e.ProjectionID.PLATE_CARREE]:null,[e.ProjectionID.WGS84]:null,[e.ProjectionID.WGS84_ECEF]:null},[e.ProjectionID.GCSMOON2000]:{[e.ProjectionID.CGCS2000]:null,[e.ProjectionID.GCSMARS2000]:null,[e.ProjectionID.GCSMOON2000]:h,[e.ProjectionID.LON_LAT]:h,[e.ProjectionID.SPHERICAL_ECEF]:null,[e.ProjectionID.SPHERICAL_MARS_PCPF]:null,[e.ProjectionID.SPHERICAL_MOON_PCPF]:E,[e.ProjectionID.UNKNOWN]:null,[e.ProjectionID.WEB_MERCATOR]:null,[e.ProjectionID.PLATE_CARREE]:null,[e.ProjectionID.WGS84]:null,[e.ProjectionID.WGS84_ECEF]:null},[e.ProjectionID.WEB_MERCATOR]:{[e.ProjectionID.CGCS2000]:p,[e.ProjectionID.GCSMARS2000]:null,[e.ProjectionID.GCSMOON2000]:null,[e.ProjectionID.LON_LAT]:p,[e.ProjectionID.SPHERICAL_ECEF]:y,[e.ProjectionID.SPHERICAL_MARS_PCPF]:null,[e.ProjectionID.SPHERICAL_MOON_PCPF]:null,[e.ProjectionID.UNKNOWN]:null,[e.ProjectionID.WEB_MERCATOR]:h,[e.ProjectionID.PLATE_CARREE]:x,[e.ProjectionID.WGS84]:p,[e.ProjectionID.WGS84_ECEF]:m},[e.ProjectionID.WGS84_ECEF]:{[e.ProjectionID.CGCS2000]:N,[e.ProjectionID.GCSMARS2000]:null,[e.ProjectionID.GCSMOON2000]:null,[e.ProjectionID.LON_LAT]:N,[e.ProjectionID.SPHERICAL_ECEF]:C,[e.ProjectionID.SPHERICAL_MARS_PCPF]:null,[e.ProjectionID.SPHERICAL_MOON_PCPF]:null,[e.ProjectionID.UNKNOWN]:null,[e.ProjectionID.WEB_MERCATOR]:L,[e.ProjectionID.PLATE_CARREE]:function(e,t,r,n){N(e,t,r,n),T(r,n,r,n)},[e.ProjectionID.WGS84]:N,[e.ProjectionID.WGS84_ECEF]:h},[e.ProjectionID.SPHERICAL_ECEF]:{[e.ProjectionID.CGCS2000]:I,[e.ProjectionID.GCSMARS2000]:null,[e.ProjectionID.GCSMOON2000]:null,[e.ProjectionID.LON_LAT]:I,[e.ProjectionID.SPHERICAL_ECEF]:h,[e.ProjectionID.SPHERICAL_MARS_PCPF]:null,[e.ProjectionID.SPHERICAL_MOON_PCPF]:null,[e.ProjectionID.UNKNOWN]:null,[e.ProjectionID.WEB_MERCATOR]:O,[e.ProjectionID.PLATE_CARREE]:function(e,t,r,n){I(e,t,r,n),T(r,n,r,n)},[e.ProjectionID.WGS84]:I,[e.ProjectionID.WGS84_ECEF]:R},[e.ProjectionID.SPHERICAL_MARS_PCPF]:{[e.ProjectionID.CGCS2000]:null,[e.ProjectionID.GCSMARS2000]:M,[e.ProjectionID.GCSMOON2000]:null,[e.ProjectionID.LON_LAT]:M,[e.ProjectionID.SPHERICAL_ECEF]:null,[e.ProjectionID.SPHERICAL_MARS_PCPF]:h,[e.ProjectionID.SPHERICAL_MOON_PCPF]:null,[e.ProjectionID.UNKNOWN]:null,[e.ProjectionID.WEB_MERCATOR]:null,[e.ProjectionID.PLATE_CARREE]:null,[e.ProjectionID.WGS84]:null,[e.ProjectionID.WGS84_ECEF]:null},[e.ProjectionID.SPHERICAL_MOON_PCPF]:{[e.ProjectionID.CGCS2000]:null,[e.ProjectionID.GCSMARS2000]:null,[e.ProjectionID.GCSMOON2000]:A,[e.ProjectionID.LON_LAT]:A,[e.ProjectionID.SPHERICAL_ECEF]:null,[e.ProjectionID.SPHERICAL_MARS_PCPF]:null,[e.ProjectionID.SPHERICAL_MOON_PCPF]:h,[e.ProjectionID.UNKNOWN]:null,[e.ProjectionID.WEB_MERCATOR]:null,[e.ProjectionID.PLATE_CARREE]:null,[e.ProjectionID.WGS84]:null,[e.ProjectionID.WGS84_ECEF]:null},[e.ProjectionID.UNKNOWN]:{[e.ProjectionID.CGCS2000]:null,[e.ProjectionID.GCSMARS2000]:null,[e.ProjectionID.GCSMOON2000]:null,[e.ProjectionID.LON_LAT]:null,[e.ProjectionID.SPHERICAL_ECEF]:null,[e.ProjectionID.SPHERICAL_MARS_PCPF]:null,[e.ProjectionID.SPHERICAL_MOON_PCPF]:null,[e.ProjectionID.UNKNOWN]:h,[e.ProjectionID.WEB_MERCATOR]:null,[e.ProjectionID.PLATE_CARREE]:null,[e.ProjectionID.WGS84]:null,[e.ProjectionID.WGS84_ECEF]:null},[e.ProjectionID.LON_LAT]:{[e.ProjectionID.CGCS2000]:h,[e.ProjectionID.GCSMARS2000]:h,[e.ProjectionID.GCSMOON2000]:h,[e.ProjectionID.LON_LAT]:h,[e.ProjectionID.SPHERICAL_ECEF]:w,[e.ProjectionID.SPHERICAL_MARS_PCPF]:v,[e.ProjectionID.SPHERICAL_MOON_PCPF]:E,[e.ProjectionID.UNKNOWN]:null,[e.ProjectionID.WEB_MERCATOR]:_,[e.ProjectionID.PLATE_CARREE]:T,[e.ProjectionID.WGS84]:h,[e.ProjectionID.WGS84_ECEF]:D},[e.ProjectionID.PLATE_CARREE]:{[e.ProjectionID.CGCS2000]:S,[e.ProjectionID.GCSMARS2000]:null,[e.ProjectionID.GCSMOON2000]:null,[e.ProjectionID.LON_LAT]:S,[e.ProjectionID.SPHERICAL_ECEF]:function(e,t,r,n){S(e,t,r,n),w(r,n,r,n)},[e.ProjectionID.SPHERICAL_MARS_PCPF]:null,[e.ProjectionID.SPHERICAL_MOON_PCPF]:null,[e.ProjectionID.UNKNOWN]:null,[e.ProjectionID.WEB_MERCATOR]:function(e,t,r,n){S(e,t,r,n),_(r,n,r,n)},[e.ProjectionID.PLATE_CARREE]:h,[e.ProjectionID.WGS84]:S,[e.ProjectionID.WGS84_ECEF]:function(e,t,r,n){S(e,t,r,n),D(r,n,r,n)}}};function u(e,t){return d(e,t)?.projector}function d(t,r){if(null==t||null==r)return null;if(k.source.spatialReference===t&&k.dest.spatialReference===r)return k;const n=f(t,k.source),i=f(r,k.dest);return n===e.ProjectionID.UNKNOWN&&i===e.ProjectionID.UNKNOWN?s.equals(t,r)?k.projector=h:k.projector=null:k.projector=c[n][i],k}function f(t,i){return t?i.spatialReference===t?i.spatialReferenceId:(i.spatialReference=t,"metersPerUnit"in i&&(i.metersPerUnit=r.getMetersPerUnitForSR(t,1)),n.isSphericalECEF(t)?i.spatialReferenceId=e.ProjectionID.SPHERICAL_ECEF:s.isWGS84(t)?i.spatialReferenceId=e.ProjectionID.WGS84:s.isWebMercator(t)?i.spatialReferenceId=e.ProjectionID.WEB_MERCATOR:s.isPlateCarree(t)?i.spatialReferenceId=e.ProjectionID.PLATE_CARREE:t.wkt===n.WGS84ECEFSpatialReferenceLike.wkt?i.spatialReferenceId=e.ProjectionID.WGS84_ECEF:t.wkid===a.SupportedGCSWkids.CGCS2000?i.spatialReferenceId=e.ProjectionID.CGCS2000:t.wkt===n.SphericalPCPFMarsLike.wkt?i.spatialReferenceId=e.ProjectionID.SPHERICAL_MARS_PCPF:t.wkt===n.SphericalPCPFMoonLike.wkt?i.spatialReferenceId=e.ProjectionID.SPHERICAL_MOON_PCPF:s.isMars(t)?i.spatialReferenceId=e.ProjectionID.GCSMARS2000:s.isMoon(t)?i.spatialReferenceId=e.ProjectionID.GCSMOON2000:i.spatialReferenceId=e.ProjectionID.UNKNOWN):e.ProjectionID.UNKNOWN}function h(e,t,r,n){e!==r&&(r[n++]=e[t++],r[n++]=e[t++],r[n]=e[t])}function p(e,t,r,n){r[n]=F*(e[t]/B),r[n+1]=F*(G-2*Math.atan(Math.exp(-e[t+1]/B))),r[n+2]=e[t+2]}function y(e,t,r,n){const i=e[t]/B,o=G-2*Math.atan(Math.exp(-e[t+1]/B)),s=B+e[t+2],a=Math.cos(o)*s;r[n]=Math.cos(i)*a,r[n+1]=Math.sin(i)*a,r[n+2]=Math.sin(o)*s}function m(e,t,r,n){p(e,t,r,n),D(r,n,r,n)}function g(e,r,n,i,o){const s=.4999999*Math.PI,a=t.clamp(U*e[r+1],-s,s),l=Math.sin(a);n[i++]=U*e[r]*o.radius,n[i++]=o.halfSemiMajorAxis*Math.log((1+l)/(1-l)),n[i]=e[r+2]}function _(e,t,r,n){g(e,t,r,n,i.earth)}function T(e,t,r,n){r[n]=e[t]*j,r[n+1]=e[t+1]*j,r[n+2]=e[t+2]}function S(e,t,r,n){r[n]=e[t]*V,r[n+1]=e[t+1]*V,r[n+2]=e[t+2]}function x(e,t,r,n){p(e,t,r,n),T(r,n,r,n)}function b(e,t,r,n,i){const o=i+e[t+2],s=U*e[t+1],a=U*e[t],l=Math.cos(s)*o;r[n]=Math.cos(a)*l,r[n+1]=Math.sin(a)*l,r[n+2]=Math.sin(s)*o}function E(e,t,r,n){b(e,t,r,n,i.moon.radius)}function v(e,t,r,n){b(e,t,r,n,i.mars.radius)}function w(e,t,r,n){b(e,t,r,n,i.earth.radius)}function P(e,r,n,i,o){const s=e[r],a=e[r+1],l=e[r+2],c=Math.sqrt(s*s+a*a+l*l),u=t.asinClamped(l/(0===c?1:c)),d=Math.atan2(a,s);n[i++]=F*d,n[i++]=F*u,n[i]=c-o}function A(e,t,r,n){P(e,t,r,n,i.moon.radius)}function M(e,t,r,n){P(e,t,r,n,i.mars.radius)}function I(e,t,r,n){P(e,t,r,n,i.earth.radius)}function O(e,t,r,n){I(e,t,r,n),_(r,n,r,n)}function R(e,t,r,n){I(e,t,r,n),D(r,n,r,n)}function D(e,t,r,n){!function(e,t,r,n,i){const o=U*e[t],s=U*e[t+1],a=e[t+2],l=Math.sin(s),c=Math.cos(s),u=i.radius/Math.sqrt(1-i.eccentricitySquared*l*l);r[n++]=(u+a)*c*Math.cos(o),r[n++]=(u+a)*c*Math.sin(o),r[n++]=(u*(1-i.eccentricitySquared)+a)*l}(e,t,r,n,i.earth)}function N(e,t,r,n){const s=o.earthEllipsoidConstants,a=e[t],l=e[t+1],c=e[t+2];let u,d,f,h,p,y,m,g,_,T,S,x,b,E,v,w,P,A,M,I,O;u=Math.abs(c),d=a*a+l*l,f=Math.sqrt(d),h=d+c*c,p=Math.sqrt(h),I=Math.atan2(l,a),y=c*c/h,m=d/h,E=s.a2/p,v=s.a3-s.a4/p,m>.3?(g=u/p*(1+m*(s.a1+E+y*v)/p),M=Math.asin(g),T=g*g,_=Math.sqrt(1-T)):(_=f/p*(1-y*(s.a5-E-m*v)/p),M=Math.acos(_),T=1-_*_,g=Math.sqrt(T)),S=1-i.earth.eccentricitySquared*T,x=i.earth.radius/Math.sqrt(S),b=s.a6*x,E=f-x*_,v=u-b*g,P=_*E+g*v,w=_*v-g*E,A=w/(b/S+P),M+=A,O=P+w*A/2,c<0&&(M=-M),r[n++]=F*I,r[n++]=F*M,r[n]=O}function C(e,t,r,n){N(e,t,r,n),w(r,n,r,n)}function L(e,t,r,n){N(e,t,r,n),_(r,n,r,n)}const k={source:{spatialReference:null,spatialReferenceId:e.ProjectionID.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:e.ProjectionID.UNKNOWN,metersPerUnit:1},projector:h},U=t.deg2rad(1),F=t.rad2deg(1),G=.5*Math.PI,B=i.earth.radius,j=B*Math.PI/180,V=180/(B*Math.PI);e.copy3=h,e.getProjector=u,e.getProjectorClassification=d,e.getProjectorName=function(e,t){switch(u(e,t)){case h:return"copy3";case w:return"wgs84ToSphericalECEF";case _:return"wgs84ToWebMercator";case T:return"wgs84ToPlateCarree";case D:return"wgs84ToWGS84ECEF";case p:return"webMercatorToWGS84";case y:return"webMercatorToSphericalECEF";case m:return"webMercatorToWGS84ECEF";case x:return"webMercatorToPlateCarree";case N:return"wgs84ECEFToWGS84";case C:return"wgs84ECEFToSphericalECEF";case L:return"wgs84ECEFToWebMercator";case I:return"sphericalECEFToWGS84";case O:return"sphericalECEFToWebMercator";case M:return"sphericalMarsPCPFToMars2000";case A:return"sphericalMoonPCPFToMoon2000";case R:return"sphericalECEFToWGS84ECEF";case v:return"mars2000ToSphericalPCPF";case E:return"moon2000ToSphericalPCPF";default:return null}},e.invPlateCarreeScale=V,e.lonLatToWebMercatorComparable=g,e.projectionTable=c,e.sphericalPCPFtoLonLatElevation=P,e.wgs84ToWebMercator=_,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/geometry/support/geodesicConstants":function(){define(["exports","./Ellipsoid"],(function(e,t){"use strict";const r=Math.PI/180,n=t.earth.radius,i=t.earth.eccentricitySquared,o={a1:n*i,a2:n*i*n*i,a3:n*i*i/2,a4:n*i*n*i*2.5,a5:n*i+n*i*i/2,a6:1-i},s={4267:{a:6378206.4,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:t.earth.radius,f:t.earth.flattening},4490:{a:6378137,f:1/298.257222101},104900:{a:2439700,f:0},104901:{a:6051e3,f:0},104902:{a:6051800,f:0},104903:{a:t.moon.radius,f:t.moon.flattening},104904:{a:3393400,f:1/192.0430107526882},104905:{a:t.mars.radius,f:t.mars.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492e3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1e4,f:0},104912:{a:2409300,f:0},104913:{a:15e3,f:0},104914:{a:4e4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85e3,f:0},104918:{a:1821460,f:0},104919:{a:5e3,f:0},104920:{a:12e3,f:0},104921:{a:3e4,f:3},104922:{a:18e3,f:0},104923:{a:14e3,f:0},104924:{a:49300,f:0},104925:{a:60268e3,f:1/10.2079945799458},104926:{a:16e3,f:0},104927:{a:9500,f:0},104928:{a:56e4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16e3,f:0},104932:{a:133e3,f:0},104933:{a:718e3,f:0},104934:{a:888e3,f:0},104935:{a:1986300,f:0},104936:{a:1e4,f:0},104937:{a:41900,f:0},104938:{a:11e4,f:0},104939:{a:50100,f:0},104940:{a:764e3,f:0},104941:{a:11e3,f:0},104942:{a:529800,f:0},104943:{a:2575e3,f:0},104944:{a:25559e3,f:1/43.61604095563141},104945:{a:578900,f:0},104946:{a:33e3,f:0},104947:{a:21e3,f:0},104948:{a:13e3,f:0},104949:{a:31e3,f:0},104950:{a:27e3,f:0},104951:{a:42e3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15e3,f:0},104955:{a:54e3,f:0},104956:{a:77e3,f:0},104957:{a:27e3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764e3,f:.01708124697141011},104961:{a:74e3,f:0},104962:{a:79e3,f:0},104963:{a:104e3,f:.14423076923076922},104964:{a:29e3,f:0},104965:{a:17e4,f:0},104966:{a:208e3,f:0},104967:{a:4e4,f:0},104968:{a:1352600,f:0},104969:{a:1195e3,f:0},104970:{a:593e3,f:0},104971:{a:t.mars.radius,f:0},104972:{a:47e4,f:0},104973:{a:255e3,f:0},104974:{a:2439400,f:0}};e.earthEllipsoidConstants=o,e.spheroids=s,e.toRadians=r,e.wktSpheroidRegex=/(?:SPHEROID|ELLIPSOID)\[([^\]]+)]/i,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/geometry/projection/projectXYZToVector":function(){define(["exports","../../core/libs/gl-matrix-2/factories/vec3f64","./projectBuffer"],(function(e,t,r){"use strict";const n=t.create();e.projectXYZToVector=function(e,t,i,o,s,a){return n[0]=e,n[1]=t,n[2]=i,r.projectBuffer(n,o,0,s,a,0)},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/geometry/support/GeographicTransformation":function(){define(["./GeographicTransformationStep"],(function(e){"use strict";class t{static cacheKey(e,t){return[e.wkid?.toString()??"-1",e.wkt?.toString()??"",e.wkt2?.toString()??"",t.wkid?.toString()??"-1",t.wkt?.toString()??"",t.wkt2?.toString()??""].join()}static fromGE(r){const n=new t;let i="";for(const t of r.steps){const r=e.fromGE(t);n.steps.push(r),i+=r.uid.toString()+","}return n._cachedProjection={},n._gtlistentry=null,n._chain=i,n}constructor(t){if(this.steps=[],this._cachedProjection={},this._chain="",this._gtlistentry=null,t?.steps)for(const r of t.steps)r instanceof e?this.steps.push(r):this.steps.push(new e({wkid:r.wkid,wkt:r.wkt,isInverse:r.isInverse}))}getInverse(){const e=new t;e.steps=[];for(let t=this.steps.length-1;t>=0;t--){const r=this.steps[t];e.steps.push(r.getInverse())}return e}getGTListEntry(){let e="";for(const t of this.steps)e+=t.uid.toString()+",";return e!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=e),this._gtlistentry}assignCachedGe(e,r,n){this._cachedProjection[t.cacheKey(e,r)]=n}getCachedGeTransformation(e,r){let n="";for(const e of this.steps)n+=e.uid.toString()+",";n!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=n);const i=this._cachedProjection[t.cacheKey(e,r)];return void 0===i?null:i}}return t}))},"esri/geometry/support/GeographicTransformationStep":function(){define((function(){"use strict";let e=0;class t{static fromGE(e){const r=new t;return r._wkt=e.wkt,r._wkid=e.wkid,r._isInverse=e.isInverse,r}constructor(t){this.uid=e++,t?(this._wkt=null!=t.wkt?t.wkt:null,this._wkid=null!=t.wkid?t.wkid:-1,this._isInverse=null!=t.isInverse&&!0===t.isInverse):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}get wkt(){return this._wkt}set wkt(t){this._wkt=t,this.uid=e++}get wkid(){return this._wkid}set wkid(t){this._wkid=t,this.uid=e++}get isInverse(){return this._isInverse}set isInverse(t){this._isInverse=t,this.uid=e++}getInverse(){const e=new t;return e._wkt=this.wkt,e._wkid=this._wkid,e._isInverse=!this.isInverse,e}}return t}))},"esri/geometry/support/zscale":function(){define(["exports","../../core/unitUtils","../ellipsoidUtils","./spatialReferenceUtils"],(function(e,t,r,n){"use strict";e.getGeometryZScaler=function(e,i,o){if(null==i||null==o||o.vcsWkid||n.equals(i,o)||r.isSphericalPCPF(i)||r.isSphericalPCPF(o))return null;const s=t.getMetersPerVerticalUnitForSR(i)/t.getMetersPerVerticalUnitForSR(o);if(1===s)return null;switch(e){case"point":case"esriGeometryPoint":return e=>{return t=e,r=s,void(null!=t?.z&&(t.z*=r));var t,r};case"polyline":case"esriGeometryPolyline":return e=>function(e,t){if(e)for(const r of e.paths)for(const e of r)e.length>2&&(e[2]*=t)}(e,s);case"polygon":case"esriGeometryPolygon":return e=>function(e,t){if(e)for(const r of e.rings)for(const e of r)e.length>2&&(e[2]*=t)}(e,s);case"multipoint":case"esriGeometryMultipoint":return e=>function(e,t){if(e)for(const r of e.points)r.length>2&&(r[2]*=t)}(e,s);case"extent":case"esriGeometryEnvelope":return e=>{return r=s,void((t=e)&&null!=t.zmin&&null!=t.zmax&&(t.zmin*=r,t.zmax*=r));var t,r};default:return null}},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/layers/support/fieldUtils":function(){define(["exports","../../core/Error","../../core/object","../../core/SetUtils","../../core/sql","./domainUtils","../../support/arcadeExpressionUtils","../../support/guards","../../support/loadArcade"],(function(e,t,r,n,i,o,s,a,l){"use strict";const c=/^([0-9_])/,u=/[^a-z0-9_\u0080-\uffff]+/gi,d=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],f=["field","normalizationField"];function h(e,t,n){if(e)for(const i of e){const e=r.getDeepValue(i,t),o=e&&"function"!=typeof e&&n.get(e);o&&r.setDeepValue(i,o.name,t)}}const p=new Set;function y(e,t){return e&&t?(p.clear(),m(p,e,t),Array.from(p).sort()):[]}function m(e,t,r){if(r)if(t?.fields?.length)if(r.includes("*"))for(const{name:r}of t.fields)e.add(r);else for(const n of r)g(e,t,n);else{if(r.includes("*"))return e.clear(),void e.add("*");for(const t of r)null!=t&&e.add(t)}}function g(e,t,r){if("string"==typeof r)if(t){const n=t.get(r);n&&e.add(n.name)}else e.add(r)}async function _(e,t,r){if(!r)return;let n;const i=s.getFieldNameFromSimpleExpression(r);if(i)n=[i];else{const{arcadeUtils:e}=await l.loadArcade();n=e.extractFieldNames(r,t?.fields?.map((e=>e.name)))}for(const r of n)g(e,t,r)}async function T(e,r,n){if(n&&"1=1"!==n){const o=await i.parseWhereClause(n,r);if(!o.isStandardized)throw new t("fieldUtils:collectFilterFields","Where clause is not standardized",{where:n});m(e,r,o.fieldNames)}}function S(e,t){for(const r of e)if(r?.valueType&&r.valueType===t)return r.name;return null}async function x(e,t){if(!t)return;const r=t.elevationInfo?.featureExpressionInfo;return r?r.collectRequiredFields(e,t.fieldsIndex):void 0}async function b(e,t,r){const n=[];r?.expressionInfos&&n.push(...r.expressionInfos.map((r=>_(e,t.fieldsIndex,r.expression))));const i=r?.content;if(Array.isArray(i))for(const r of i)"expression"===r.type&&r.expressionInfo&&n.push(_(e,t.fieldsIndex,r.expressionInfo.expression));await Promise.all(n)}function E(e){if(!e)return[];const t=e.geometryFieldsInfo;return t?y(e.fieldsIndex,[t.shapeAreaField,t.shapeLengthField]):[]}const v=new Set(["oid","global-id","guid"]),w=new Set(["oid","global-id"]),P=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^shape$/i,/^shape_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/objectid/i,/^perimeter_/i,/_perimeter$/i,/_i$/i];function A(e){const t=new Set;I(e).forEach((e=>t.add(e))),E(e).forEach((e=>t.add(e.toLowerCase())));const r=e&&"infoFor3D"in e?e.infoFor3D:void 0;return r&&(Object.values(r.assetMapFieldRoles).forEach((e=>t.add(e.toLowerCase()))),Object.values(r.transformFieldRoles).forEach((e=>t.add(e.toLowerCase())))),Array.from(t)}function M(e){if(!e)return[];const t="editFieldsInfo"in e&&e.editFieldsInfo;if(!t)return[];const{creationDateField:r,creatorField:n,editDateField:i,editorField:o}=t;return[r,n,i,o].filter(Boolean)}function I(e){return M(e).map((e=>e.toLowerCase()))}async function O(e,t){const{labelingInfo:r,fieldsIndex:n}=t;r?.length&&await Promise.all(r.map((t=>R(e,n,t))))}async function R(e,t,r){if(!r)return;const n=r.getLabelExpression(),i=r.where;if("arcade"===n.type)await _(e,t,n.expression);else{const r=n.expression.match(/{[^}]*}/g);r&&r.forEach((r=>{g(e,t,r.slice(1,-1))}))}await T(e,t,i)}function D(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}function N(e){return null===e||D(e)}function C(e){return null===e||Number.isInteger(e)}function L(){return!0}function k(e,t){let r;switch(e.type){case"date":case"integer":case"long":case"small-integer":case"big-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":case"esriFieldTypeBigInteger":r=e.nullable?C:Number.isInteger;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":r=e.nullable?N:D;break;case"string":case"esriFieldTypeString":r=e.nullable?a.isStringOrNull:a.isString;break;default:r=L}return 1===arguments.length?r:r(t)}const U=["integer","small-integer","big-integer","long"],F=["single","double"],G=[...U,...F],B=["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeLong","esriFieldTypeBigInteger"],j=["esriFieldTypeSingle","esriFieldTypeDouble"],V=new Set([...U,...B]),z=new Set([...F,...j]),W=n.union(V,z);function q(e){return null!=e&&W.has(e.type)}function H(e){return null!=e&&("string"===e.type||"esriFieldTypeString"===e.type)}function $(t,r){return null==t||t.nullable&&null===r?null:k(t,r)?q(t)&&!Z(t.type,Number(r))?e.NumericRangeValidationError.OUT_OF_RANGE:null:e.TypeValidationError.INVALID_TYPE}function Z(e,t){const r="string"==typeof e?Y(e):e;if(!r)return!1;const n=r.min,i=r.max;return r.isInteger?Number.isInteger(t)&&t>=n&&t<=i:t>=n&&t<=i}function Y(e){switch(e){case"esriFieldTypeSmallInteger":case"small-integer":return J;case"esriFieldTypeInteger":case"esriFieldTypeLong":case"integer":case"long":return K;case"esriFieldTypeBigInteger":case"big-integer":return X;case"esriFieldTypeSingle":case"single":return Q;case"esriFieldTypeDouble":case"double":return ee}}e.NumericRangeValidationError=void 0,(e.NumericRangeValidationError||(e.NumericRangeValidationError={})).OUT_OF_RANGE="numeric-range-validation-error::out-of-range",e.TypeValidationError=void 0,(e.TypeValidationError||(e.TypeValidationError={})).INVALID_TYPE="type-validation-error::invalid-type";const J={min:-32768,max:32767,isInteger:!0,rawMin:-32768,rawMax:32767},K={min:-2147483648,max:2147483647,isInteger:!0,rawMin:-2147483648,rawMax:2147483647},X={min:-Number.MAX_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,isInteger:!0,rawMin:-Number.MAX_SAFE_INTEGER,rawMax:Number.MAX_SAFE_INTEGER},Q={min:-34e37,max:12e37,isInteger:!1,rawMin:-34e37,rawMax:12e37},ee={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1,rawMin:-Number.MAX_VALUE,rawMax:Number.MAX_VALUE};function te(e,t,r){if(!e?.attributes||!t){if(null!=r)for(const e of t??[])r.add(e);return!0}const n=new Set(Object.keys(e.attributes));let i=!1;for(const e of t)if(!n.has(e)){if(i=!0,null==r)break;r.add(e)}return i}e.bigIntegerRange=X,e.collectArcadeFieldNames=_,e.collectDisplayFilterFields=async function(e,t,r){if(!t||!r)return;const n=t.fieldsIndex;await Promise.all(r.filters.map((t=>T(e,n,t.where))))},e.collectElevationFields=x,e.collectFeatureReductionFields=async function(e,t,r){if(!t||!r||!("fields"in r))return;const n=[],i=r.popupTemplate;n.push(b(e,t,i)),r.fields&&n.push(...r.fields.map((async r=>function(e,t,r){r.onStatisticExpression?_(e,t,r.onStatisticExpression.expression):e.add(r.onStatisticField)}(e,t.fieldsIndex,r)))),await Promise.all(n)},e.collectField=g,e.collectFields=m,e.collectFilterFields=async function(e,t,r){t&&(t.timeInfo&&r?.timeExtent&&m(e,t.fieldsIndex,[t.timeInfo.startField,t.timeInfo.endField]),t.floorInfo&&m(e,t.fieldsIndex,[t.floorInfo.floorField]),null!=r?.where&&await T(e,t.fieldsIndex,r.where))},e.collectLabelingFields=O,e.collectOrderByInfos=async function(e,t,r){t&&r&&await Promise.all(r.map((r=>async function(e,t,r){t&&r&&(r.valueExpression?await _(e,t.fieldsIndex,r.valueExpression):r.field&&g(e,t.fieldsIndex,r.field))}(e,t,r))))},e.collectPopupTemplateFields=b,e.collectTrackInfoFields=async function(e,t){const{fieldsIndex:r,trackInfo:n}=t;if(!t||!n||!r)return;const i=[n.latestObservations.renderer?.collectRequiredFields(e,r),n.previousObservations.renderer?.collectRequiredFields(e,r),n.trackLines.renderer?.collectRequiredFields(e,r)];n.popupTemplate&&i.push(b(e,t,n.popupTemplate));for(const t of[n.latestObservations.labelingInfo,n.previousObservations.labelingInfo,n.trackLines.labelingInfo])if(t)for(const n of t)i.push(R(e,r,n));await Promise.all(i)},e.doubleRange=ee,e.extractSubstitutionTemplatesFromString=function(e){const t=e?.match(/{[^}]+}/g);return t?t.map((e=>e.slice(1,-1).split(":")[0].trim())):[]},e.featureHasFields=function(e,t){return!te(e,t,null)},e.fixFields=y,e.fixRendererFields=function(e,t){if(null!=e&&null!=t)for(const r of Array.isArray(e)?e:[e])if(h(d,r,t),"visualVariables"in r&&r.visualVariables)for(const e of r.visualVariables)h(f,e,t)},e.fixTimeInfoFields=function(e,t){if(null!=e&&t?.fields?.length)if("startField"in e){const r=t.get(e.startField),n=t.get(e.endField);e.startField=r?.name??null,e.endField=n?.name??null}else{const r=t.get(e.startTimeField),n=t.get(e.endTimeField);e.startTimeField=r?.name??null,e.endTimeField=n?.name??null}},e.floatJSONTypes=j,e.floatTypes=F,e.getDisplayFieldName=function({displayField:e,fields:t}){return e||(t?.length?S(t,"name-or-title")||S(t,"unique-identifier")||S(t,"type-or-category")||function(e){for(const t of e){if(!t?.name)continue;const e=t.name.toLowerCase();if(e.includes("name")||e.includes("title"))return t.name}return null}(t):null)},e.getEditTrackingFields=M,e.getElevationFields=async function(e){if(!e)return[];const t=new Set;return await x(t,e),Array.from(t).sort()},e.getExpressionFields=async function(e,t){const r=new Set;for(const n of t)await _(r,e.fieldsIndex,n);return Array.from(r).sort()},e.getFeatureEditFields=function(e){return e?y(e.fieldsIndex,M(e)):[]},e.getFeatureGeometryFields=E,e.getFieldDefaultLength=function(e){const t="string"==typeof e?{type:e}:e;return H(t)?255:"esriFieldTypeDate"===t.type||"date"===t.type?8:void 0},e.getFieldDefaultValue=function(e){const t=e.defaultValue;return void 0!==t&&k(e,t)?t:e.nullable?null:void 0},e.getFieldRange=function(e,t){return o.getDomainRange(e,t)||(q(e)?Y(e.type):void 0)},e.getLabelingFields=async function(e){if(!e)return[];const t=new Set;return await O(t,e),Array.from(t).sort()},e.getLowerCaseDefaultHiddenFields=A,e.getLowerCaseEditTrackingFields=I,e.getNumericTypeForValue=function(e){if(!D(e))return null;if(Number.isInteger(e)){if(e>=J.min&&e<=J.max)return"esriFieldTypeSmallInteger";if(e>=K.min&&e<=K.max)return"esriFieldTypeInteger";if(e>=X.min&&e<=X.max)return"esriFieldTypeBigInteger"}return e>=Q.min&&e<=Q.max?"esriFieldTypeSingle":"esriFieldTypeDouble"},e.getRendererFields=async function(e,t){const r=new Set;return e?.collectRequiredFields&&await e.collectRequiredFields(r,t),Array.from(r).sort()},e.getTimeFields=async function(e){if(!e)return[];const t="timeInfo"in e&&e.timeInfo;return t?y(e.fieldsIndex,[e.trackIdField,t.startField,t.endField]):[]},e.integerJSONTypes=B,e.integerRange=K,e.integerTypes=U,e.isDateField=function(e){return null!=e&&("date"===e.type||"esriFieldTypeDate"===e.type)},e.isDateOnlyField=function(e){return null!=e&&("date-only"===e.type||"esriFieldTypeDateOnly"===e.type)},e.isFieldEditable=function(e,t){return e.editable&&!v.has(e.type)&&!I(t).includes(e.name?.toLowerCase()??"")},e.isFieldVisibleByDefault=function(e,t){const r=e.name?.toLowerCase()??"";return!(null!=t?.objectIdField&&r===t.objectIdField.toLowerCase()||null!=t?.globalIdField&&r===t.globalIdField.toLowerCase()||A(t).includes(r)||w.has(e.type)||P.some((e=>e.test(r))))},e.isGlobalIDField=function(e){return null!=e&&("global-id"===e.type||"esriFieldTypeGlobalID"===e.type)},e.isIntegerField=function(e){return null!=e&&V.has(e.type)},e.isNumberInRange=Z,e.isNumericField=q,e.isObjectIDField=function(e){return null!=e&&("oid"===e.type||"esriFieldTypeOID"===e.type)},e.isRasterPixelValueField=function(e){return!!e&&["raster.itempixelvalue","raster.servicepixelvalue"].some((t=>e.toLowerCase().startsWith(t)))},e.isStringField=H,e.isTimeOnlyField=function(e){return null!=e&&("time-only"===e.type||"esriFieldTypeTimeOnly"===e.type)},e.isTimestampOffsetField=function(e){return null!=e&&("timestamp-offset"===e.type||"esriFieldTypeTimestampOffset"===e.type)},e.isValidFieldValue=function(e,t){return null===$(e,t)},e.isValueMatchingFieldType=k,e.normalizeFieldName=function(e){return null==e?null:e.trim().replaceAll(u,"_").replace(c,"F$1")||null},e.numericTypes=G,e.packFields=function(e,t,r=1){if(!t||!e)return[];if(t.includes("*"))return["*"];const n=y(e,t);return n.length/e.fields.length>=r?["*"]:n},e.populateMissingFields=te,e.rendererFields=d,e.sanitizeNullFieldValue=function(e){return null==e||"number"==typeof e&&isNaN(e)?null:e},e.singleRange=Q,e.smallIntegerRange=J,e.unpackFieldNames=function(e,t){return null==t||null==e?[]:t.includes("*")?(e.fields??[]).map((e=>e.name)):t},e.validateFieldValue=$,e.validationErrorToString=function(t,r,n){switch(t){case o.DomainValidationError.INVALID_CODED_VALUE:return`Value ${n} is not in the coded domain - field: ${r.name}, domain: ${JSON.stringify(r.domain)}`;case o.DomainValidationError.VALUE_OUT_OF_RANGE:return`Value ${n} is out of the range of valid values - field: ${r.name}, domain: ${JSON.stringify(r.domain)}`;case e.TypeValidationError.INVALID_TYPE:return`Value ${n} is not a valid value for the field type - field: ${r.name}, type: ${r.type}, nullable: ${r.nullable}`;case e.NumericRangeValidationError.OUT_OF_RANGE:{const{min:e,max:t}=Y(r.type);return`Value ${n} is out of range for the number type - field: ${r.name}, type: ${r.type}, value range is ${e} to ${t}`}}},e.visualVariableFields=f,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/core/sql":function(){define(["require","exports"],(function(e,t){"use strict";let r;async function n(){return null==r&&(r=new Promise(((t,r)=>e(["./sql/WhereClauseCache"],t,r))).then((e=>new e.WhereClauseCache(500,500)))),r}t.parseWhereClause=async function(e,t){const r=await n(),i=r.get(e,t);if(null==i)throw r.getError(e,t);return i},t.sqlAnd=function(e,t){return e||=null,t||=null,"1=1"===e?t??e:"1=1"===t?e??t:e&&t?`(${e}) AND (${t})`:e??t},t.sqlIn=function(e,t){return 0===t.length?null:`${e} IN (${function(e){return e.map((e=>"string"==typeof e?function(e){return`'${e.replaceAll("'","''")}'`}(e):e)).join(",")}(t)})`},t.sqlOr=function(e,t){return e||=null,t||=null,"1=1"===e||"1=1"===t||e===t?"1=1"===e?e:t:e&&t?`(${e}) OR (${t})`:e??t},Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}))},"esri/layers/support/domainUtils":function(){define(["exports","../../core/SetUtils","../../support/dateUtils"],(function(e,t,r){"use strict";var n;e.DomainValidationError=void 0,(n=e.DomainValidationError||(e.DomainValidationError={})).VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",n.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value";const i=new Set(["integer","small-integer","long","big-integer","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeLong","esriFieldTypeBigInteger"]);function o(e){return null!=e&&("date-only"===e.type||"esriFieldTypeDateOnly"===e.type)}function s(e){return null!=e&&("timestamp-offset"===e.type||"esriFieldTypeTimestampOffset"===e.type)}function a(e){return null!=e&&("time-only"===e.type||"esriFieldTypeTimeOnly"===e.type)}const l=new Set(["single","double","esriFieldTypeSingle","esriFieldTypeDouble"]),c=t.union(i,l);function u(e,t){const r=t??e?.domain;if(!r||"range"!==r.type)return;const n="range"in r?r.range[0]:r.minValue,l="range"in r?r.range[1]:r.maxValue,c=function(e){return null!=e&&i.has(e.type)}(e);return o(e)||a(e)||s(e)?{...d(e,l,n),isInteger:c}:{min:null!=n&&"number"==typeof n?n:null,max:null!=l&&"number"==typeof l?l:null,rawMin:n,rawMax:l,isInteger:c}}function d(e,t,n){return o(e)?{min:r.dateOnlyToDateTime(n)?.toMillis(),max:r.dateOnlyToDateTime(t)?.toMillis(),rawMin:n,rawMax:t}:a(e)?{min:r.timeOnlyToDateTime(n)?.toMillis(),max:r.timeOnlyToDateTime(t)?.toMillis(),rawMin:n,rawMax:t}:s(e)?{min:r.timestampOffsetToDateTime(n)?.toMillis(),max:r.timestampOffsetToDateTime(t)?.toMillis(),rawMin:n,rawMax:t}:{max:null,min:null}}e.dateTimeFieldValuesToNumericRange=d,e.getDomainRange=u,e.isDomainValidForField=function(e,t){switch(t.type){case"range":{const{min:r,max:n}=u(e,t);return o(e)||a(e)||s(e)?!!r&&!!n:"number"==typeof r&&Number.isFinite(r)&&"number"==typeof n&&Number.isFinite(n)}case"codedValue":case"coded-value":{const r=typeof t.codedValues[0].code;if("string"===r&&function(e){return null!=e&&("string"===e.type||"esriFieldTypeString"===e.type)}(e)||"number"===r&&function(e){return null!=e&&c.has(e.type)}(e))return!0}}return!1},e.validateDomainValue=function(t,r,n){const i=n??t?.domain;if(!i)return null;switch(i.type){case"range":{const{min:n,max:o}=u(t,i);if(null!=n&&+r<n||null!=o&&+r>o)return e.DomainValidationError.VALUE_OUT_OF_RANGE;break}case"coded-value":case"codedValue":if(null==i.codedValues||i.codedValues.every((e=>null==e||e.code!==r)))return e.DomainValidationError.INVALID_CODED_VALUE}return null},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/support/dateUtils":function(){define(["exports","../core/maybe","./guards","../chunks/datetime"],(function(e,t,r,n){"use strict";const i="HH:mm",o="HH:mm:ss",s="HH:mm:ss.SSS",a={HM:i,HMS:o,HMS_MS:s},l=[s,o,i,"TT"],c="yyyy-MM-dd",u=o;e.TimeStampOffsetPattern=a,e.dateOnlyToDateTime=function(e){if(!e||!r.isString(e))return null;const t=n.DateTime.fromFormat(e,c);return t.isValid?t:null},e.defaultDatePattern=c,e.defaultTimePattern=u,e.timeOnlyToDateTime=function(e){return e&&r.isString(e)?t.mappedFind(l,(t=>{const r=n.DateTime.fromFormat(e,t);return r.isValid?r:null}))??null:null},e.timestampOffsetToDateTime=function(e){if(!e||!r.isString(e))return null;const t=n.DateTime.fromISO(e);return t.isValid?t:null},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/support/guards":function(){define(["exports"],(function(e){"use strict";function t(e){return"string"==typeof e||e instanceof String}e.isArray=function(e){return Array.isArray(e)},e.isBoolean=function(e){return"boolean"==typeof e},e.isDate=function(e){return e instanceof Date},e.isGraphic=function(e){return"esri.Graphic"===e?.declaredClass},e.isInteger=function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},e.isNumber=function(e){return"number"==typeof e},e.isQuery=function(e){return"esri.rest.support.Query"===e?.declaredClass},e.isString=t,e.isStringOrNull=function(e){return null==e||t(e)},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/chunks/datetime":function(){define(["exports"],(function(e){"use strict";class t extends Error{}class r extends t{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class n extends t{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class i extends t{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class o extends t{}class s extends t{constructor(e){super(`Invalid unit ${e}`)}}class a extends t{}class l extends t{constructor(){super("Zone is an abstract class")}}const c="numeric",u="short",d="long",f={year:c,month:c,day:c},h={year:c,month:u,day:c},p={year:c,month:u,day:c,weekday:u},y={year:c,month:d,day:c},m={year:c,month:d,day:c,weekday:d},g={hour:c,minute:c},_={hour:c,minute:c,second:c},T={hour:c,minute:c,second:c,timeZoneName:u},S={hour:c,minute:c,second:c,timeZoneName:d},x={hour:c,minute:c,hourCycle:"h23"},b={hour:c,minute:c,second:c,hourCycle:"h23"},E={hour:c,minute:c,second:c,hourCycle:"h23",timeZoneName:u},v={hour:c,minute:c,second:c,hourCycle:"h23",timeZoneName:d},w={year:c,month:c,day:c,hour:c,minute:c},P={year:c,month:c,day:c,hour:c,minute:c,second:c},A={year:c,month:u,day:c,hour:c,minute:c},M={year:c,month:u,day:c,hour:c,minute:c,second:c},I={year:c,month:u,day:c,weekday:u,hour:c,minute:c},O={year:c,month:d,day:c,hour:c,minute:c,timeZoneName:u},R={year:c,month:d,day:c,hour:c,minute:c,second:c,timeZoneName:u},D={year:c,month:d,day:c,weekday:d,hour:c,minute:c,timeZoneName:d},N={year:c,month:d,day:c,weekday:d,hour:c,minute:c,second:c,timeZoneName:d};class C{get type(){throw new l}get name(){throw new l}get ianaName(){return this.name}get isUniversal(){throw new l}offsetName(e,t){throw new l}formatOffset(e,t){throw new l}offset(e){throw new l}equals(e){throw new l}get isValid(){throw new l}}let L=null;class k extends C{static get instance(){return null===L&&(L=new k),L}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:t,locale:r}){return rt(e,t,r)}formatOffset(e,t){return st(this.offset(e),t)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return"system"===e.type}get isValid(){return!0}}const U=new Map,F={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6},G=new Map;class B extends C{static create(e){let t=G.get(e);return void 0===t&&G.set(e,t=new B(e)),t}static resetCache(){G.clear(),U.clear()}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch(e){return!1}}constructor(e){super(),this.zoneName=e,this.valid=B.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:t,locale:r}){return rt(e,t,r,this.name)}formatOffset(e,t){return st(this.offset(e),t)}offset(e){if(!this.valid)return NaN;const t=new Date(e);if(isNaN(t))return NaN;const r=function(e){let t=U.get(e);return void 0===t&&(t=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"}),U.set(e,t)),t}(this.name);let[n,i,o,s,a,l,c]=r.formatToParts?function(e,t){const r=e.formatToParts(t),n=[];for(let e=0;e<r.length;e++){const{type:t,value:i}=r[e],o=F[t];"era"===t?n[o]=i:Le(o)||(n[o]=parseInt(i,10))}return n}(r,t):function(e,t){const r=e.format(t).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(r),[,i,o,s,a,l,c,u]=n;return[s,i,o,a,l,c,u]}(r,t);"BC"===s&&(n=1-Math.abs(n));let u=+t;const d=u%1e3;return u-=d>=0?d:1e3+d,(Xe({year:n,month:i,day:o,hour:24===a?0:a,minute:l,second:c,millisecond:0})-u)/6e4}equals(e){return"iana"===e.type&&e.name===this.name}get isValid(){return this.valid}}let j={};const V=new Map;function z(e,t={}){const r=JSON.stringify([e,t]);let n=V.get(r);return void 0===n&&(n=new Intl.DateTimeFormat(e,t),V.set(r,n)),n}const W=new Map,q=new Map;let H=null;const $=new Map;function Z(e){let t=$.get(e);return void 0===t&&(t=new Intl.DateTimeFormat(e).resolvedOptions(),$.set(e,t)),t}const Y=new Map;function J(e,t,r,n){const i=e.listingMode();return"error"===i?null:"en"===i?r(t):n(t)}class K{constructor(e,t,r){this.padTo=r.padTo||0,this.floor=r.floor||!1;const{padTo:n,floor:i,...o}=r;if(!t||Object.keys(o).length>0){const t={useGrouping:!1,...r};r.padTo>0&&(t.minimumIntegerDigits=r.padTo),this.inf=function(e,t={}){const r=JSON.stringify([e,t]);let n=W.get(r);return void 0===n&&(n=new Intl.NumberFormat(e,t),W.set(r,n)),n}(e,t)}}format(e){if(this.inf){const t=this.floor?Math.floor(e):e;return this.inf.format(t)}return We(this.floor?Math.floor(e):Ze(e,3),this.padTo)}}class X{constructor(e,t,r){let n;if(this.opts=r,this.originalZone=void 0,this.opts.timeZone)this.dt=e;else if("fixed"===e.zone.type){const t=e.offset/60*-1,r=t>=0?`Etc/GMT+${t}`:`Etc/GMT${t}`;0!==e.offset&&B.create(r).valid?(n=r,this.dt=e):(n="UTC",this.dt=0===e.offset?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else"system"===e.zone.type?this.dt=e:"iana"===e.zone.type?(this.dt=e,n=e.zone.name):(n="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const i={...this.opts};i.timeZone=i.timeZone||n,this.dtf=z(t,i)}format(){return this.originalZone?this.formatToParts().map((({value:e})=>e)).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map((e=>{if("timeZoneName"===e.type){const t=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...e,value:t}}return e})):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class Q{constructor(e,t,r){this.opts={style:"long",...r},!t&&Fe()&&(this.rtf=function(e,t={}){const{base:r,...n}=t,i=JSON.stringify([e,n]);let o=q.get(i);return void 0===o&&(o=new Intl.RelativeTimeFormat(e,t),q.set(i,o)),o}(e,r))}format(e,t){return this.rtf?this.rtf.format(e,t):function(e,t,r="always",n=!1){const i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},o=-1===["hours","minutes","seconds"].indexOf(e);if("auto"===r&&o){const r="days"===e;switch(t){case 1:return r?"tomorrow":`next ${i[e][0]}`;case-1:return r?"yesterday":`last ${i[e][0]}`;case 0:return r?"today":`this ${i[e][0]}`}}const s=Object.is(t,-0)||t<0,a=Math.abs(t),l=1===a,c=i[e],u=n?l?c[1]:c[2]||c[1]:l?i[e][0]:e;return s?`${a} ${u} ago`:`in ${a} ${u}`}(t,e,this.opts.numeric,"long"!==this.opts.style)}formatToParts(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]}}const ee={firstDay:1,minimalDays:4,weekend:[6,7]};class te{static fromOpts(e){return te.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,t,r,n,i=!1){const o=e||Te.defaultLocale,s=o||(i?"en-US":H||(H=(new Intl.DateTimeFormat).resolvedOptions().locale,H)),a=t||Te.defaultNumberingSystem,l=r||Te.defaultOutputCalendar,c=Ve(n)||Te.defaultWeekSettings;return new te(s,a,l,c,o)}static resetCache(){H=null,V.clear(),W.clear(),q.clear(),$.clear(),Y.clear()}static fromObject({locale:e,numberingSystem:t,outputCalendar:r,weekSettings:n}={}){return te.create(e,t,r,n)}constructor(e,t,r,n,i){const[o,s,a]=function(e){const t=e.indexOf("-x-");-1!==t&&(e=e.substring(0,t));const r=e.indexOf("-u-");if(-1===r)return[e];{let t,n;try{t=z(e).resolvedOptions(),n=e}catch(i){const o=e.substring(0,r);t=z(o).resolvedOptions(),n=o}const{numberingSystem:i,calendar:o}=t;return[n,i,o]}}(e);this.locale=o,this.numberingSystem=t||s||null,this.outputCalendar=r||a||null,this.weekSettings=n,this.intl=function(e,t,r){return r||t?(e.includes("-u-")||(e+="-u"),r&&(e+=`-ca-${r}`),t&&(e+=`-nu-${t}`),e):e}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=i,this.fastNumbersCached=null}get fastNumbers(){var e;return null==this.fastNumbersCached&&(this.fastNumbersCached=(!(e=this).numberingSystem||"latn"===e.numberingSystem)&&("latn"===e.numberingSystem||!e.locale||e.locale.startsWith("en")||"latn"===Z(e.locale).numberingSystem)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),t=!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar);return e&&t?"en":"intl"}clone(e){return e&&0!==Object.getOwnPropertyNames(e).length?te.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,Ve(e.weekSettings)||this.weekSettings,e.defaultToEN||!1):this}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,t=!1){return J(this,e,dt,(()=>{const r=t?{month:e,day:"numeric"}:{month:e},n=t?"format":"standalone";return this.monthsCache[n][e]||(this.monthsCache[n][e]=function(e){const t=[];for(let r=1;r<=12;r++){const n=dn.utc(2009,r,1);t.push(e(n))}return t}((e=>this.extract(e,r,"month")))),this.monthsCache[n][e]}))}weekdays(e,t=!1){return J(this,e,yt,(()=>{const r=t?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},n=t?"format":"standalone";return this.weekdaysCache[n][e]||(this.weekdaysCache[n][e]=function(e){const t=[];for(let r=1;r<=7;r++){const n=dn.utc(2016,11,13+r);t.push(e(n))}return t}((e=>this.extract(e,r,"weekday")))),this.weekdaysCache[n][e]}))}meridiems(){return J(this,void 0,(()=>mt),(()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[dn.utc(2016,11,13,9),dn.utc(2016,11,13,19)].map((t=>this.extract(t,e,"dayperiod")))}return this.meridiemCache}))}eras(e){return J(this,e,St,(()=>{const t={era:e};return this.eraCache[e]||(this.eraCache[e]=[dn.utc(-40,1,1),dn.utc(2017,1,1)].map((e=>this.extract(e,t,"era")))),this.eraCache[e]}))}extract(e,t,r){const n=this.dtFormatter(e,t).formatToParts().find((e=>e.type.toLowerCase()===r));return n?n.value:null}numberFormatter(e={}){return new K(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,t={}){return new X(e,this.intl,t)}relFormatter(e={}){return new Q(this.intl,this.isEnglish(),e)}listFormatter(e={}){return function(e,t={}){const r=JSON.stringify([e,t]);let n=j[r];return n||(n=new Intl.ListFormat(e,t),j[r]=n),n}(this.intl,e)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||Z(this.intl).locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:Ge()?function(e){let t=Y.get(e);if(!t){const r=new Intl.Locale(e);t="getWeekInfo"in r?r.getWeekInfo():r.weekInfo,"minimalDays"in t||(t={...ee,...t}),Y.set(e,t)}return t}(this.locale):ee}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let re=null;class ne extends C{static get utcInstance(){return null===re&&(re=new ne(0)),re}static instance(e){return 0===e?ne.utcInstance:new ne(e)}static parseSpecifier(e){if(e){const t=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(t)return new ne(nt(t[1],t[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${st(this.fixed,"narrow")}`}get ianaName(){return 0===this.fixed?"Etc/UTC":`Etc/GMT${st(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,t){return st(this.fixed,t)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return"fixed"===e.type&&e.fixed===this.fixed}get isValid(){return!0}}class ie extends C{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function oe(e,t){if(Le(e)||null===e)return t;if(e instanceof C)return e;if("string"==typeof e){const r=e.toLowerCase();return"default"===r?t:"local"===r||"system"===r?k.instance:"utc"===r||"gmt"===r?ne.utcInstance:ne.parseSpecifier(r)||B.create(e)}return ke(e)?ne.instance(e):"object"==typeof e&&"offset"in e&&"function"==typeof e.offset?e:new ie(e)}const se={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},ae={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},le=se.hanidec.replace(/[\[|\]]/g,"").split(""),ce=new Map;function ue({numberingSystem:e},t=""){const r=e||"latn";let n=ce.get(r);void 0===n&&(n=new Map,ce.set(r,n));let i=n.get(t);return void 0===i&&(i=new RegExp(`${se[r]}${t}`),n.set(t,i)),i}let de,fe=()=>Date.now(),he="system",pe=null,ye=null,me=null,ge=60,_e=null;class Te{static get now(){return fe}static set now(e){fe=e}static set defaultZone(e){he=e}static get defaultZone(){return oe(he,k.instance)}static get defaultLocale(){return pe}static set defaultLocale(e){pe=e}static get defaultNumberingSystem(){return ye}static set defaultNumberingSystem(e){ye=e}static get defaultOutputCalendar(){return me}static set defaultOutputCalendar(e){me=e}static get defaultWeekSettings(){return _e}static set defaultWeekSettings(e){_e=Ve(e)}static get twoDigitCutoffYear(){return ge}static set twoDigitCutoffYear(e){ge=e%100}static get throwOnInvalid(){return de}static set throwOnInvalid(e){de=e}static resetCaches(){te.resetCache(),B.resetCache(),dn.resetCache(),ce.clear()}}class Se{constructor(e,t){this.reason=e,this.explanation=t}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const xe=[0,31,59,90,120,151,181,212,243,273,304,334],be=[0,31,60,91,121,152,182,213,244,274,305,335];function Ee(e,t){return new Se("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${e}, which is invalid`)}function ve(e,t,r){const n=new Date(Date.UTC(e,t-1,r));e<100&&e>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);const i=n.getUTCDay();return 0===i?7:i}function we(e,t,r){return r+(Ye(e)?be:xe)[t-1]}function Pe(e,t){const r=Ye(e)?be:xe,n=r.findIndex((e=>e<t));return{month:n+1,day:t-r[n]}}function Ae(e,t){return(e-t+7)%7+1}function Me(e,t=4,r=1){const{year:n,month:i,day:o}=e,s=we(n,i,o),a=Ae(ve(n,i,o),r);let l,c=Math.floor((s-a+14-t)/7);return c<1?(l=n-1,c=et(l,t,r)):c>et(n,t,r)?(l=n+1,c=1):l=n,{weekYear:l,weekNumber:c,weekday:a,...at(e)}}function Ie(e,t=4,r=1){const{weekYear:n,weekNumber:i,weekday:o}=e,s=Ae(ve(n,1,t),r),a=Je(n);let l,c=7*i+o-s-7+t;c<1?(l=n-1,c+=Je(l)):c>a?(l=n+1,c-=Je(n)):l=n;const{month:u,day:d}=Pe(l,c);return{year:l,month:u,day:d,...at(e)}}function Oe(e){const{year:t,month:r,day:n}=e;return{year:t,ordinal:we(t,r,n),...at(e)}}function Re(e){const{year:t,ordinal:r}=e,{month:n,day:i}=Pe(t,r);return{year:t,month:n,day:i,...at(e)}}function De(e,t){if(!Le(e.localWeekday)||!Le(e.localWeekNumber)||!Le(e.localWeekYear)){if(!Le(e.weekday)||!Le(e.weekNumber)||!Le(e.weekYear))throw new o("Cannot mix locale-based week fields with ISO-based week fields");return Le(e.localWeekday)||(e.weekday=e.localWeekday),Le(e.localWeekNumber)||(e.weekNumber=e.localWeekNumber),Le(e.localWeekYear)||(e.weekYear=e.localWeekYear),delete e.localWeekday,delete e.localWeekNumber,delete e.localWeekYear,{minDaysInFirstWeek:t.getMinDaysInFirstWeek(),startOfWeek:t.getStartOfWeek()}}return{minDaysInFirstWeek:4,startOfWeek:1}}function Ne(e){const t=Ue(e.year),r=ze(e.month,1,12),n=ze(e.day,1,Ke(e.year,e.month));return t?r?!n&&Ee("day",e.day):Ee("month",e.month):Ee("year",e.year)}function Ce(e){const{hour:t,minute:r,second:n,millisecond:i}=e,o=ze(t,0,23)||24===t&&0===r&&0===n&&0===i,s=ze(r,0,59),a=ze(n,0,59),l=ze(i,0,999);return o?s?a?!l&&Ee("millisecond",i):Ee("second",n):Ee("minute",r):Ee("hour",t)}function Le(e){return void 0===e}function ke(e){return"number"==typeof e}function Ue(e){return"number"==typeof e&&e%1==0}function Fe(){try{return"undefined"!=typeof Intl&&!!Intl.RelativeTimeFormat}catch(e){return!1}}function Ge(){try{return"undefined"!=typeof Intl&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch(e){return!1}}function Be(e,t,r){if(0!==e.length)return e.reduce(((e,n)=>{const i=[t(n),n];return e&&r(e[0],i[0])===e[0]?e:i}),null)[1]}function je(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ve(e){if(null==e)return null;if("object"!=typeof e)throw new a("Week settings must be an object");if(!ze(e.firstDay,1,7)||!ze(e.minimalDays,1,7)||!Array.isArray(e.weekend)||e.weekend.some((e=>!ze(e,1,7))))throw new a("Invalid week settings");return{firstDay:e.firstDay,minimalDays:e.minimalDays,weekend:Array.from(e.weekend)}}function ze(e,t,r){return Ue(e)&&e>=t&&e<=r}function We(e,t=2){let r;return r=e<0?"-"+(""+-e).padStart(t,"0"):(""+e).padStart(t,"0"),r}function qe(e){return Le(e)||null===e||""===e?void 0:parseInt(e,10)}function He(e){return Le(e)||null===e||""===e?void 0:parseFloat(e)}function $e(e){if(!Le(e)&&null!==e&&""!==e){const t=1e3*parseFloat("0."+e);return Math.floor(t)}}function Ze(e,t,r=!1){const n=10**t;return(r?Math.trunc:Math.round)(e*n)/n}function Ye(e){return e%4==0&&(e%100!=0||e%400==0)}function Je(e){return Ye(e)?366:365}function Ke(e,t){const r=(n=t-1)-12*Math.floor(n/12)+1;var n;return 2===r?Ye(e+(t-r)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][r-1]}function Xe(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(e.year,e.month-1,e.day)),+t}function Qe(e,t,r){return-Ae(ve(e,1,t),r)+t-1}function et(e,t=4,r=1){const n=Qe(e,t,r),i=Qe(e+1,t,r);return(Je(e)-n+i)/7}function tt(e){return e>99?e:e>Te.twoDigitCutoffYear?1900+e:2e3+e}function rt(e,t,r,n=null){const i=new Date(e),o={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(o.timeZone=n);const s={timeZoneName:t,...o},a=new Intl.DateTimeFormat(r,s).formatToParts(i).find((e=>"timezonename"===e.type.toLowerCase()));return a?a.value:null}function nt(e,t){let r=parseInt(e,10);Number.isNaN(r)&&(r=0);const n=parseInt(t,10)||0;return 60*r+(r<0||Object.is(r,-0)?-n:n)}function it(e){const t=Number(e);if("boolean"==typeof e||""===e||Number.isNaN(t))throw new a(`Invalid unit value ${e}`);return t}function ot(e,t){const r={};for(const n in e)if(je(e,n)){const i=e[n];if(null==i)continue;r[t(n)]=it(i)}return r}function st(e,t){const r=Math.trunc(Math.abs(e/60)),n=Math.trunc(Math.abs(e%60)),i=e>=0?"+":"-";switch(t){case"short":return`${i}${We(r,2)}:${We(n,2)}`;case"narrow":return`${i}${r}${n>0?`:${n}`:""}`;case"techie":return`${i}${We(r,2)}${We(n,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function at(e){return function(e){return["hour","minute","second","millisecond"].reduce(((t,r)=>(t[r]=e[r],t)),{})}(e)}const lt=["January","February","March","April","May","June","July","August","September","October","November","December"],ct=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ut=["J","F","M","A","M","J","J","A","S","O","N","D"];function dt(e){switch(e){case"narrow":return[...ut];case"short":return[...ct];case"long":return[...lt];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const ft=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],ht=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],pt=["M","T","W","T","F","S","S"];function yt(e){switch(e){case"narrow":return[...pt];case"short":return[...ht];case"long":return[...ft];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const mt=["AM","PM"],gt=["Before Christ","Anno Domini"],_t=["BC","AD"],Tt=["B","A"];function St(e){switch(e){case"narrow":return[...Tt];case"short":return[..._t];case"long":return[...gt];default:return null}}function xt(e,t){let r="";for(const n of e)n.literal?r+=n.val:r+=t(n.val);return r}const bt={D:f,DD:h,DDD:y,DDDD:m,t:g,tt:_,ttt:T,tttt:S,T:x,TT:b,TTT:E,TTTT:v,f:w,ff:A,fff:O,ffff:D,F:P,FF:M,FFF:R,FFFF:N};class Et{static create(e,t={}){return new Et(e,t)}static parseFormat(e){let t=null,r="",n=!1;const i=[];for(let o=0;o<e.length;o++){const s=e.charAt(o);"'"===s?(r.length>0&&i.push({literal:n||/^\s+$/.test(r),val:r}),t=null,r="",n=!n):n||s===t?r+=s:(r.length>0&&i.push({literal:/^\s+$/.test(r),val:r}),r=s,t=s)}return r.length>0&&i.push({literal:n||/^\s+$/.test(r),val:r}),i}static macroTokenToFormatOpts(e){return bt[e]}constructor(e,t){this.opts=t,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,t){return null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...t}).format()}dtFormatter(e,t={}){return this.loc.dtFormatter(e,{...this.opts,...t})}formatDateTime(e,t){return this.dtFormatter(e,t).format()}formatDateTimeParts(e,t){return this.dtFormatter(e,t).formatToParts()}formatInterval(e,t){return this.dtFormatter(e.start,t).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,t){return this.dtFormatter(e,t).resolvedOptions()}num(e,t=0){if(this.opts.forceSimple)return We(e,t);const r={...this.opts};return t>0&&(r.padTo=t),this.loc.numberFormatter(r).format(e)}formatDateTimeFromString(e,t){const r="en"===this.loc.listingMode(),n=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,i=(t,r)=>this.loc.extract(e,t,r),o=t=>e.isOffsetFixed&&0===e.offset&&t.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,t.format):"",s=(t,n)=>r?function(e,t){return dt(t)[e.month-1]}(e,t):i(n?{month:t}:{month:t,day:"numeric"},"month"),a=(t,n)=>r?function(e,t){return yt(t)[e.weekday-1]}(e,t):i(n?{weekday:t}:{weekday:t,month:"long",day:"numeric"},"weekday"),l=t=>{const r=Et.macroTokenToFormatOpts(t);return r?this.formatWithSystemDefault(e,r):t},c=t=>r?function(e,t){return St(t)[e.year<0?0:1]}(e,t):i({era:t},"era");return xt(Et.parseFormat(t),(t=>{switch(t){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12==0?12:e.hour%12);case"hh":return this.num(e.hour%12==0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return r?function(e){return mt[e.hour<12?0:1]}(e):i({hour:"numeric",hourCycle:"h12"},"dayperiod");case"d":return n?i({day:"numeric"},"day"):this.num(e.day);case"dd":return n?i({day:"2-digit"},"day"):this.num(e.day,2);case"c":case"E":return this.num(e.weekday);case"ccc":return a("short",!0);case"cccc":return a("long",!0);case"ccccc":return a("narrow",!0);case"EEE":return a("short",!1);case"EEEE":return a("long",!1);case"EEEEE":return a("narrow",!1);case"L":return n?i({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return n?i({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return s("short",!0);case"LLLL":return s("long",!0);case"LLLLL":return s("narrow",!0);case"M":return n?i({month:"numeric"},"month"):this.num(e.month);case"MM":return n?i({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return s("short",!1);case"MMMM":return s("long",!1);case"MMMMM":return s("narrow",!1);case"y":return n?i({year:"numeric"},"year"):this.num(e.year);case"yy":return n?i({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return n?i({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return n?i({year:"numeric"},"year"):this.num(e.year,6);case"G":return c("short");case"GG":return c("long");case"GGGGG":return c("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return l(t)}}))}formatDurationFromString(e,t){const r=e=>{switch(e[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},n=Et.parseFormat(t),i=n.reduce(((e,{literal:t,val:r})=>t?e:e.concat(r)),[]);return xt(n,(e=>t=>{const n=r(t);return n?this.num(e.get(n),t.length):t})(e.shiftTo(...i.map(r).filter((e=>e)))))}}const vt=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function wt(...e){const t=e.reduce(((e,t)=>e+t.source),"");return RegExp(`^${t}$`)}function Pt(...e){return t=>e.reduce((([e,r,n],i)=>{const[o,s,a]=i(t,n);return[{...e,...o},s||r,a]}),[{},null,1]).slice(0,2)}function At(e,...t){if(null==e)return[null,null];for(const[r,n]of t){const t=r.exec(e);if(t)return n(t)}return[null,null]}function Mt(...e){return(t,r)=>{const n={};let i;for(i=0;i<e.length;i++)n[e[i]]=qe(t[r+i]);return[n,null,r+i]}}const It=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Ot=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Rt=RegExp(`${Ot.source}(?:${It.source}?(?:\\[(${vt.source})\\])?)?`),Dt=RegExp(`(?:T${Rt.source})?`),Nt=Mt("weekYear","weekNumber","weekDay"),Ct=Mt("year","ordinal"),Lt=RegExp(`${Ot.source} ?(?:${It.source}|(${vt.source}))?`),kt=RegExp(`(?: ${Lt.source})?`);function Ut(e,t,r){const n=e[t];return Le(n)?r:qe(n)}function Ft(e,t){return[{hours:Ut(e,t,0),minutes:Ut(e,t+1,0),seconds:Ut(e,t+2,0),milliseconds:$e(e[t+3])},null,t+4]}function Gt(e,t){const r=!e[t]&&!e[t+1],n=nt(e[t+1],e[t+2]);return[{},r?null:ne.instance(n),t+3]}function Bt(e,t){return[{},e[t]?B.create(e[t]):null,t+1]}const jt=RegExp(`^T?${Ot.source}$`),Vt=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function zt(e){const[t,r,n,i,o,s,a,l,c]=e,u="-"===t[0],d=l&&"-"===l[0],f=(e,t=!1)=>void 0!==e&&(t||e&&u)?-e:e;return[{years:f(He(r)),months:f(He(n)),weeks:f(He(i)),days:f(He(o)),hours:f(He(s)),minutes:f(He(a)),seconds:f(He(l),"-0"===l),milliseconds:f($e(c),d)}]}const Wt={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function qt(e,t,r,n,i,o,s){const a={year:2===t.length?tt(qe(t)):qe(t),month:ct.indexOf(r)+1,day:qe(n),hour:qe(i),minute:qe(o)};return s&&(a.second=qe(s)),e&&(a.weekday=e.length>3?ft.indexOf(e)+1:ht.indexOf(e)+1),a}const Ht=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function $t(e){const[,t,r,n,i,o,s,a,l,c,u,d]=e,f=qt(t,i,n,r,o,s,a);let h;return h=l?Wt[l]:c?0:nt(u,d),[f,new ne(h)]}const Zt=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Yt=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Jt=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Kt(e){const[,t,r,n,i,o,s,a]=e;return[qt(t,i,n,r,o,s,a),ne.utcInstance]}function Xt(e){const[,t,r,n,i,o,s,a]=e;return[qt(t,a,r,n,i,o,s),ne.utcInstance]}const Qt=wt(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Dt),er=wt(/(\d{4})-?W(\d\d)(?:-?(\d))?/,Dt),tr=wt(/(\d{4})-?(\d{3})/,Dt),rr=wt(Rt),nr=Pt((function(e,t){return[{year:Ut(e,t),month:Ut(e,t+1,1),day:Ut(e,t+2,1)},null,t+3]}),Ft,Gt,Bt),ir=Pt(Nt,Ft,Gt,Bt),or=Pt(Ct,Ft,Gt,Bt),sr=Pt(Ft,Gt,Bt),ar=Pt(Ft),lr=wt(/(\d{4})-(\d\d)-(\d\d)/,kt),cr=wt(Lt),ur=Pt(Ft,Gt,Bt),dr="Invalid Duration",fr={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},hr={years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6},...fr},pr={years:{quarters:4,months:12,weeks:52.1775,days:365.2425,hours:8765.82,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:4.3481250000000005,days:30.436875,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746e3},...fr},yr=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],mr=yr.slice(0).reverse();function gr(e,t,r=!1){const n={values:r?t.values:{...e.values,...t.values||{}},loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy,matrix:t.matrix||e.matrix};return new Sr(n)}function _r(e,t){let r=t.milliseconds??0;for(const n of mr.slice(1))t[n]&&(r+=t[n]*e[n].milliseconds);return r}function Tr(e,t){const r=_r(e,t)<0?-1:1;yr.reduceRight(((n,i)=>{if(Le(t[i]))return n;if(n){const o=t[n]*r,s=e[i][n],a=Math.floor(o/s);t[i]+=a*r,t[n]-=a*s*r}return i}),null),yr.reduce(((r,n)=>{if(Le(t[n]))return r;if(r){const i=t[r]%1;t[r]-=i,t[n]+=i*e[r][n]}return n}),null)}class Sr{constructor(e){const t="longterm"===e.conversionAccuracy||!1;let r=t?pr:hr;e.matrix&&(r=e.matrix),this.values=e.values,this.loc=e.loc||te.create(),this.conversionAccuracy=t?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=r,this.isLuxonDuration=!0}static fromMillis(e,t){return Sr.fromObject({milliseconds:e},t)}static fromObject(e,t={}){if(null==e||"object"!=typeof e)throw new a("Duration.fromObject: argument expected to be an object, got "+(null===e?"null":typeof e));return new Sr({values:ot(e,Sr.normalizeUnit),loc:te.fromObject(t),conversionAccuracy:t.conversionAccuracy,matrix:t.matrix})}static fromDurationLike(e){if(ke(e))return Sr.fromMillis(e);if(Sr.isDuration(e))return e;if("object"==typeof e)return Sr.fromObject(e);throw new a(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,t){const[r]=function(e){return At(e,[Vt,zt])}(e);return r?Sr.fromObject(r,t):Sr.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,t){const[r]=function(e){return At(e,[jt,ar])}(e);return r?Sr.fromObject(r,t):Sr.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,t=null){if(!e)throw new a("need to specify a reason the Duration is invalid");const r=e instanceof Se?e:new Se(e,t);if(Te.throwOnInvalid)throw new i(r);return new Sr({invalid:r})}static normalizeUnit(e){const t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e?e.toLowerCase():e];if(!t)throw new s(e);return t}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,t={}){const r={...t,floor:!1!==t.round&&!1!==t.floor};return this.isValid?Et.create(this.loc,r).formatDurationFromString(this,e):dr}toHuman(e={}){if(!this.isValid)return dr;const t=yr.map((t=>{const r=this.values[t];return Le(r)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:t.slice(0,-1)}).format(r)})).filter((e=>e));return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(t)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return 0!==this.years&&(e+=this.years+"Y"),0===this.months&&0===this.quarters||(e+=this.months+3*this.quarters+"M"),0!==this.weeks&&(e+=this.weeks+"W"),0!==this.days&&(e+=this.days+"D"),0===this.hours&&0===this.minutes&&0===this.seconds&&0===this.milliseconds||(e+="T"),0!==this.hours&&(e+=this.hours+"H"),0!==this.minutes&&(e+=this.minutes+"M"),0===this.seconds&&0===this.milliseconds||(e+=Ze(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===e&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const t=this.toMillis();return t<0||t>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},dn.fromMillis(t,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?_r(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const t=Sr.fromDurationLike(e),r={};for(const e of yr)(je(t.values,e)||je(this.values,e))&&(r[e]=t.get(e)+this.get(e));return gr(this,{values:r},!0)}minus(e){if(!this.isValid)return this;const t=Sr.fromDurationLike(e);return this.plus(t.negate())}mapUnits(e){if(!this.isValid)return this;const t={};for(const r of Object.keys(this.values))t[r]=it(e(this.values[r],r));return gr(this,{values:t},!0)}get(e){return this[Sr.normalizeUnit(e)]}set(e){return this.isValid?gr(this,{values:{...this.values,...ot(e,Sr.normalizeUnit)}}):this}reconfigure({locale:e,numberingSystem:t,conversionAccuracy:r,matrix:n}={}){return gr(this,{loc:this.loc.clone({locale:e,numberingSystem:t}),matrix:n,conversionAccuracy:r})}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return Tr(this.matrix,e),gr(this,{values:e},!0)}rescale(){return this.isValid?gr(this,{values:function(e){const t={};for(const[r,n]of Object.entries(e))0!==n&&(t[r]=n);return t}(this.normalize().shiftToAll().toObject())},!0):this}shiftTo(...e){if(!this.isValid)return this;if(0===e.length)return this;e=e.map((e=>Sr.normalizeUnit(e)));const t={},r={},n=this.toObject();let i;for(const o of yr)if(e.indexOf(o)>=0){i=o;let e=0;for(const t in r)e+=this.matrix[t][o]*r[t],r[t]=0;ke(n[o])&&(e+=n[o]);const s=Math.trunc(e);t[o]=s,r[o]=(1e3*e-1e3*s)/1e3}else ke(n[o])&&(r[o]=n[o]);for(const e in r)0!==r[e]&&(t[i]+=e===i?r[e]:r[e]/this.matrix[i][e]);return Tr(this.matrix,t),gr(this,{values:t},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const t of Object.keys(this.values))e[t]=0===this.values[t]?0:-this.values[t];return gr(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid)return!1;if(!this.loc.equals(e.loc))return!1;for(const n of yr)if(t=this.values[n],r=e.values[n],!(void 0===t||0===t?void 0===r||0===r:t===r))return!1;var t,r;return!0}}const xr="Invalid Interval";class br{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,t=null){if(!e)throw new a("need to specify a reason the Interval is invalid");const r=e instanceof Se?e:new Se(e,t);if(Te.throwOnInvalid)throw new n(r);return new br({invalid:r})}static fromDateTimes(e,t){const r=fn(e),n=fn(t),i=function(e,t){return e&&e.isValid?t&&t.isValid?t<e?br.invalid("end before start",`The end of an interval must be after its start, but you had start=${e.toISO()} and end=${t.toISO()}`):null:br.invalid("missing or invalid end"):br.invalid("missing or invalid start")}(r,n);return i??new br({start:r,end:n})}static after(e,t){const r=Sr.fromDurationLike(t),n=fn(e);return br.fromDateTimes(n,n.plus(r))}static before(e,t){const r=Sr.fromDurationLike(t),n=fn(e);return br.fromDateTimes(n.minus(r),n)}static fromISO(e,t){const[r,n]=(e||"").split("/",2);if(r&&n){let e,i,o,s;try{e=dn.fromISO(r,t),i=e.isValid}catch(n){i=!1}try{o=dn.fromISO(n,t),s=o.isValid}catch(n){s=!1}if(i&&s)return br.fromDateTimes(e,o);if(i){const r=Sr.fromISO(n,t);if(r.isValid)return br.after(e,r)}else if(s){const e=Sr.fromISO(r,t);if(e.isValid)return br.before(o,e)}}return br.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get lastDateTime(){return this.isValid&&this.e?this.e.minus(1):null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",t){if(!this.isValid)return NaN;const r=this.start.startOf(e,t);let n;return n=t?.useLocaleWeeks?this.end.reconfigure({locale:r.locale}):this.end,n=n.startOf(e,t),Math.floor(n.diff(r,e).get(e))+(n.valueOf()!==this.end.valueOf())}hasSame(e){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,e))}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return!!this.isValid&&this.s>e}isBefore(e){return!!this.isValid&&this.e<=e}contains(e){return!!this.isValid&&this.s<=e&&this.e>e}set({start:e,end:t}={}){return this.isValid?br.fromDateTimes(e||this.s,t||this.e):this}splitAt(...e){if(!this.isValid)return[];const t=e.map(fn).filter((e=>this.contains(e))).sort(((e,t)=>e.toMillis()-t.toMillis())),r=[];let{s:n}=this,i=0;for(;n<this.e;){const e=t[i]||this.e,o=+e>+this.e?this.e:e;r.push(br.fromDateTimes(n,o)),n=o,i+=1}return r}splitBy(e){const t=Sr.fromDurationLike(e);if(!this.isValid||!t.isValid||0===t.as("milliseconds"))return[];let r,{s:n}=this,i=1;const o=[];for(;n<this.e;){const e=this.start.plus(t.mapUnits((e=>e*i)));r=+e>+this.e?this.e:e,o.push(br.fromDateTimes(n,r)),n=r,i+=1}return o}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return!!this.isValid&&+this.e===+e.s}abutsEnd(e){return!!this.isValid&&+e.e===+this.s}engulfs(e){return!!this.isValid&&this.s<=e.s&&this.e>=e.e}equals(e){return!(!this.isValid||!e.isValid)&&this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const t=this.s>e.s?this.s:e.s,r=this.e<e.e?this.e:e.e;return t>=r?null:br.fromDateTimes(t,r)}union(e){if(!this.isValid)return this;const t=this.s<e.s?this.s:e.s,r=this.e>e.e?this.e:e.e;return br.fromDateTimes(t,r)}static merge(e){const[t,r]=e.sort(((e,t)=>e.s-t.s)).reduce((([e,t],r)=>t?t.overlaps(r)||t.abutsStart(r)?[e,t.union(r)]:[e.concat([t]),r]:[e,r]),[[],null]);return r&&t.push(r),t}static xor(e){let t=null,r=0;const n=[],i=e.map((e=>[{time:e.s,type:"s"},{time:e.e,type:"e"}])),o=Array.prototype.concat(...i).sort(((e,t)=>e.time-t.time));for(const e of o)r+="s"===e.type?1:-1,1===r?t=e.time:(t&&+t!==+e.time&&n.push(br.fromDateTimes(t,e.time)),t=null);return br.merge(n)}difference(...e){return br.xor([this].concat(e)).map((e=>this.intersection(e))).filter((e=>e&&!e.isEmpty()))}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:xr}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=f,t={}){return this.isValid?Et.create(this.s.loc.clone(t),e).formatInterval(this):xr}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:xr}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:xr}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:xr}toFormat(e,{separator:t=" – "}={}){return this.isValid?`${this.s.toFormat(e)}${t}${this.e.toFormat(e)}`:xr}toDuration(e,t){return this.isValid?this.e.diff(this.s,e,t):Sr.invalid(this.invalidReason)}mapEndpoints(e){return br.fromDateTimes(e(this.s),e(this.e))}}class Er{static hasDST(e=Te.defaultZone){const t=dn.now().setZone(e).set({month:12});return!e.isUniversal&&t.offset!==t.set({month:6}).offset}static isValidIANAZone(e){return B.isValidZone(e)}static normalizeZone(e){return oe(e,Te.defaultZone)}static getStartOfWeek({locale:e=null,locObj:t=null}={}){return(t||te.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:t=null}={}){return(t||te.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:t=null}={}){return(t||te.create(e)).getWeekendDays().slice()}static months(e="long",{locale:t=null,numberingSystem:r=null,locObj:n=null,outputCalendar:i="gregory"}={}){return(n||te.create(t,r,i)).months(e)}static monthsFormat(e="long",{locale:t=null,numberingSystem:r=null,locObj:n=null,outputCalendar:i="gregory"}={}){return(n||te.create(t,r,i)).months(e,!0)}static weekdays(e="long",{locale:t=null,numberingSystem:r=null,locObj:n=null}={}){return(n||te.create(t,r,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:t=null,numberingSystem:r=null,locObj:n=null}={}){return(n||te.create(t,r,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return te.create(e).meridiems()}static eras(e="short",{locale:t=null}={}){return te.create(t,null,"gregory").eras(e)}static features(){return{relative:Fe(),localeWeek:Ge()}}}function vr(e,t){const r=e=>e.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=r(t)-r(e);return Math.floor(Sr.fromMillis(n).as("days"))}function wr(e,t=e=>e){return{regex:e,deser:([e])=>t(function(e){let t=parseInt(e,10);if(isNaN(t)){t="";for(let r=0;r<e.length;r++){const n=e.charCodeAt(r);if(-1!==e[r].search(se.hanidec))t+=le.indexOf(e[r]);else for(const e in ae){const[r,i]=ae[e];n>=r&&n<=i&&(t+=n-r)}}return parseInt(t,10)}return t}(e))}}const Pr=`[ ${String.fromCharCode(160)}]`,Ar=new RegExp(Pr,"g");function Mr(e){return e.replace(/\./g,"\\.?").replace(Ar,Pr)}function Ir(e){return e.replace(/\./g,"").replace(Ar," ").toLowerCase()}function Or(e,t){return null===e?null:{regex:RegExp(e.map(Mr).join("|")),deser:([r])=>e.findIndex((e=>Ir(r)===Ir(e)))+t}}function Rr(e,t){return{regex:e,deser:([,e,t])=>nt(e,t),groups:t}}function Dr(e){return{regex:e,deser:([e])=>e}}const Nr={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let Cr=null;function Lr(e,t){return Array.prototype.concat(...e.map((e=>function(e,t){if(e.literal)return e;const r=Fr(Et.macroTokenToFormatOpts(e.val),t);return null==r||r.includes(void 0)?e:r}(e,t))))}class kr{constructor(e,t){if(this.locale=e,this.format=t,this.tokens=Lr(Et.parseFormat(t),e),this.units=this.tokens.map((t=>function(e,t){const r=ue(t),n=ue(t,"{2}"),i=ue(t,"{3}"),o=ue(t,"{4}"),s=ue(t,"{6}"),a=ue(t,"{1,2}"),l=ue(t,"{1,3}"),c=ue(t,"{1,6}"),u=ue(t,"{1,9}"),d=ue(t,"{2,4}"),f=ue(t,"{4,6}"),h=e=>{return{regex:RegExp((t=e.val,t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"))),deser:([e])=>e,literal:!0};var t},p=(p=>{if(e.literal)return h(p);switch(p.val){case"G":return Or(t.eras("short"),0);case"GG":return Or(t.eras("long"),0);case"y":return wr(c);case"yy":case"kk":return wr(d,tt);case"yyyy":case"kkkk":return wr(o);case"yyyyy":return wr(f);case"yyyyyy":return wr(s);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return wr(a);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return wr(n);case"MMM":return Or(t.months("short",!0),1);case"MMMM":return Or(t.months("long",!0),1);case"LLL":return Or(t.months("short",!1),1);case"LLLL":return Or(t.months("long",!1),1);case"o":case"S":return wr(l);case"ooo":case"SSS":return wr(i);case"u":return Dr(u);case"uu":return Dr(a);case"uuu":case"E":case"c":return wr(r);case"a":return Or(t.meridiems(),0);case"EEE":return Or(t.weekdays("short",!1),1);case"EEEE":return Or(t.weekdays("long",!1),1);case"ccc":return Or(t.weekdays("short",!0),1);case"cccc":return Or(t.weekdays("long",!0),1);case"Z":case"ZZ":return Rr(new RegExp(`([+-]${a.source})(?::(${n.source}))?`),2);case"ZZZ":return Rr(new RegExp(`([+-]${a.source})(${n.source})?`),2);case"z":return Dr(/[a-z_+-/]{1,256}?/i);case" ":return Dr(/[^\S\n\r]/);default:return h(p)}})(e)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return p.token=e,p}(t,e))),this.disqualifyingUnit=this.units.find((e=>e.invalidReason)),!this.disqualifyingUnit){const[e,t]=[`^${(r=this.units).map((e=>e.regex)).reduce(((e,t)=>`${e}(${t.source})`),"")}$`,r];this.regex=RegExp(e,"i"),this.handlers=t}var r}explainFromTokens(e){if(this.isValid){const[t,r]=function(e,t,r){const n=e.match(t);if(n){const e={};let t=1;for(const i in r)if(je(r,i)){const o=r[i],s=o.groups?o.groups+1:1;!o.literal&&o.token&&(e[o.token.val[0]]=o.deser(n.slice(t,t+s))),t+=s}return[n,e]}return[n,{}]}(e,this.regex,this.handlers),[n,i,s]=r?function(e){let t,r=null;return Le(e.z)||(r=B.create(e.z)),Le(e.Z)||(r||(r=new ne(e.Z)),t=e.Z),Le(e.q)||(e.M=3*(e.q-1)+1),Le(e.h)||(e.h<12&&1===e.a?e.h+=12:12===e.h&&0===e.a&&(e.h=0)),0===e.G&&e.y&&(e.y=-e.y),Le(e.u)||(e.S=$e(e.u)),[Object.keys(e).reduce(((t,r)=>{const n=(e=>{switch(e){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}})(r);return n&&(t[n]=e[r]),t}),{}),r,t]}(r):[null,null,void 0];if(je(r,"a")&&je(r,"H"))throw new o("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:this.tokens,regex:this.regex,rawMatches:t,matches:r,result:n,zone:i,specificOffset:s}}return{input:e,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function Ur(e,t,r){return new kr(e,r).explainFromTokens(t)}function Fr(e,t){if(!e)return null;const r=Et.create(t,e).dtFormatter((Cr||(Cr=dn.fromMillis(1555555555555)),Cr)),n=r.formatToParts(),i=r.resolvedOptions();return n.map((t=>function(e,t,r){const{type:n,value:i}=e;if("literal"===n){const e=/^\s+$/.test(i);return{literal:!e,val:e?" ":i}}const o=t[n];let s=n;"hour"===n&&(s=null!=t.hour12?t.hour12?"hour12":"hour24":null!=t.hourCycle?"h11"===t.hourCycle||"h12"===t.hourCycle?"hour12":"hour24":r.hour12?"hour12":"hour24");let a=Nr[s];if("object"==typeof a&&(a=a[o]),a)return{literal:!1,val:a}}(t,e,i)))}const Gr="Invalid DateTime";function Br(e){return new Se("unsupported zone",`the zone "${e.name}" is not supported`)}function jr(e){return null===e.weekData&&(e.weekData=Me(e.c)),e.weekData}function Vr(e){return null===e.localWeekData&&(e.localWeekData=Me(e.c,e.loc.getMinDaysInFirstWeek(),e.loc.getStartOfWeek())),e.localWeekData}function zr(e,t){const r={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new dn({...r,...t,old:r})}function Wr(e,t,r){let n=e-60*t*1e3;const i=r.offset(n);if(t===i)return[n,t];n-=60*(i-t)*1e3;const o=r.offset(n);return i===o?[n,i]:[e-60*Math.min(i,o)*1e3,Math.max(i,o)]}function qr(e,t){const r=new Date(e+=60*t*1e3);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:r.getUTCHours(),minute:r.getUTCMinutes(),second:r.getUTCSeconds(),millisecond:r.getUTCMilliseconds()}}function Hr(e,t,r){return Wr(Xe(e),t,r)}function $r(e,t){const r=e.o,n=e.c.year+Math.trunc(t.years),i=e.c.month+Math.trunc(t.months)+3*Math.trunc(t.quarters),o={...e.c,year:n,month:i,day:Math.min(e.c.day,Ke(n,i))+Math.trunc(t.days)+7*Math.trunc(t.weeks)},s=Sr.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),a=Xe(o);let[l,c]=Wr(a,r,e.zone);return 0!==s&&(l+=s,c=e.zone.offset(l)),{ts:l,o:c}}function Zr(e,t,r,n,i,o){const{setZone:s,zone:a}=r;if(e&&0!==Object.keys(e).length||t){const n=t||a,i=dn.fromObject(e,{...r,zone:n,specificOffset:o});return s?i:i.setZone(a)}return dn.invalid(new Se("unparsable",`the input "${i}" can't be parsed as ${n}`))}function Yr(e,t,r=!0){return e.isValid?Et.create(te.create("en-US"),{allowZ:r,forceSimple:!0}).formatDateTimeFromString(e,t):null}function Jr(e,t){const r=e.c.year>9999||e.c.year<0;let n="";return r&&e.c.year>=0&&(n+="+"),n+=We(e.c.year,r?6:4),t?(n+="-",n+=We(e.c.month),n+="-",n+=We(e.c.day)):(n+=We(e.c.month),n+=We(e.c.day)),n}function Kr(e,t,r,n,i,o){let s=We(e.c.hour);return t?(s+=":",s+=We(e.c.minute),0===e.c.millisecond&&0===e.c.second&&r||(s+=":")):s+=We(e.c.minute),0===e.c.millisecond&&0===e.c.second&&r||(s+=We(e.c.second),0===e.c.millisecond&&n||(s+=".",s+=We(e.c.millisecond,3))),i&&(e.isOffsetFixed&&0===e.offset&&!o?s+="Z":e.o<0?(s+="-",s+=We(Math.trunc(-e.o/60)),s+=":",s+=We(Math.trunc(-e.o%60))):(s+="+",s+=We(Math.trunc(e.o/60)),s+=":",s+=We(Math.trunc(e.o%60)))),o&&(s+="["+e.zone.ianaName+"]"),s}const Xr={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Qr={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},en={ordinal:1,hour:0,minute:0,second:0,millisecond:0},tn=["year","month","day","hour","minute","second","millisecond"],rn=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],nn=["year","ordinal","hour","minute","second","millisecond"];function on(e){switch(e.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return function(e){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new s(e);return t}(e)}}function sn(e,t){const r=oe(t.zone,Te.defaultZone);if(!r.isValid)return dn.invalid(Br(r));const n=te.fromObject(t);let i,o;if(Le(e.year))i=Te.now();else{for(const t of tn)Le(e[t])&&(e[t]=Xr[t]);const t=Ne(e)||Ce(e);if(t)return dn.invalid(t);const n=function(e){if(void 0===cn&&(cn=Te.now()),"iana"!==e.type)return e.offset(cn);const t=e.name;let r=un.get(t);return void 0===r&&(r=e.offset(cn),un.set(t,r)),r}(r);[i,o]=Hr(e,n,r)}return new dn({ts:i,zone:r,loc:n,o})}function an(e,t,r){const n=!!Le(r.round)||r.round,i=(e,i)=>(e=Ze(e,n||r.calendary?0:2,!0),t.loc.clone(r).relFormatter(r).format(e,i)),o=n=>r.calendary?t.hasSame(e,n)?0:t.startOf(n).diff(e.startOf(n),n).get(n):t.diff(e,n).get(n);if(r.unit)return i(o(r.unit),r.unit);for(const e of r.units){const t=o(e);if(Math.abs(t)>=1)return i(t,e)}return i(e>t?-0:0,r.units[r.units.length-1])}function ln(e){let t,r={};return e.length>0&&"object"==typeof e[e.length-1]?(r=e[e.length-1],t=Array.from(e).slice(0,e.length-1)):t=Array.from(e),[r,t]}let cn;const un=new Map;class dn{constructor(e){const t=e.zone||Te.defaultZone;let r=e.invalid||(Number.isNaN(e.ts)?new Se("invalid input"):null)||(t.isValid?null:Br(t));this.ts=Le(e.ts)?Te.now():e.ts;let n=null,i=null;if(!r)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(t))[n,i]=[e.old.c,e.old.o];else{const o=ke(e.o)&&!e.old?e.o:t.offset(this.ts);n=qr(this.ts,o),r=Number.isNaN(n.year)?new Se("invalid input"):null,n=r?null:n,i=r?null:o}this._zone=t,this.loc=e.loc||te.create(),this.invalid=r,this.weekData=null,this.localWeekData=null,this.c=n,this.o=i,this.isLuxonDateTime=!0}static now(){return new dn({})}static local(){const[e,t]=ln(arguments),[r,n,i,o,s,a,l]=t;return sn({year:r,month:n,day:i,hour:o,minute:s,second:a,millisecond:l},e)}static utc(){const[e,t]=ln(arguments),[r,n,i,o,s,a,l]=t;return e.zone=ne.utcInstance,sn({year:r,month:n,day:i,hour:o,minute:s,second:a,millisecond:l},e)}static fromJSDate(e,t={}){const r=(n=e,"[object Date]"===Object.prototype.toString.call(n)?e.valueOf():NaN);var n;if(Number.isNaN(r))return dn.invalid("invalid input");const i=oe(t.zone,Te.defaultZone);return i.isValid?new dn({ts:r,zone:i,loc:te.fromObject(t)}):dn.invalid(Br(i))}static fromMillis(e,t={}){if(ke(e))return e<-864e13||e>864e13?dn.invalid("Timestamp out of range"):new dn({ts:e,zone:oe(t.zone,Te.defaultZone),loc:te.fromObject(t)});throw new a(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,t={}){if(ke(e))return new dn({ts:1e3*e,zone:oe(t.zone,Te.defaultZone),loc:te.fromObject(t)});throw new a("fromSeconds requires a numerical input")}static fromObject(e,t={}){e=e||{};const r=oe(t.zone,Te.defaultZone);if(!r.isValid)return dn.invalid(Br(r));const n=te.fromObject(t),i=ot(e,on),{minDaysInFirstWeek:s,startOfWeek:a}=De(i,n),l=Te.now(),c=Le(t.specificOffset)?r.offset(l):t.specificOffset,u=!Le(i.ordinal),d=!Le(i.year),f=!Le(i.month)||!Le(i.day),h=d||f,p=i.weekYear||i.weekNumber;if((h||u)&&p)throw new o("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(f&&u)throw new o("Can't mix ordinal dates with month/day");const y=p||i.weekday&&!h;let m,g,_=qr(l,c);y?(m=rn,g=Qr,_=Me(_,s,a)):u?(m=nn,g=en,_=Oe(_)):(m=tn,g=Xr);let T=!1;for(const e of m)Le(i[e])?i[e]=T?g[e]:_[e]:T=!0;const S=y?function(e,t=4,r=1){const n=Ue(e.weekYear),i=ze(e.weekNumber,1,et(e.weekYear,t,r)),o=ze(e.weekday,1,7);return n?i?!o&&Ee("weekday",e.weekday):Ee("week",e.weekNumber):Ee("weekYear",e.weekYear)}(i,s,a):u?function(e){const t=Ue(e.year),r=ze(e.ordinal,1,Je(e.year));return t?!r&&Ee("ordinal",e.ordinal):Ee("year",e.year)}(i):Ne(i),x=S||Ce(i);if(x)return dn.invalid(x);const b=y?Ie(i,s,a):u?Re(i):i,[E,v]=Hr(b,c,r),w=new dn({ts:E,zone:r,o:v,loc:n});return i.weekday&&h&&e.weekday!==w.weekday?dn.invalid("mismatched weekday",`you can't specify both a weekday of ${i.weekday} and a date of ${w.toISO()}`):w.isValid?w:dn.invalid(w.invalid)}static fromISO(e,t={}){const[r,n]=function(e){return At(e,[Qt,nr],[er,ir],[tr,or],[rr,sr])}(e);return Zr(r,n,t,"ISO 8601",e)}static fromRFC2822(e,t={}){const[r,n]=function(e){return At(function(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(e),[Ht,$t])}(e);return Zr(r,n,t,"RFC 2822",e)}static fromHTTP(e,t={}){const[r,n]=function(e){return At(e,[Zt,Kt],[Yt,Kt],[Jt,Xt])}(e);return Zr(r,n,t,"HTTP",t)}static fromFormat(e,t,r={}){if(Le(e)||Le(t))throw new a("fromFormat requires an input string and a format");const{locale:n=null,numberingSystem:i=null}=r,o=te.fromOpts({locale:n,numberingSystem:i,defaultToEN:!0}),[s,l,c,u]=function(e,t,r){const{result:n,zone:i,specificOffset:o,invalidReason:s}=Ur(e,t,r);return[n,i,o,s]}(o,e,t);return u?dn.invalid(u):Zr(s,l,r,`format ${t}`,e,c)}static fromString(e,t,r={}){return dn.fromFormat(e,t,r)}static fromSQL(e,t={}){const[r,n]=function(e){return At(e,[lr,nr],[cr,ur])}(e);return Zr(r,n,t,"SQL",e)}static invalid(e,t=null){if(!e)throw new a("need to specify a reason the DateTime is invalid");const n=e instanceof Se?e:new Se(e,t);if(Te.throwOnInvalid)throw new r(n);return new dn({invalid:n})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,t={}){const r=Fr(e,te.fromObject(t));return r?r.map((e=>e?e.val:null)).join(""):null}static expandFormat(e,t={}){return Lr(Et.parseFormat(e),te.fromObject(t)).map((e=>e.val)).join("")}static resetCache(){cn=void 0,un.clear()}get(e){return this[e]}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?jr(this).weekYear:NaN}get weekNumber(){return this.isValid?jr(this).weekNumber:NaN}get weekday(){return this.isValid?jr(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?Vr(this).weekday:NaN}get localWeekNumber(){return this.isValid?Vr(this).weekNumber:NaN}get localWeekYear(){return this.isValid?Vr(this).weekYear:NaN}get ordinal(){return this.isValid?Oe(this.c).ordinal:NaN}get monthShort(){return this.isValid?Er.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Er.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Er.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Er.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,t=6e4,r=Xe(this.c),n=this.zone.offset(r-e),i=this.zone.offset(r+e),o=this.zone.offset(r-n*t),s=this.zone.offset(r-i*t);if(o===s)return[this];const a=r-o*t,l=r-s*t,c=qr(a,o),u=qr(l,s);return c.hour===u.hour&&c.minute===u.minute&&c.second===u.second&&c.millisecond===u.millisecond?[zr(this,{ts:a}),zr(this,{ts:l})]:[this]}get isInLeapYear(){return Ye(this.year)}get daysInMonth(){return Ke(this.year,this.month)}get daysInYear(){return this.isValid?Je(this.year):NaN}get weeksInWeekYear(){return this.isValid?et(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?et(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:t,numberingSystem:r,calendar:n}=Et.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:t,numberingSystem:r,outputCalendar:n}}toUTC(e=0,t={}){return this.setZone(ne.instance(e),t)}toLocal(){return this.setZone(Te.defaultZone)}setZone(e,{keepLocalTime:t=!1,keepCalendarTime:r=!1}={}){if((e=oe(e,Te.defaultZone)).equals(this.zone))return this;if(e.isValid){let n=this.ts;if(t||r){const t=e.offset(this.ts),r=this.toObject();[n]=Hr(r,t,e)}return zr(this,{ts:n,zone:e})}return dn.invalid(Br(e))}reconfigure({locale:e,numberingSystem:t,outputCalendar:r}={}){return zr(this,{loc:this.loc.clone({locale:e,numberingSystem:t,outputCalendar:r})})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const t=ot(e,on),{minDaysInFirstWeek:r,startOfWeek:n}=De(t,this.loc),i=!Le(t.weekYear)||!Le(t.weekNumber)||!Le(t.weekday),s=!Le(t.ordinal),a=!Le(t.year),l=!Le(t.month)||!Le(t.day),c=a||l,u=t.weekYear||t.weekNumber;if((c||s)&&u)throw new o("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&s)throw new o("Can't mix ordinal dates with month/day");let d;i?d=Ie({...Me(this.c,r,n),...t},r,n):Le(t.ordinal)?(d={...this.toObject(),...t},Le(t.day)&&(d.day=Math.min(Ke(d.year,d.month),d.day))):d=Re({...Oe(this.c),...t});const[f,h]=Hr(d,this.o,this.zone);return zr(this,{ts:f,o:h})}plus(e){return this.isValid?zr(this,$r(this,Sr.fromDurationLike(e))):this}minus(e){return this.isValid?zr(this,$r(this,Sr.fromDurationLike(e).negate())):this}startOf(e,{useLocaleWeeks:t=!1}={}){if(!this.isValid)return this;const r={},n=Sr.normalizeUnit(e);switch(n){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0}if("weeks"===n)if(t){const e=this.loc.getStartOfWeek(),{weekday:t}=this;t<e&&(r.weekNumber=this.weekNumber-1),r.weekday=e}else r.weekday=1;if("quarters"===n){const e=Math.ceil(this.month/3);r.month=3*(e-1)+1}return this.set(r)}endOf(e,t){return this.isValid?this.plus({[e]:1}).startOf(e,t).minus(1):this}toFormat(e,t={}){return this.isValid?Et.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):Gr}toLocaleString(e=f,t={}){return this.isValid?Et.create(this.loc.clone(t),e).formatDateTime(this):Gr}toLocaleParts(e={}){return this.isValid?Et.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:t=!1,suppressMilliseconds:r=!1,includeOffset:n=!0,extendedZone:i=!1}={}){if(!this.isValid)return null;const o="extended"===e;let s=Jr(this,o);return s+="T",s+=Kr(this,o,t,r,n,i),s}toISODate({format:e="extended"}={}){return this.isValid?Jr(this,"extended"===e):null}toISOWeekDate(){return Yr(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:t=!1,includeOffset:r=!0,includePrefix:n=!1,extendedZone:i=!1,format:o="extended"}={}){return this.isValid?(n?"T":"")+Kr(this,"extended"===o,t,e,r,i):null}toRFC2822(){return Yr(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Yr(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Jr(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:t=!1,includeOffsetSpace:r=!0}={}){let n="HH:mm:ss.SSS";return(t||e)&&(r&&(n+=" "),t?n+="z":e&&(n+="ZZ")),Yr(this,n,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():Gr}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const t={...this.c};return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,t="milliseconds",r={}){if(!this.isValid||!e.isValid)return Sr.invalid("created by diffing an invalid DateTime");const n={locale:this.locale,numberingSystem:this.numberingSystem,...r},i=(a=t,Array.isArray(a)?a:[a]).map(Sr.normalizeUnit),o=e.valueOf()>this.valueOf(),s=function(e,t,r,n){let[i,o,s,a]=function(e,t,r){const n=[["years",(e,t)=>t.year-e.year],["quarters",(e,t)=>t.quarter-e.quarter+4*(t.year-e.year)],["months",(e,t)=>t.month-e.month+12*(t.year-e.year)],["weeks",(e,t)=>{const r=vr(e,t);return(r-r%7)/7}],["days",vr]],i={},o=e;let s,a;for(const[l,c]of n)r.indexOf(l)>=0&&(s=l,i[l]=c(e,t),a=o.plus(i),a>t?(i[l]--,(e=o.plus(i))>t&&(a=e,i[l]--,e=o.plus(i))):e=a);return[e,i,a,s]}(e,t,r);const l=t-i,c=r.filter((e=>["hours","minutes","seconds","milliseconds"].indexOf(e)>=0));0===c.length&&(s<t&&(s=i.plus({[a]:1})),s!==i&&(o[a]=(o[a]||0)+l/(s-i)));const u=Sr.fromObject(o,n);return c.length>0?Sr.fromMillis(l,n).shiftTo(...c).plus(u):u}(o?this:e,o?e:this,i,n);var a;return o?s.negate():s}diffNow(e="milliseconds",t={}){return this.diff(dn.now(),e,t)}until(e){return this.isValid?br.fromDateTimes(this,e):this}hasSame(e,t,r){if(!this.isValid)return!1;const n=e.valueOf(),i=this.setZone(e.zone,{keepLocalTime:!0});return i.startOf(t,r)<=n&&n<=i.endOf(t,r)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const t=e.base||dn.fromObject({},{zone:this.zone}),r=e.padding?this<t?-e.padding:e.padding:0;let n=["years","months","days","hours","minutes","seconds"],i=e.unit;return Array.isArray(e.unit)&&(n=e.unit,i=void 0),an(t,this.plus(r),{...e,numeric:"always",units:n,unit:i})}toRelativeCalendar(e={}){return this.isValid?an(e.base||dn.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(dn.isDateTime))throw new a("min requires all arguments be DateTimes");return Be(e,(e=>e.valueOf()),Math.min)}static max(...e){if(!e.every(dn.isDateTime))throw new a("max requires all arguments be DateTimes");return Be(e,(e=>e.valueOf()),Math.max)}static fromFormatExplain(e,t,r={}){const{locale:n=null,numberingSystem:i=null}=r;return Ur(te.fromOpts({locale:n,numberingSystem:i,defaultToEN:!0}),e,t)}static fromStringExplain(e,t,r={}){return dn.fromFormatExplain(e,t,r)}static buildFormatParser(e,t={}){const{locale:r=null,numberingSystem:n=null}=t,i=te.fromOpts({locale:r,numberingSystem:n,defaultToEN:!0});return new kr(i,e)}static fromFormatParser(e,t,r={}){if(Le(e)||Le(t))throw new a("fromFormatParser requires an input string and a format parser");const{locale:n=null,numberingSystem:i=null}=r,o=te.fromOpts({locale:n,numberingSystem:i,defaultToEN:!0});if(!o.equals(t.locale))throw new a(`fromFormatParser called with a locale of ${o}, but the format parser was created for ${t.locale}`);const{result:s,zone:l,specificOffset:c,invalidReason:u}=t.explainFromTokens(e);return u?dn.invalid(u):Zr(s,l,r,`format ${t.format}`,e,c)}static get DATE_SHORT(){return f}static get DATE_MED(){return h}static get DATE_MED_WITH_WEEKDAY(){return p}static get DATE_FULL(){return y}static get DATE_HUGE(){return m}static get TIME_SIMPLE(){return g}static get TIME_WITH_SECONDS(){return _}static get TIME_WITH_SHORT_OFFSET(){return T}static get TIME_WITH_LONG_OFFSET(){return S}static get TIME_24_SIMPLE(){return x}static get TIME_24_WITH_SECONDS(){return b}static get TIME_24_WITH_SHORT_OFFSET(){return E}static get TIME_24_WITH_LONG_OFFSET(){return v}static get DATETIME_SHORT(){return w}static get DATETIME_SHORT_WITH_SECONDS(){return P}static get DATETIME_MED(){return A}static get DATETIME_MED_WITH_SECONDS(){return M}static get DATETIME_MED_WITH_WEEKDAY(){return I}static get DATETIME_FULL(){return O}static get DATETIME_FULL_WITH_SECONDS(){return R}static get DATETIME_HUGE(){return D}static get DATETIME_HUGE_WITH_SECONDS(){return N}}function fn(e){if(dn.isDateTime(e))return e;if(e&&e.valueOf&&ke(e.valueOf()))return dn.fromJSDate(e);if(e&&"object"==typeof e)return dn.fromObject(e);throw new a(`Unknown datetime argument: ${e}, of type ${typeof e}`)}e.DateTime=dn,e.Duration=Sr,e.FixedOffsetZone=ne,e.IANAZone=B,e.Zone=C}))},"esri/support/arcadeExpressionUtils":function(){define(["exports"],(function(e){"use strict";const t=/^(\$feature\[(?:"(?<doubleQuoted>[^"]+)"|'(?<singleQuoted>[^']+)')\]|\$feature\.(?<dotNotation>[a-zA-Z_][a-zA-Z0-9_]*))$/i,r=/^hash\(\$feature\['((\\'|[^'])+)'\]\) \* 8\.381e-8$/;e.getFieldNameFromSimpleExpression=function(e){if(!e)return;const r=e.match(t);return r?.groups?r.groups.doubleQuoted??r.groups.singleQuoted??r.groups.dotNotation:void 0},e.matchRandomRotationExpression=function(e){return e.match(r)?.[1]?.replace(/\\'/g,"'")??null},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/support/loadArcade":function(){define(["require","exports"],(function(e,t){"use strict";let r;t.loadArcade=function(){return r||(r=(async()=>{const[t,r,n]=await Promise.all([new Promise(((t,r)=>e(["./arcadeUtils"],t,r))),new Promise(((t,r)=>e(["../arcade/batchExec"],t,r))),new Promise(((t,r)=>e(["../arcade/functions/aiServices"],t,r)))]);return{arcade:t.arcade,arcadeUtils:t,batchExec:r,aiServices:n,Dictionary:t.Dictionary,Feature:t.arcadeFeature,Voxel:t.Voxel}})()),r},Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}))},"esri/views/2d/engine/vectorTiles/WorkerTileHandler":function(){define(["../../../../core/promiseUtils","./enums","./WorkerTile","./style/StyleRepository"],(function(e,t,r,n){"use strict";return class{constructor(){this._spriteInfo={},this._glyphInfo={},this._sourceDataMaxLOD=25}reset(){return this._spriteInfo={},this._glyphInfo={},Promise.resolve()}getLayers(){return this._styleRepository?.layers??[]}async createTileAndParse(t,n){const{key:i}=t,o={};for(const e of Object.keys(t.sourceName2DataAndRefKey)){const r=t.sourceName2DataAndRefKey[e];o[e]=r.refKey}const s=new r(i,o,this,this._styleRepository);try{return await s.parse({...t,sourceDataMaxLOD:this._sourceDataMaxLOD},n)}catch(t){if(s.setObsolete(),s.release(),!e.isAbortError(t))throw t;return null}}updateStyle(e){if(!e||0===e.length||!this._styleRepository)return;const r=this._styleRepository;for(const n of e){const e=n.type,i=n.data;switch(e){case t.StyleUpdateType.PAINTER_CHANGED:r.setPaintProperties(i.layer,i.paint);break;case t.StyleUpdateType.LAYOUT_CHANGED:r.setLayoutProperties(i.layer,i.layout);break;case t.StyleUpdateType.LAYER_REMOVED:r.deleteStyleLayer(i.layer);break;case t.StyleUpdateType.LAYER_CHANGED:r.setStyleLayer(i.layer,i.index);break;case t.StyleUpdateType.SPRITES_CHANGED:this._spriteInfo={}}}}setStyle(e){const{style:t,sourceDataMaxLOD:r}=e;this._styleRepository=new n(t),this._sourceDataMaxLOD=r,this._spriteInfo={},this._glyphInfo={}}fetchSprites(e,t,r){const n=[],i=this._spriteInfo;for(const t of e)void 0===i[t.name]&&n.push(t);return 0===n.length?Promise.resolve():t.invoke("getSprites",n,{signal:r?.signal}).then((e=>{for(const t in e){const r=e[t];i[t]=r}}))}getSpriteItems(){return this._spriteInfo}fetchGlyphs(e,t,r,n,i){const o=[];let s=this._glyphInfo[t];return s?r.forEach((e=>{s[e]||o.push(e)})):(s=this._glyphInfo[t]=[],r.forEach((e=>o.push(e)))),0===o.length?Promise.resolve():n.invoke("getGlyphs",{tileID:e,font:t,codePoints:o},i).then((e=>{for(let t=0;t<e.length;t++)e[t]&&(s[t]=e[t])}))}getGlyphItems(e){return this._glyphInfo[e]}}}))},"esri/views/2d/engine/vectorTiles/enums":function(){define(["exports"],(function(e){"use strict";var t,r,n;e.BucketType=void 0,(t=e.BucketType||(e.BucketType={}))[t.FILL=1]="FILL",t[t.LINE=2]="LINE",t[t.SYMBOL=3]="SYMBOL",t[t.CIRCLE=4]="CIRCLE",e.ShaderProgramType=void 0,(r=e.ShaderProgramType||(e.ShaderProgramType={}))[r.BACKGROUND=0]="BACKGROUND",r[r.FILL=1]="FILL",r[r.OUTLINE=2]="OUTLINE",r[r.LINE=3]="LINE",r[r.ICON=4]="ICON",r[r.CIRCLE=5]="CIRCLE",r[r.TEXT=6]="TEXT",r[r.TILEINFO=7]="TILEINFO",e.StyleUpdateType=void 0,(n=e.StyleUpdateType||(e.StyleUpdateType={}))[n.PAINTER_CHANGED=0]="PAINTER_CHANGED",n[n.LAYOUT_CHANGED=1]="LAYOUT_CHANGED",n[n.LAYER_CHANGED=2]="LAYER_CHANGED",n[n.LAYER_REMOVED=3]="LAYER_REMOVED",n[n.SPRITES_CHANGED=4]="SPRITES_CHANGED",Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/views/2d/engine/vectorTiles/WorkerTile":function(){define(["../../../../core/promiseUtils","./Placement","./TileParser","../../tiling/enums"],(function(e,t,r,n){"use strict";return class{constructor(e,r,i,o){this.status=n.TileStatus.INITIALIZED,this.placementEngine=new t.PlacementEngine,this.tileKey=e,this.refKeys=r,this._workerTileHandler=i,this._styleRepository=o}release(){this.tileKey="",this.refKeys=null,this.status=n.TileStatus.INITIALIZED,this._workerTileHandler=null}async parse(t,r){const i=r?.signal;if(null!=i){const e=()=>{i.removeEventListener("abort",e),this.status=n.TileStatus.INVALID};i.addEventListener("abort",e)}let o;const s={bucketsWithData:[],emptyBuckets:null};try{o=await this._parse(t,r)}catch(t){if(e.isAbortError(t))throw t;return{result:s,transferList:[]}}this.status=n.TileStatus.READY;const a=s.bucketsWithData,l=[];for(const e of o)if(e.hasFeatures()){const t=e.serialize();a.push(t)}else l.push(e.layer.uid);const c=[...a];let u=null;return l.length>0&&(u=Uint32Array.from(l),c.push(u.buffer)),s.emptyBuckets=u,{result:s,transferList:c}}setObsolete(){this.status=n.TileStatus.INVALID}getLayers(){return this._workerTileHandler.getLayers()}getWorkerTileHandler(){return this._workerTileHandler}async _parse(e,t){const i=e.sourceName2DataAndRefKey;return 0===Object.keys(i).length?[]:(this.status=n.TileStatus.MODIFIED,new r(i,this,t.client,e.sourceDataMaxLOD,this._styleRepository,e.styleLayerUIDs).parse(t))}}}))},"esri/views/2d/engine/vectorTiles/Placement":function(){define(["exports","../../../../geometry/support/TileClipper","./constants","./GeometryUtils","./TextShaping","./decluttering/config","./style/StyleDefinition"],(function(e,t,r,n,i,o,s){"use strict";const a=.5;class l{constructor(e,t,r,i,o,s=.5,a=n.cInfinity){this.anchor=e,this.labelAngle=t,this.glyphAngle=r,this.page=i,this.alternateVerticalGlyph=o,this.minzoom=s,this.maxzoom=a}}class c{constructor(e,t,r,n,i,o,s,a,l,c,u,d){this.tl=e,this.tr=t,this.bl=r,this.br=n,this.mosaicRect=i,this.labelAngle=o,this.minAngle=s,this.maxAngle=a,this.anchor=l,this.minzoom=c,this.maxzoom=u,this.page=d}}class u{constructor(e){this.shapes=e}}e.Anchor=class{constructor(e,t,r=0,n=-1,i=.5){this.x=e,this.y=t,this.angle=r,this.segment=n,this.minzoom=i}},e.PlacedSymbol=c,e.Placement=u,e.PlacementEngine=class{getIconPlacement(e,r,i){const a=new t.Point(e.x,e.y),l=i.rotationAlignment===s.RotationAlignment.MAP,c=i.keepUpright;let d=i.rotate*n.cDegToRad;l&&(d+=e.angle);const f=new u([]);return i.allowOverlap&&i.ignorePlacement||!o.declutterTiles||(f.iconColliders=[]),this._addIconPlacement(f,a,r,i,d),l&&c&&this._addIconPlacement(f,a,r,i,d+n.cPi),f}_addIconPlacement(e,r,i,l,u){const d=i.rasterizationScale,f=i.width/d,h=i.height/d,p=l.offset;let y=p[0],m=p[1];switch(l.anchor){case s.SymbolAnchor.CENTER:y-=f/2,m-=h/2;break;case s.SymbolAnchor.LEFT:m-=h/2;break;case s.SymbolAnchor.RIGHT:y-=f,m-=h/2;break;case s.SymbolAnchor.TOP:y-=f/2;break;case s.SymbolAnchor.BOTTOM:y-=f/2,m-=h;break;case s.SymbolAnchor.TOP_LEFT:break;case s.SymbolAnchor.BOTTOM_LEFT:m-=h;break;case s.SymbolAnchor.TOP_RIGHT:y-=f;break;case s.SymbolAnchor.BOTTOM_RIGHT:y-=f,m-=h}const g=i.rect,_=2/d,T=y-_,S=m-_,x=T+g.width/d,b=S+g.height/d,E=new t.Point(T,S),v=new t.Point(x,b),w=new t.Point(T,b),P=new t.Point(x,S);if(0!==u){const e=Math.cos(u),t=Math.sin(u);E.rotate(e,t),v.rotate(e,t),w.rotate(e,t),P.rotate(e,t)}const A=new c(E,P,w,v,g,u,0,256,r,a,n.cInfinity,0);if(e.shapes.push(A),(!l.allowOverlap||!l.ignorePlacement)&&o.declutterTiles){const t=l.size,i=l.padding,o={xTile:r.x,yTile:r.y,dxPixels:y*t-i,dyPixels:m*t-i,hard:!l.optional,partIndex:0,width:f*t+2*i,height:h*t+2*i,angle:u,minLod:a,maxLod:n.cInfinity};e.iconColliders.push(o)}}getTextPlacement(e,o,d,f){const h=new t.Point(e.x,e.y),p=f.rotate*n.cDegToRad,y=f.rotationAlignment===s.RotationAlignment.MAP,m=f.keepUpright,g=f.padding;let _=a;const T=y?e.angle:0,S=e.segment>=0&&y,x=f.allowOverlap&&f.ignorePlacement?null:[],b=[],E=!S;let v=Number.POSITIVE_INFINITY,w=Number.NEGATIVE_INFINITY,P=v,A=w;const M=(S||y)&&m,I=f.size/i.sdfGlyphSize;let O=!1;for(const e of o)if(e.vertical){O=!0;break}let R,D=0,N=0;if(!S&&O){const e=i.TextShaping.getTextBox(o,f.lineHeight*i.sdfGlyphSize);switch(f.anchor){case s.SymbolAnchor.LEFT:D=e.height/2,N=-e.width/2;break;case s.SymbolAnchor.RIGHT:D=-e.height/2,N=e.width/2;break;case s.SymbolAnchor.TOP:D=e.height/2,N=e.width/2;break;case s.SymbolAnchor.BOTTOM:D=-e.height/2,N=-e.width/2;break;case s.SymbolAnchor.TOP_LEFT:D=e.height;break;case s.SymbolAnchor.BOTTOM_LEFT:N=-e.width;break;case s.SymbolAnchor.TOP_RIGHT:N=e.width;break;case s.SymbolAnchor.BOTTOM_RIGHT:D=-e.height}}D+=f.offset[0]*i.sdfGlyphSize,N+=f.offset[1]*i.sdfGlyphSize;for(const s of o){const o=s.glyphMosaicItem;if(!o||o.rect.isEmpty)continue;const u=o.rect,C=o.metrics,L=o.page;if(x&&E){if(void 0!==R&&R!==s.y){let t,r,i,o;O?(t=-A+D,r=v+N,i=A-P,o=w-v):(t=v+D,r=P+N,i=w-v,o=A-P);const s={xTile:e.x,yTile:e.y,dxPixels:t*I-g,dyPixels:r*I-g,hard:!f.optional,partIndex:1,width:i*I+2*g,height:o*I+2*g,angle:p,minLod:a,maxLod:n.cInfinity};x.push(s),v=Number.POSITIVE_INFINITY,w=Number.NEGATIVE_INFINITY,P=v,A=w}R=s.y}const k=[];if(S){const t=.5*o.metrics.width,n=(s.x+C.left-4+t)*I*r.tilePixelRatio;if(_=this._placeGlyph(e,_,n,d,e.segment,1,s.vertical,L,k),m&&(_=this._placeGlyph(e,_,n,d,e.segment,-1,s.vertical,L,k)),_>=2)break}else k.push(new l(h,T,T,L,!1)),y&&m&&k.push(new l(h,T+n.cPi,T+n.cPi,L,!1));const U=s.x+C.left,F=s.y-i.sdfGlyphBaseline-C.top,G=U+C.width,B=F+C.height;let j,V,z,W,q,H,$,Z;if(!S&&O)if(s.vertical){const e=(U+G)/2-C.height/2,r=(F+B)/2+C.width/2;j=new t.Point(-r-4+D,e-4+N),V=new t.Point(j.x+u.width,j.y+u.height),z=new t.Point(j.x,V.y),W=new t.Point(V.x,j.y)}else j=new t.Point(4-F+D,U-4+N),V=new t.Point(j.x-u.height,j.y+u.width),z=new t.Point(V.x,j.y),W=new t.Point(j.x,V.y);else j=new t.Point(U-4+D,F-4+N),V=new t.Point(j.x+u.width,j.y+u.height),z=new t.Point(j.x,V.y),W=new t.Point(V.x,j.y);for(const r of k){let n,i,o,a;if(r.alternateVerticalGlyph){if(!q){const e=(U+G)/2+D,r=(F+B)/2+N;q=new t.Point(e-C.height/2-4,r+C.width/2+4),H=new t.Point(q.x+u.height,q.y-u.width),$=new t.Point(H.x,q.y),Z=new t.Point(q.x,H.y)}n=q,i=$,o=Z,a=H}else n=j,i=z,o=W,a=V;const l=F,d=B,h=r.glyphAngle+p;if(0!==h){const e=Math.cos(h),t=Math.sin(h);n=n.clone(),i=i?.clone(),o=o?.clone(),a=a?.clone(),n.rotate(e,t),a?.rotate(e,t),i?.rotate(e,t),o?.rotate(e,t)}let y=0,m=256;if(S&&O?s.vertical?r.alternateVerticalGlyph?(y=32,m=96):(y=224,m=32):(y=224,m=96):(y=192,m=64),b.push(new c(n,o,i,a,u,r.labelAngle,y,m,r.anchor,r.minzoom,r.maxzoom,r.page)),x&&(!M||this._legible(r.labelAngle)))if(E)U<v&&(v=U),l<P&&(P=l),G>w&&(w=G),d>A&&(A=d);else if(r.minzoom<2){const t={xTile:e.x,yTile:e.y,dxPixels:(U+D)*I-g,dyPixels:(l+D)*I-g,hard:!f.optional,partIndex:1,width:(G-U)*I+2*g,height:(d-l)*I+2*g,angle:h,minLod:r.minzoom,maxLod:r.maxzoom};x.push(t)}}}if(_>=2)return null;if(x&&E){let t,r,i,o;O?(t=-A+D,r=v+N,i=A-P,o=w-v):(t=v+D,r=P+N,i=w-v,o=A-P);const s={xTile:e.x,yTile:e.y,dxPixels:t*I-g,dyPixels:r*I-g,hard:!f.optional,partIndex:1,width:i*I+2*g,height:o*I+2*g,angle:p,minLod:a,maxLod:n.cInfinity};x.push(s)}const C=new u(b);return x&&x.length>0&&(C.textColliders=x),C}_legible(e){const t=n.radToByte(e);return t<65||t>=193}_placeGlyph(e,r,i,o,s,a,c,u,d){let f=a;const h=f<0?n.positiveMod(e.angle+n.cPi,n.c2pi):e.angle;let p=0;i<0&&(f*=-1,i*=-1,p=n.cPi),f>0&&++s;let y=new t.Point(e.x,e.y),m=o[s],g=n.cInfinity;if(o.length<=s)return g;for(;;){const e=m.x-y.x,t=m.y-y.y,a=Math.sqrt(e*e+t*t),_=Math.max(i/a,r),T=e/a,S=t/a,x=n.positiveMod(Math.atan2(S,T)+p,n.c2pi);if(d.push(new l(y,h,x,u,!1,_,g)),c&&d.push(new l(y,h,x,u,!0,_,g)),_<=r)return _;y=m.clone();do{if(s+=f,o.length<=s||s<0)return _;m=o[s]}while(y.isEqual(m));let b=m.x-y.x,E=m.y-y.y;const v=Math.sqrt(b*b+E*E);b*=a/v,E*=a/v,y.x-=b,y.y-=E,g=_}}},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/geometry/support/TileClipper":function(){define(["exports"],(function(e){"use strict";var t,r;e.GeometryType=void 0,(t=e.GeometryType||(e.GeometryType={}))[t.Unknown=0]="Unknown",t[t.Point=1]="Point",t[t.LineString=2]="LineString",t[t.Polygon=3]="Polygon";class n{constructor(e,t){this.x=e,this.y=t}static fromArray(e){return new n(e[0],e[1])}clone(){return new n(this.x,this.y)}equals(e,t){return e===this.x&&t===this.y}isEqual(e){return e.x===this.x&&e.y===this.y}setCoords(e,t){return this.x=e,this.y=t,this}normalize(){const e=this.x,t=this.y,r=Math.sqrt(e*e+t*t);return this.x/=r,this.y/=r,this}rightPerpendicular(){const e=this.x;return this.x=this.y,this.y=-e,this}leftPerpendicular(){const e=this.x;return this.x=-this.y,this.y=e,this}move(e,t){return this.x+=e,this.y+=t,this}assign(e){return this.x=e.x,this.y=e.y,this}assignAdd(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}assignSub(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}rotate(e,t){const r=this.x,n=this.y;return this.x=r*e-n*t,this.y=r*t+n*e,this}rotateReverse(e,t){const r=this.x,n=this.y;return this.x=r*e+n*t,this.y=-r*t+n*e,this}scale(e){return this.x*=e,this.y*=e,this}length(){const e=this.x,t=this.y;return Math.sqrt(e*e+t*t)}sub(e){return this.x-=e.x,this.y-=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}static distance(e,t){const r=t.x-e.x,n=t.y-e.y;return Math.sqrt(r*r+n*n)}static add(e,t){return new n(e.x+t.x,e.y+t.y)}static sub(e,t){return new n(e.x-t.x,e.y-t.y)}}class i{constructor(e,t,r){this.ratio=e,this.x=t,this.y=r}}!function(e){e[e.sideLeft=0]="sideLeft",e[e.sideRight=1]="sideRight",e[e.sideTop=2]="sideTop",e[e.sideBottom=3]="sideBottom"}(r||(r={}));class o{static simplify(e,t,n){if(!n)return;const i=-t,s=e+t,a=-t,l=e+t,c=[],u=[],d=n.length;for(let e=0;e<d;++e){const t=n[e];if(!t||t.length<2)continue;let o,d=t[0];const f=t.length;for(let n=1;n<f;++n)o=t[n],d.x===o.x&&(d.x<=i&&(d.y>o.y?(c.push(e),c.push(n),c.push(r.sideLeft),c.push(-1)):(u.push(e),u.push(n),u.push(r.sideLeft),u.push(-1))),d.x>=s&&(d.y<o.y?(c.push(e),c.push(n),c.push(r.sideRight),c.push(-1)):(u.push(e),u.push(n),u.push(r.sideRight),u.push(-1)))),d.y===o.y&&(d.y<=a&&(d.x<o.x?(c.push(e),c.push(n),c.push(r.sideTop),c.push(-1)):(u.push(e),u.push(n),u.push(r.sideTop),u.push(-1))),d.y>=l&&(d.x>o.x?(c.push(e),c.push(n),c.push(r.sideBottom),c.push(-1)):(u.push(e),u.push(n),u.push(r.sideBottom),u.push(-1)))),d=o}if(0===c.length||0===u.length)return;o.fillParent(n,u,c),o.fillParent(n,c,u);const f=[];o.calcDeltas(f,u,c),o.calcDeltas(f,c,u),o.addDeltas(f,n)}static fillParent(e,t,n){const i=n.length,o=t.length;for(let a=0;a<o;a+=4){const o=t[a],l=t[a+1],c=t[a+2],u=e[o][l-1],d=e[o][l];let f=8092,h=-1;for(let t=0;t<i;t+=4){if(n[t+2]!==c)continue;const i=n[t],o=n[t+1],a=e[i][o-1],l=e[i][o];switch(c){case r.sideLeft:case r.sideRight:if(s(u.y,a.y,l.y)&&s(d.y,a.y,l.y)){const e=Math.abs(l.y-a.y);e<f&&(f=e,h=t)}break;case r.sideTop:case r.sideBottom:if(s(u.x,a.x,l.x)&&s(d.x,a.x,l.x)){const e=Math.abs(l.x-a.x);e<f&&(f=e,h=t)}}}t[a+3]=h}}static calcDeltas(e,t,r){const n=t.length;for(let i=0;i<n;i+=4){const n=[],s=o.calcDelta(i,t,r,n);e.push(t[i]),e.push(t[i+1]),e.push(t[i+2]),e.push(s)}}static calcDelta(e,t,r,n){const i=t[e+3];if(-1===i)return 0;const s=n.length;return s>1&&n[s-2]===i?0:(n.push(i),o.calcDelta(i,r,t,n)+1)}static addDeltas(e,t){const n=e.length;let i=0;for(let t=0;t<n;t+=4){const r=e[t+3];r>i&&(i=r)}for(let o=0;o<n;o+=4){const n=t[e[o]],s=e[o+1],a=i-e[o+3];switch(e[o+2]){case r.sideLeft:n[s-1].x-=a,n[s].x-=a,1===s&&(n[n.length-1].x-=a),s===n.length-1&&(n[0].x-=a);break;case r.sideRight:n[s-1].x+=a,n[s].x+=a,1===s&&(n[n.length-1].x+=a),s===n.length-1&&(n[0].x+=a);break;case r.sideTop:n[s-1].y-=a,n[s].y-=a,1===s&&(n[n.length-1].y-=a),s===n.length-1&&(n[0].y-=a);break;case r.sideBottom:n[s-1].y+=a,n[s].y+=a,1===s&&(n[n.length-1].y+=a),s===n.length-1&&(n[0].y+=a)}}}}const s=(e,t,r)=>e>=t&&e<=r||e>=r&&e<=t;e.Point=n,e.SimpleBuilder=class{setExtent(e){this._ratio=4096===e?1:4096/e}get validateTessellation(){return this._ratio<1}reset(e){this._lines=[],this._line=null}moveTo(e,t){this._line&&this._lines.push(this._line),this._line=[];const r=this._ratio;this._line.push(new n(e*r,t*r))}lineTo(e,t){const r=this._ratio;this._line.push(new n(e*r,t*r))}close(){const e=this._line;e&&!e[0].isEqual(e[e.length-1])&&e.push(e[0])}result(){return this._line&&this._lines.push(this._line),0===this._lines.length?null:this._lines}},e.TileClipper=class{constructor(e,t,r,n=8,i=8){this._lines=[],this._starts=[],this.validateTessellation=!0,this._pixelRatio=n,this._pixelMargin=i,this._tileSize=512*n,this._dz=e,this._yPos=t,this._xPos=r}setPixelMargin(e){e!==this._pixelMargin&&(this._pixelMargin=e,this.setExtent(this._extent))}setExtent(e){this._extent=e,this._finalRatio=this._tileSize/e*(1<<this._dz);let t=this._pixelRatio*this._pixelMargin;t/=this._finalRatio;const r=e>>this._dz;t>r&&(t=r),this._margin=t,this._xmin=r*this._xPos-t,this._ymin=r*this._yPos-t,this._xmax=this._xmin+r+2*t,this._ymax=this._ymin+r+2*t}reset(e){this._type=e,this._lines=[],this._starts=[],this._line=null,this._start=0}moveTo(e,t){this._pushLine(),this._prevIsIn=this._isIn(e,t),this._moveTo(e,t,this._prevIsIn),this._prevPt=new n(e,t),this._firstPt=new n(e,t),this._dist=0}lineTo(e,t){const r=this._isIn(e,t),o=new n(e,t),s=n.distance(this._prevPt,o);let a,l,c,u,d,f,h,p;if(r)this._prevIsIn?this._lineTo(e,t,!0):(a=this._prevPt,l=o,c=this._intersect(l,a),this._start=this._dist+s*(1-this._r),this._lineTo(c.x,c.y,!0),this._lineTo(l.x,l.y,!0));else if(this._prevIsIn)l=this._prevPt,a=o,c=this._intersect(l,a),this._lineTo(c.x,c.y,!0),this._lineTo(a.x,a.y,!1);else{const e=this._prevPt,t=o;if(e.x<=this._xmin&&t.x<=this._xmin||e.x>=this._xmax&&t.x>=this._xmax||e.y<=this._ymin&&t.y<=this._ymin||e.y>=this._ymax&&t.y>=this._ymax)this._lineTo(t.x,t.y,!1);else{const r=[];if((e.x<this._xmin&&t.x>this._xmin||e.x>this._xmin&&t.x<this._xmin)&&(u=(this._xmin-e.x)/(t.x-e.x),p=e.y+u*(t.y-e.y),p<=this._ymin?f=!1:p>=this._ymax?f=!0:r.push(new i(u,this._xmin,p))),(e.x<this._xmax&&t.x>this._xmax||e.x>this._xmax&&t.x<this._xmax)&&(u=(this._xmax-e.x)/(t.x-e.x),p=e.y+u*(t.y-e.y),p<=this._ymin?f=!1:p>=this._ymax?f=!0:r.push(new i(u,this._xmax,p))),(e.y<this._ymin&&t.y>this._ymin||e.y>this._ymin&&t.y<this._ymin)&&(u=(this._ymin-e.y)/(t.y-e.y),h=e.x+u*(t.x-e.x),h<=this._xmin?d=!1:h>=this._xmax?d=!0:r.push(new i(u,h,this._ymin))),(e.y<this._ymax&&t.y>this._ymax||e.y>this._ymax&&t.y<this._ymax)&&(u=(this._ymax-e.y)/(t.y-e.y),h=e.x+u*(t.x-e.x),h<=this._xmin?d=!1:h>=this._xmax?d=!0:r.push(new i(u,h,this._ymax))),0===r.length)d?f?this._lineTo(this._xmax,this._ymax,!0):this._lineTo(this._xmax,this._ymin,!0):f?this._lineTo(this._xmin,this._ymax,!0):this._lineTo(this._xmin,this._ymin,!0);else if(r.length>1&&r[0].ratio>r[1].ratio)this._start=this._dist+s*r[1].ratio,this._lineTo(r[1].x,r[1].y,!0),this._lineTo(r[0].x,r[0].y,!0);else{this._start=this._dist+s*r[0].ratio;for(let e=0;e<r.length;e++)this._lineTo(r[e].x,r[e].y,!0)}this._lineTo(t.x,t.y,!1)}}this._dist+=s,this._prevIsIn=r,this._prevPt=o}close(){if(this._line.length>2){const e=this._firstPt,t=this._prevPt;e.x===t.x&&e.y===t.y||this.lineTo(e.x,e.y);const r=this._line;let n=r.length;for(;n>=4&&(r[0].x===r[1].x&&r[0].x===r[n-2].x||r[0].y===r[1].y&&r[0].y===r[n-2].y);)r.pop(),r[0].x=r[n-2].x,r[0].y=r[n-2].y,--n}}result(t=!0){return this._pushLine(),0===this._lines.length?null:(this._type===e.GeometryType.Polygon&&t&&o.simplify(this._tileSize,this._margin*this._finalRatio,this._lines),this._lines)}resultWithStarts(){if(this._type!==e.GeometryType.LineString)throw new Error("Only valid for lines");this._pushLine();const t=this._lines,r=t.length;if(0===r)return null;const n=[];for(let e=0;e<r;e++)n.push({line:t[e],start:this._starts[e]||0});return n}_isIn(e,t){return e>=this._xmin&&e<=this._xmax&&t>=this._ymin&&t<=this._ymax}_intersect(e,t){let r,i,o;if(t.x>=this._xmin&&t.x<=this._xmax)i=t.y<=this._ymin?this._ymin:this._ymax,o=(i-e.y)/(t.y-e.y),r=e.x+o*(t.x-e.x);else if(t.y>=this._ymin&&t.y<=this._ymax)r=t.x<=this._xmin?this._xmin:this._xmax,o=(r-e.x)/(t.x-e.x),i=e.y+o*(t.y-e.y);else{i=t.y<=this._ymin?this._ymin:this._ymax,r=t.x<=this._xmin?this._xmin:this._xmax;const n=(r-e.x)/(t.x-e.x),s=(i-e.y)/(t.y-e.y);n<s?(o=n,i=e.y+n*(t.y-e.y)):(o=s,r=e.x+s*(t.x-e.x))}return this._r=o,new n(r,i)}_pushLine(){this._line&&(this._type===e.GeometryType.Point?this._line.length>0&&(this._lines.push(this._line),this._starts.push(this._start)):this._type===e.GeometryType.LineString?this._line.length>1&&(this._lines.push(this._line),this._starts.push(this._start)):this._type===e.GeometryType.Polygon&&this._line.length>3&&(this._lines.push(this._line),this._starts.push(this._start))),this._line=[],this._start=0}_moveTo(t,r,i){this._type!==e.GeometryType.Polygon?i&&(t=Math.round((t-(this._xmin+this._margin))*this._finalRatio),r=Math.round((r-(this._ymin+this._margin))*this._finalRatio),this._line.push(new n(t,r))):(i||(t<this._xmin&&(t=this._xmin),t>this._xmax&&(t=this._xmax),r<this._ymin&&(r=this._ymin),r>this._ymax&&(r=this._ymax)),t=Math.round((t-(this._xmin+this._margin))*this._finalRatio),r=Math.round((r-(this._ymin+this._margin))*this._finalRatio),this._line.push(new n(t,r)),this._isH=!1,this._isV=!1)}_lineTo(t,r,i){let o,s;if(this._type!==e.GeometryType.Polygon)if(i){if(t=Math.round((t-(this._xmin+this._margin))*this._finalRatio),r=Math.round((r-(this._ymin+this._margin))*this._finalRatio),this._line.length>0&&(o=this._line[this._line.length-1],o.equals(t,r)))return;this._line.push(new n(t,r))}else this._line&&this._line.length>0&&this._pushLine();else if(i||(t<this._xmin&&(t=this._xmin),t>this._xmax&&(t=this._xmax),r<this._ymin&&(r=this._ymin),r>this._ymax&&(r=this._ymax)),t=Math.round((t-(this._xmin+this._margin))*this._finalRatio),r=Math.round((r-(this._ymin+this._margin))*this._finalRatio),this._line&&this._line.length>0){o=this._line[this._line.length-1];const e=o.x===t,i=o.y===r;if(e&&i)return;this._isH&&e||this._isV&&i?(o.x=t,o.y=r,s=this._line[this._line.length-2],s.x===t&&s.y===r?(this._line.pop(),this._line.length<=1?(this._isH=!1,this._isV=!1):(s=this._line[this._line.length-2],this._isH=s.x===t,this._isV=s.y===r)):(this._isH=s.x===t,this._isV=s.y===r)):(this._line.push(new n(t,r)),this._isH=e,this._isV=i)}else this._line.push(new n(t,r))}},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/views/2d/engine/vectorTiles/constants":function(){define(["exports"],(function(e){"use strict";e.tileCoordSize=4096,e.tileCoordinateScale=.125,e.tilePixelRatio=8,e.tilePixelSize=512,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/views/2d/engine/vectorTiles/GeometryUtils":function(){define(["exports","../../../../geometry/support/coordsUtils","../../../../geometry/support/TileClipper"],(function(e,t,r){"use strict";const n=Number.POSITIVE_INFINITY,i=Math.PI,o=2*i,s=128/i,a=256/360,l=i/180,c=1/Math.LN2;function u(e,t){return(e%=t)>=0?e:e+t}e.between=function(e,t,r){return e>=t&&e<=r||e>=r&&e<=t},e.c2pi=o,e.cDegTo256=a,e.cDegToRad=l,e.cInfinity=n,e.cPi=i,e.cRadTo256=s,e.degToByte=function(e){return u(e*a,256)},e.distanceFromToPolylineWithinThreshold=function(e,r,n,i){let o,s,a,l;const c=i*i;for(const i of n){const n=i.length;if(!(n<2)){o=i[0].x,s=i[0].y;for(let u=1;u<n;++u){if(a=i[u].x,l=i[u].y,t.distanceToSegmentSquared(e,r,o,s,a,l)<c)return!0;o=a,s=l}}}return!1},e.getTileMargins=function(e){return 8+Math.max(16*(e-14),0)},e.interpolate=function(e,t,r){return e*(1-r)+t*r},e.isCircleOverlapingRect=function(e,t,r,n,i,o,s){const a=Math.max(n,Math.min(t,o))-t,l=Math.max(i,Math.min(r,s))-r;return a*a+l*l<=e*e},e.log2=function(e){return Math.log(e)*c},e.offsetLine=function(e,t){if(0===t||Number.isNaN(t))return e;const n=[],i=new r.Point(0,0),o=new r.Point(0,0),s=new r.Point(0,0);for(let a=0;a<e.length;a++){const l=e[a],c=[];for(let e=0;e<l.length;e++){const n=l[e-1],a=l[e],u=l[e+1];0===e?i.setCoords(0,0):i.assignSub(a,n).normalize().rightPerpendicular(),e===l.length-1?o.setCoords(0,0):o.assignSub(u,a).normalize().rightPerpendicular(),s.assignAdd(i,o).normalize();const d=s.x*o.x+s.y*o.y;0!==d&&s.scale(1/d),c.push(r.Point.add(a,s.scale(t)))}n.push(c)}return n},e.pointInPolygon=function(e,t,r){let n,i,o,s=0;for(const a of r){n=a.length;for(let r=1;r<n;++r)i=a[r-1],o=a[r],i.y>t!=o.y>t&&((o.x-i.x)*(t-i.y)-(o.y-i.y)*(e-i.x)>0?s++:s--)}return 0!==s},e.positiveMod=u,e.radToByte=function(e){return u(e*s,256)},e.sqr=function(e){return e*e},e.translateAnchor=function(e,t,n,i){const o=new r.Point(e[0],e[1]);if(o.scale(i),"viewport"===t){const e=-n*(Math.PI/180),t=Math.cos(e),r=Math.sin(e);o.rotate(t,r)}return o},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/views/2d/engine/vectorTiles/TextShaping":function(){define(["exports","./ScriptUtils","../webgl/Rect"],(function(e,t,r){"use strict";e.TextShaping=class{constructor(e,t,r,n,i,o,s){this._glyphItems=e,this._maxWidth=t,this._lineHeight=r,this._letterSpacing=n,this._hAnchor=i,this._vAnchor=o,this._justify=s}getShaping(e,r,n){const i=this._letterSpacing,o=this._lineHeight,s=this._justify,a=this._maxWidth,l=[];let c=0,u=0;for(const r of e){const e=r.codePointAt(0);if(null==e)continue;const o=n&&t.hasVerticalOrientation(e);let s;for(const t of this._glyphItems)if(s=t[e],s)break;l.push({codePoint:e,x:c,y:u,vertical:o,glyphMosaicItem:s}),s&&(c+=s.metrics.advance+i)}let d=c;a>0&&(d=c/Math.max(1,Math.ceil(c/a)));const f=e.includes("​"),h=[],p=l.length;for(let e=0;e<p-1;e++){const r=l[e].codePoint,n=t.allowsIdeographicBreak(r);if(t.isLineBreak(r)||n){let t=0;if(10===r)t-=1e4;else if(n&&f)t+=150;else{40!==r&&65288!==r||(t+=50);const n=l[e+1].codePoint;41!==n&&65289!==n||(t+=50)}h.push(this._buildBreak(e+1,l[e].x,d,h,t,!1))}}const y=this._optimalBreaks(this._buildBreak(p,c,d,h,0,!0));let m=0;const g=r?-o:o;let _=0;for(let e=0;e<y.length;e++){const r=y[e];let n=_;for(;n<r&&t.isWhiteSpace(l[n].codePoint);)l[n].glyphMosaicItem=null,++n;let i=r-1;for(;i>n&&t.isWhiteSpace(l[i].codePoint);)l[i].glyphMosaicItem=null,--i;if(n<=i){const e=l[n].x;for(let t=n;t<=i;t++)l[t].x-=e,l[t].y=u;let t=l[i].x;l[i].glyphMosaicItem&&(t+=l[i].glyphMosaicItem.metrics.advance),m=Math.max(t,m),s&&this._applyJustification(l,n,i)}_=r,u+=g}if(l.length>0){const e=y.length-1,t=(s-this._hAnchor)*m;let n=(-this._vAnchor*(e+1)+.5)*o;r&&e&&(n+=e*o);for(const e of l)e.x+=t,e.y+=n}return l.filter((e=>e.glyphMosaicItem))}static getTextBox(e,t){if(!e.length)return null;let r=1/0,n=1/0,i=0,o=0;for(const s of e){const e=s.glyphMosaicItem.metrics.advance,a=s.x,l=s.y-17,c=a+e,u=l+t;r=Math.min(r,a),i=Math.max(i,c),n=Math.min(n,l),o=Math.max(o,u)}return{x:r,y:n,width:i-r,height:o-n}}static getBox(e){if(!e.length)return null;let t=1/0,r=1/0,n=0,i=0;for(const o of e){const{height:e,left:s,top:a,width:l}=o.glyphMosaicItem.metrics,c=o.x,u=o.y-(e-Math.abs(a)),d=c+l+s,f=u+e;t=Math.min(t,c),n=Math.max(n,d),r=Math.min(r,u),i=Math.max(i,f)}return{x:t,y:r,width:n-t,height:i-r}}static addDecoration(e,t){const n=e.length;if(0===n)return;let i=e[0].x+e[0].glyphMosaicItem.metrics.left,o=e[0].y;for(let s=1;s<n;s++){const n=e[s];if(n.y!==o){const a=e[s-1].x+e[s-1].glyphMosaicItem.metrics.left+e[s-1].glyphMosaicItem.metrics.width;e.push({codePoint:0,x:i,y:o+t-3,vertical:!1,glyphMosaicItem:{sdf:!0,rect:new r(4,0,4,8),metrics:{width:a-i,height:8,left:0,top:0,advance:0},page:0,code:0}}),o=n.y,i=n.x+n.glyphMosaicItem.metrics.left}}const s=e[n-1].x+e[n-1].glyphMosaicItem.metrics.left+e[n-1].glyphMosaicItem.metrics.width;e.push({codePoint:0,x:i,y:o+t-3,vertical:!1,glyphMosaicItem:{sdf:!0,rect:new r(4,0,4,8),metrics:{width:s-i,height:8,left:0,top:0,advance:0},page:0,code:0}})}_breakScore(e,t,r,n){const i=(e-t)*(e-t);return n?e<t?i/2:2*i:i+Math.abs(r)*r}_buildBreak(e,t,r,n,i,o){let s=null,a=this._breakScore(t,r,i,o);for(const e of n){const n=t-e.x,l=this._breakScore(n,r,i,o)+e.score;l<=a&&(s=e,a=l)}return{index:e,x:t,score:a,previousBreak:s}}_optimalBreaks(e){return e?this._optimalBreaks(e.previousBreak).concat(e.index):[]}_applyJustification(e,t,r){const n=e[r],i=n.vertical?24:n.glyphMosaicItem?n.glyphMosaicItem.metrics.advance:0,o=(n.x+i)*this._justify;for(let n=t;n<=r;n++)e[n].x-=o}},e.sdfGlyphBaseline=17,e.sdfGlyphSize=24,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/views/2d/engine/vectorTiles/ScriptUtils":function(){define(["exports"],(function(e){"use strict";e.allowsIdeographicBreak=function(e){return!(e<11904)&&(e>=12704&&e<=12735||e>=12544&&e<=12591||e>=65072&&e<=65103||e>=63744&&e<=64255||e>=13056&&e<=13311||e>=11904&&e<=12031||e>=12736&&e<=12783||e>=12288&&e<=12351||e>=13312&&e<=19903||e>=19968&&e<=40959||e>=12800&&e<=13055||e>=65280&&e<=65519||e>=12352&&e<=12447||e>=12272&&e<=12287||e>=12032&&e<=12255||e>=12784&&e<=12799||e>=12448&&e<=12543||e>=65040&&e<=65055||e>=42128&&e<=42191||e>=40960&&e<=42127)},e.hasVerticalOrientation=function(e){return 746===e||747===e||!(e<4352)&&(e>=12704&&e<=12735||e>=12544&&e<=12591||e>=65072&&e<=65103&&!(e>=65097&&e<=65103)||e>=63744&&e<=64255||e>=13056&&e<=13311||e>=11904&&e<=12031||e>=12736&&e<=12783||e>=12288&&e<=12351&&!(e>=12296&&e<=12305||e>=12308&&e<=12319||12336===e)||e>=13312&&e<=19903||e>=19968&&e<=40959||e>=12800&&e<=13055||e>=12592&&e<=12687||e>=43360&&e<=43391||e>=55216&&e<=55295||e>=4352&&e<=4607||e>=44032&&e<=55215||e>=12352&&e<=12447||e>=12272&&e<=12287||e>=12688&&e<=12703||e>=12032&&e<=12255||e>=12784&&e<=12799||e>=12448&&e<=12543&&12540!==e||e>=65280&&e<=65519&&!(65288===e||65289===e||65293===e||e>=65306&&e<=65310||65339===e||65341===e||65343===e||e>=65371&&e<=65503||65507===e||e>=65512&&e<=65519)||e>=65104&&e<=65135&&!(e>=65112&&e<=65118||e>=65123&&e<=65126)||e>=5120&&e<=5759||e>=6320&&e<=6399||e>=65040&&e<=65055||e>=19904&&e<=19967||e>=40960&&e<=42127||e>=42128&&e<=42191)},e.isLineBreak=function(e){switch(e){case 10:case 32:case 38:case 40:case 41:case 43:case 45:case 47:case 173:case 183:case 8203:case 8208:case 8211:case 8231:return!0}return!1},e.isWhiteSpace=function(e){switch(e){case 9:case 10:case 11:case 12:case 13:case 32:return!0}return!1},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/views/2d/engine/webgl/Rect":function(){define((function(){"use strict";return class{constructor(e=0,t=0,r=0,n=0){this.x=e,this.y=t,this.width=r,this.height=n}get isEmpty(){return this.width<=0||this.height<=0}union(e){this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.width=Math.max(this.width,e.width),this.height=Math.max(this.height,e.height)}}}))},"esri/views/2d/engine/vectorTiles/decluttering/config":function(){define(["exports"],(function(e){"use strict";e.collisionGridCellSize=32,e.declutterBudget=1.5,e.declutterTiles=!0,e.fadeDuration=200,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/views/2d/engine/vectorTiles/style/StyleDefinition":function(){define(["exports","../../../../../symbols/cim/enums"],(function(e,t){"use strict";var r,n,i,o,s,a,l,c,u;e.StyleLayerType=void 0,(r=e.StyleLayerType||(e.StyleLayerType={}))[r.BACKGROUND=0]="BACKGROUND",r[r.FILL=1]="FILL",r[r.LINE=2]="LINE",r[r.SYMBOL=3]="SYMBOL",r[r.CIRCLE=4]="CIRCLE",e.Visibility=void 0,(n=e.Visibility||(e.Visibility={}))[n.VISIBLE=0]="VISIBLE",n[n.NONE=1]="NONE",e.SymbolPlacement=void 0,(i=e.SymbolPlacement||(e.SymbolPlacement={}))[i.POINT=0]="POINT",i[i.LINE=1]="LINE",i[i.LINE_CENTER=2]="LINE_CENTER",e.RotationAlignment=void 0,(o=e.RotationAlignment||(e.RotationAlignment={}))[o.MAP=0]="MAP",o[o.VIEWPORT=1]="VIEWPORT",o[o.AUTO=2]="AUTO",e.TextJustification=void 0,(s=e.TextJustification||(e.TextJustification={}))[s.AUTO=0]="AUTO",s[s.LEFT=1]="LEFT",s[s.CENTER=2]="CENTER",s[s.RIGHT=3]="RIGHT",e.SymbolAnchor=void 0,(a=e.SymbolAnchor||(e.SymbolAnchor={}))[a.CENTER=0]="CENTER",a[a.LEFT=1]="LEFT",a[a.RIGHT=2]="RIGHT",a[a.TOP=3]="TOP",a[a.BOTTOM=4]="BOTTOM",a[a.TOP_LEFT=5]="TOP_LEFT",a[a.TOP_RIGHT=6]="TOP_RIGHT",a[a.BOTTOM_LEFT=7]="BOTTOM_LEFT",a[a.BOTTOM_RIGHT=8]="BOTTOM_RIGHT",e.TextTransform=void 0,(l=e.TextTransform||(e.TextTransform={}))[l.NONE=0]="NONE",l[l.UPPERCASE=1]="UPPERCASE",l[l.LOWERCASE=2]="LOWERCASE",e.TranslateAnchor=void 0,(c=e.TranslateAnchor||(e.TranslateAnchor={}))[c.MAP=0]="MAP",c[c.VIEWPORT=1]="VIEWPORT",e.TextWritingMode=void 0,(u=e.TextWritingMode||(e.TextWritingMode={}))[u.HORIZONTAL=0]="HORIZONTAL",u[u.VERTICAL=1]="VERTICAL";class d{static{this.backgroundLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:e.Visibility.VISIBLE}}}static{this.fillLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:e.Visibility.VISIBLE}}}static{this.lineLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:e.Visibility.VISIBLE},"line-cap":{type:"enum",values:["butt","round","square"],default:t.CapType.BUTT},"line-join":{type:"enum",values:["bevel","round","miter"],default:t.JoinType.MITER},"line-miter-limit":{type:"number",default:2},"line-round-limit":{type:"number",default:1.05}}}static{this.symbolLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:e.Visibility.VISIBLE},"symbol-avoid-edges":{type:"boolean",default:!1},"symbol-placement":{type:"enum",values:["point","line","line-center"],default:e.SymbolPlacement.POINT},"symbol-sort-key":{type:"number",default:-1},"symbol-spacing":{type:"number",minimum:1,default:250},"icon-allow-overlap":{type:"boolean",default:!1},"icon-anchor":{type:"enum",values:["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"],default:e.SymbolAnchor.CENTER},"icon-ignore-placement":{type:"boolean",default:!1},"icon-image":{type:"string"},"icon-keep-upright":{type:"boolean",default:!1},"icon-offset":{type:"array",value:"number",length:2,default:[0,0]},"icon-optional":{type:"boolean",default:!1},"icon-padding":{type:"number",minimum:0,default:2},"icon-rotate":{type:"number",default:0},"icon-rotation-alignment":{type:"enum",values:["map","viewport","auto"],default:e.RotationAlignment.AUTO},"icon-size":{type:"number",minimum:0,default:1},"text-allow-overlap":{type:"boolean",default:!1},"text-anchor":{type:"enum",values:["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"],default:e.SymbolAnchor.CENTER},"text-field":{type:"string"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"]},"text-ignore-placement":{type:"boolean",default:!1},"text-justify":{type:"enum",values:["auto","left","center","right"],default:e.TextJustification.CENTER},"text-keep-upright":{type:"boolean",default:!0},"text-letter-spacing":{type:"number",default:0},"text-line-height":{type:"number",default:1.2},"text-max-angle":{type:"number",minimum:0,default:45},"text-max-width":{type:"number",minimum:0,default:10},"text-offset":{type:"array",value:"number",length:2,default:[0,0]},"text-optional":{type:"boolean",default:!1},"text-padding":{type:"number",minimum:0,default:2},"text-rotate":{type:"number",default:0},"text-rotation-alignment":{type:"enum",values:["map","viewport","auto"],default:e.RotationAlignment.AUTO},"text-size":{type:"number",minimum:0,default:16},"text-transform":{type:"enum",values:["none","uppercase","lowercase"],default:e.TextTransform.NONE},"text-writing-mode":{type:"array",value:"enum",values:["horizontal","vertical"],default:[e.TextWritingMode.HORIZONTAL]}}}static{this.circleLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:e.Visibility.VISIBLE}}}static{this.backgroundPaintDefinition={"background-color":{type:"color",default:[0,0,0,1]},"background-opacity":{type:"number",minimum:0,maximum:1,default:1},"background-pattern":{type:"string"}}}static{this.fillPaintDefinition={"fill-antialias":{type:"boolean",default:!0},"fill-color":{type:"color",default:[0,0,0,1]},"fill-opacity":{type:"number",minimum:0,maximum:1,default:1},"fill-outline-color":{type:"color",default:[0,0,0,0]},"fill-pattern":{type:"string"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0]},"fill-translate-anchor":{type:"enum",values:["map","viewport"],default:e.TranslateAnchor.MAP}}}static{this.linePaintDefinition={"line-blur":{type:"number",minimum:0,default:0},"line-color":{type:"color",default:[0,0,0,1]},"line-dasharray":{type:"array",value:"number",default:[]},"line-gap-width":{type:"number",minimum:0,default:0},"line-offset":{type:"number",default:0},"line-opacity":{type:"number",minimum:0,maximum:1,default:1},"line-pattern":{type:"string"},"line-translate":{type:"array",value:"number",length:2,default:[0,0]},"line-translate-anchor":{type:"enum",values:["map","viewport"],default:e.TranslateAnchor.MAP},"line-width":{type:"number",minimum:0,default:1}}}static{this.symbolPaintDefinition={"icon-color":{type:"color",default:[0,0,0,1]},"icon-halo-blur":{type:"number",minimum:0,default:0},"icon-halo-color":{type:"color",default:[0,0,0,0]},"icon-halo-width":{type:"number",minimum:0,default:0},"icon-opacity":{type:"number",minimum:0,maximum:1,default:1},"icon-translate":{type:"array",value:"number",length:2,default:[0,0]},"icon-translate-anchor":{type:"enum",values:["map","viewport"],default:e.TranslateAnchor.MAP},"text-color":{type:"color",default:[0,0,0,1]},"text-halo-blur":{type:"number",minimum:0,default:0},"text-halo-color":{type:"color",default:[0,0,0,0]},"text-halo-width":{type:"number",minimum:0,default:0},"text-opacity":{type:"number",minimum:0,maximum:1,default:1},"text-translate":{type:"array",value:"number",length:2,default:[0,0]},"text-translate-anchor":{type:"enum",values:["map","viewport"],default:e.TranslateAnchor.MAP}}}static{this.rasterPaintDefinition={"raster-opacity":{type:"number",minimum:0,maximum:1,default:1},"raster-hue-rotate":{type:"number",default:0},"raster-brightness-min":{type:"number",minimum:0,maximum:1,default:0},"raster-brightness-max":{type:"number",minimum:0,maximum:1,default:1},"raster-saturation":{type:"number",minimum:-1,maximum:1,default:0},"raster-contrast":{type:"number",minimum:-1,maximum:1,default:0},"raster-fade-duration":{type:"number",minimum:0,default:300}}}static{this.circlePaintDefinition={"circle-blur":{type:"number",minimum:0,default:0},"circle-color":{type:"color",default:[0,0,0,1]},"circle-opacity":{type:"number",minimum:0,maximum:1,default:1},"circle-radius":{type:"number",minimum:0,default:5},"circle-stroke-color":{type:"color",default:[0,0,0,1]},"circle-stroke-opacity":{type:"number",minimum:0,maximum:1,default:1},"circle-stroke-width":{type:"number",minimum:0,default:0},"circle-translate":{type:"array",value:"number",length:2,default:[0,0]},"circle-translate-anchor":{type:"enum",values:["map","viewport"],default:e.TranslateAnchor.MAP}}}}e.StyleDefinition=d,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/symbols/cim/enums":function(){define(["exports"],(function(e){"use strict";var t,r,n,i,o,s,a,l,c,u,d,f,h,p,y,m,g,_,T,S,x,b,E,v,w,P,A,M,I,O,R,D,N,C,L,k,U,F,G,B,j,V,z,W,q,H,$,Z,Y,J,K,X,Q,ee,te,re,ne,ie,oe,se,ae,le,ce;e.CapType=void 0,(t=e.CapType||(e.CapType={}))[t.BUTT=0]="BUTT",t[t.ROUND=1]="ROUND",t[t.SQUARE=2]="SQUARE",t[t.UNKNOWN=4]="UNKNOWN",e.JoinType=void 0,(r=e.JoinType||(e.JoinType={}))[r.BEVEL=0]="BEVEL",r[r.ROUND=1]="ROUND",r[r.MITER=2]="MITER",r[r.UNKNOWN=4]="UNKNOWN",e.Alignment=void 0,(n=e.Alignment||(e.Alignment={}))[n.SCREEN=0]="SCREEN",n[n.MAP=1]="MAP",e.ExternalColorMixMode=void 0,(i=e.ExternalColorMixMode||(e.ExternalColorMixMode={}))[i.Tint=0]="Tint",i[i.Ignore=1]="Ignore",i[i.Multiply=99]="Multiply",e.ExtremityPlacement=void 0,(o=e.ExtremityPlacement||(e.ExtremityPlacement={})).Both="Both",o.JustBegin="JustBegin",o.JustEnd="JustEnd",o.None="None",e.FillMode=void 0,(s=e.FillMode||(e.FillMode={}))[s.Mosaic=0]="Mosaic",s[s.Centered=1]="Centered",e.FontEffects=void 0,(a=e.FontEffects||(e.FontEffects={}))[a.Normal=0]="Normal",a[a.Superscript=1]="Superscript",a[a.Subscript=2]="Subscript",e.FontEncoding=void 0,(l=e.FontEncoding||(e.FontEncoding={}))[l.MSSymbol=0]="MSSymbol",l[l.Unicode=1]="Unicode",e.FontType=void 0,(c=e.FontType||(e.FontType={}))[c.Unspecified=0]="Unspecified",c[c.TrueType=1]="TrueType",c[c.PSOpenType=2]="PSOpenType",c[c.TTOpenType=3]="TTOpenType",c[c.Type1=4]="Type1",e.AngleAlignment=void 0,(u=e.AngleAlignment||(e.AngleAlignment={}))[u.Display=0]="Display",u[u.Map=1]="Map",e.AnimatedSymbolRepeatType=void 0,(d=e.AnimatedSymbolRepeatType||(e.AnimatedSymbolRepeatType={})).None="None",d.Loop="Loop",d.Oscillate="Oscillate",e.AnimatedSymbolEasingType=void 0,(f=e.AnimatedSymbolEasingType||(e.AnimatedSymbolEasingType={})).Linear="Linear",f.EaseIn="EaseIn",f.EaseOut="EaseOut",f.EaseInOut="EaseInOut",e.DominantSizeAxis=void 0,(h=e.DominantSizeAxis||(e.DominantSizeAxis={}))[h.Z=0]="Z",h[h.X=1]="X",h[h.Y=2]="Y",e.RotationOrder=void 0,(p=e.RotationOrder||(e.RotationOrder={}))[p.XYZ=0]="XYZ",p[p.ZXY=1]="ZXY",p[p.YXZ=2]="YXZ",e.BalloonCalloutStyle=void 0,(y=e.BalloonCalloutStyle||(e.BalloonCalloutStyle={}))[y.Rectangle=0]="Rectangle",y[y.RoundedRectangle=1]="RoundedRectangle",y[y.Oval=2]="Oval",e.BlendingMode=void 0,(m=e.BlendingMode||(e.BlendingMode={}))[m.None=0]="None",m[m.Alpha=1]="Alpha",m[m.Screen=2]="Screen",m[m.Multiply=3]="Multiply",m[m.Add=4]="Add",e.BlockProgression=void 0,(g=e.BlockProgression||(e.BlockProgression={}))[g.TTB=0]="TTB",g[g.RTL=1]="RTL",g[g.BTT=2]="BTT",e.BillBoardMode=void 0,(_=e.BillBoardMode||(e.BillBoardMode={}))[_.None=0]="None",_[_.SignPost=1]="SignPost",_[_.FaceNearPlane=2]="FaceNearPlane",e.CGAAttributeType=void 0,(T=e.CGAAttributeType||(e.CGAAttributeType={}))[T.Float=0]="Float",T[T.String=1]="String",T[T.Boolean=2]="Boolean",e.ClippingType=void 0,(S=e.ClippingType||(e.ClippingType={}))[S.Intersect=0]="Intersect",S[S.Subtract=1]="Subtract",e.GeometricEffectArrowType=void 0,(x=e.GeometricEffectArrowType||(e.GeometricEffectArrowType={})).OpenEnded="OpenEnded",x.Block="Block",x.Crossed="Crossed",e.GeometricEffectControlMeasureLineRule=void 0,(b=e.GeometricEffectControlMeasureLineRule||(e.GeometricEffectControlMeasureLineRule={})).FullGeometry="FullGeometry",b.PerpendicularFromFirstSegment="PerpendicularFromFirstSegment",b.ReversedFirstSegment="ReversedFirstSegment",b.PerpendicularToSecondSegment="PerpendicularToSecondSegment",b.SecondSegmentWithTicks="SecondSegmentWithTicks",b.DoublePerpendicular="DoublePerpendicular",b.OppositeToFirstSegment="OppositeToFirstSegment",b.TriplePerpendicular="TriplePerpendicular",b.HalfCircleFirstSegment="HalfCircleFirstSegment",b.HalfCircleSecondSegment="HalfCircleSecondSegment",b.HalfCircleExtended="HalfCircleExtended",b.OpenCircle="OpenCircle",b.CoverageEdgesWithTicks="CoverageEdgesWithTicks",b.GapExtentWithDoubleTicks="GapExtentWithDoubleTicks",b.GapExtentMidline="GapExtentMidline",b.Chevron="Chevron",b.PerpendicularWithArc="PerpendicularWithArc",b.ClosedHalfCircle="ClosedHalfCircle",b.TripleParallelExtended="TripleParallelExtended",b.ParallelWithTicks="ParallelWithTicks",b.Parallel="Parallel",b.PerpendicularToFirstSegment="PerpendicularToFirstSegment",b.ParallelOffset="ParallelOffset",b.OffsetOpposite="OffsetOpposite",b.OffsetSame="OffsetSame",b.CircleWithArc="CircleWithArc",b.DoubleJog="DoubleJog",b.PerpendicularOffset="PerpendicularOffset",b.LineExcludingLastSegment="LineExcludingLastSegment",b.MultivertexArrow="MultivertexArrow",b.CrossedArrow="CrossedArrow",b.ChevronArrow="ChevronArrow",b.ChevronArrowOffset="ChevronArrowOffset",b.PartialFirstSegment="PartialFirstSegment",b.Arch="Arch",b.CurvedParallelTicks="CurvedParallelTicks",b.Arc90Degrees="Arc90Degrees",b.TipWithPerpendicularAndTicks="TipWithPerpendicularAndTicks",b.ConcentricCircles="ConcentricCircles",b.DoubleJogArrow="DoubleJogArrow",b.LinkedChevrons="LinkedChevrons",b.SegmentThenHalfCircle="SegmentThenHalfCircle",b.LineWithStraightTicks="LineWithStraightTicks",b.DoubleCurve="DoubleCurve",b.ParallelWithTicksByWidth="ParallelWithTicksByWidth",b.EnclosingRoundedRectangle="EnclosingRoundedRectangle",e.GeometricEffectDonutMethod=void 0,(E=e.GeometricEffectDonutMethod||(e.GeometricEffectDonutMethod={})).Mitered="Mitered",E.Bevelled="Bevelled",E.Rounded="Rounded",E.Square="Square",E.TrueBuffer="TrueBuffer",e.GeometricEffectEnclosingPolygonMethod=void 0,(v=e.GeometricEffectEnclosingPolygonMethod||(e.GeometricEffectEnclosingPolygonMethod={})).ClosePath="ClosePath",v.ConvexHull="ConvexHull",v.RectangularBox="RectangularBox",e.GeometricEffectExtensionOrigin=void 0,(w=e.GeometricEffectExtensionOrigin||(e.GeometricEffectExtensionOrigin={})).BeginningOfLine="BeginningOfLine",w.EndOfLine="EndOfLine",e.GeometricEffectOffsetMethod=void 0,(P=e.GeometricEffectOffsetMethod||(e.GeometricEffectOffsetMethod={})).Mitered="Mitered",P.Bevelled="Bevelled",P.Rounded="Rounded",P.Square="Square",e.GeometricEffectOffsetOption=void 0,(A=e.GeometricEffectOffsetOption||(e.GeometricEffectOffsetOption={})).Fast="Fast",A.Accurate="Accurate",e.GeometricEffectOffsetTangentMethod=void 0,(M=e.GeometricEffectOffsetTangentMethod||(e.GeometricEffectOffsetTangentMethod={})).BeginningOfLine="BeginningOfLine",M.EndOfLine="EndOfLine",e.GeometricEffectWaveform=void 0,(I=e.GeometricEffectWaveform||(e.GeometricEffectWaveform={})).Sinus="Sinus",I.Square="Square",I.Triangle="Triangle",I.Random="Random",e.GlyphHinting=void 0,(O=e.GlyphHinting||(e.GlyphHinting={}))[O.None=0]="None",O[O.Default=1]="Default",O[O.Force=2]="Force",e.GradientAlignment=void 0,(R=e.GradientAlignment||(e.GradientAlignment={}))[R.Buffered=0]="Buffered",R[R.Left=1]="Left",R[R.Right=2]="Right",R[R.AlongLine=3]="AlongLine",e.GradientFillMethod=void 0,(D=e.GradientFillMethod||(e.GradientFillMethod={}))[D.Linear=0]="Linear",D[D.Rectangular=1]="Rectangular",D[D.Circular=2]="Circular",D[D.Buffered=3]="Buffered",e.GradientStrokeType=void 0,(N=e.GradientStrokeType||(e.GradientStrokeType={}))[N.Discrete=0]="Discrete",N[N.Continuous=1]="Continuous",e.GradientStrokeMethod=void 0,(C=e.GradientStrokeMethod||(e.GradientStrokeMethod={}))[C.AcrossLine=0]="AcrossLine",C[C.AlongLine=1]="AlongLine",e.PolarDirection=void 0,(L=e.PolarDirection||(e.PolarDirection={}))[L.Auto=0]="Auto",L[L.Clockwise=1]="Clockwise",L[L.Counterclockwise=2]="Counterclockwise",e.HorizontalAlignment=void 0,(k=e.HorizontalAlignment||(e.HorizontalAlignment={}))[k.Left=0]="Left",k[k.Right=1]="Right",k[k.Center=2]="Center",k[k.Justify=3]="Justify",e.LeaderLineStyle=void 0,(U=e.LeaderLineStyle||(e.LeaderLineStyle={}))[U.Base=0]="Base",U[U.MidPoint=1]="MidPoint",U[U.ThreePoint=2]="ThreePoint",U[U.FourPoint=3]="FourPoint",U[U.Underline=4]="Underline",U[U.CircularCW=5]="CircularCW",U[U.CircularCCW=6]="CircularCCW",e.LineCapStyle=void 0,(F=e.LineCapStyle||(e.LineCapStyle={})).Butt="Butt",F.Round="Round",F.Square="Square",e.LineDashEnding=void 0,(G=e.LineDashEnding||(e.LineDashEnding={})).NoConstraint="NoConstraint",G.HalfPattern="HalfPattern",G.HalfGap="HalfGap",G.FullPattern="FullPattern",G.FullGap="FullGap",G.Custom="Custom",e.LineDecorationStyle=void 0,(B=e.LineDecorationStyle||(e.LineDecorationStyle={}))[B.None=-1]="None",B[B.Custom=0]="Custom",B[B.Circle=1]="Circle",B[B.OpenArrow=2]="OpenArrow",B[B.ClosedArrow=3]="ClosedArrow",B[B.Diamond=4]="Diamond",e.LineGapType=void 0,(j=e.LineGapType||(e.LineGapType={}))[j.ExtraLeading=0]="ExtraLeading",j[j.Multiple=1]="Multiple",j[j.Exact=2]="Exact",e.LineJoinStyle=void 0,(V=e.LineJoinStyle||(e.LineJoinStyle={})).Bevel="Bevel",V.Round="Round",V.Miter="Miter",e.ExpressionReturnType=void 0,(z=e.ExpressionReturnType||(e.ExpressionReturnType={}))[z.Default=0]="Default",z[z.String=1]="String",z[z.Numeric=2]="Numeric",e.MarkerPlacementType=void 0,(W=e.MarkerPlacementType||(e.MarkerPlacementType={}))[W.InsidePolygon=0]="InsidePolygon",W[W.PolygonCenter=1]="PolygonCenter",W[W.RandomlyInsidePolygon=2]="RandomlyInsidePolygon",e.MaterialMode=void 0,(q=e.MaterialMode||(e.MaterialMode={}))[q.Tint=0]="Tint",q[q.Replace=1]="Replace",q[q.Multiply=2]="Multiply",e.PlacementClip=void 0,(H=e.PlacementClip||(e.PlacementClip={}))[H.ClipAtBoundary=0]="ClipAtBoundary",H[H.RemoveIfCenterOutsideBoundary=1]="RemoveIfCenterOutsideBoundary",H[H.DoNotTouchBoundary=2]="DoNotTouchBoundary",H[H.DoNotClip=3]="DoNotClip",e.PlacementEndings=void 0,($=e.PlacementEndings||(e.PlacementEndings={})).NoConstraint="NoConstraint",$.WithMarkers="WithMarkers",$.WithFullGap="WithFullGap",$.WithHalfGap="WithHalfGap",$.Custom="Custom",e.PlacementGridType=void 0,(Z=e.PlacementGridType||(e.PlacementGridType={})).Fixed="Fixed",Z.Random="Random",Z.RandomFixedQuantity="RandomFixedQuantity",e.PlacementOnLineRelativeTo=void 0,(Y=e.PlacementOnLineRelativeTo||(e.PlacementOnLineRelativeTo={})).LineMiddle="LineMiddle",Y.LineBeginning="LineBeginning",Y.LineEnd="LineEnd",Y.SegmentMidpoint="SegmentMidpoint",e.PlacementPolygonCenterMethod=void 0,(J=e.PlacementPolygonCenterMethod||(e.PlacementPolygonCenterMethod={})).OnPolygon="OnPolygon",J.CenterOfMass="CenterOfMass",J.BoundingBoxCenter="BoundingBoxCenter",e.PlacementRandomlyAlongLineRandomization=void 0,(K=e.PlacementRandomlyAlongLineRandomization||(e.PlacementRandomlyAlongLineRandomization={}))[K.Low=0]="Low",K[K.Medium=1]="Medium",K[K.High=2]="High",e.PlacementStepPosition=void 0,(X=e.PlacementStepPosition||(e.PlacementStepPosition={}))[X.MarkerCenter=0]="MarkerCenter",X[X.MarkerBounds=1]="MarkerBounds",e.PointSymbolCalloutScale=void 0,(Q=e.PointSymbolCalloutScale||(e.PointSymbolCalloutScale={}))[Q.None=0]="None",Q[Q.PropUniform=1]="PropUniform",Q[Q.PropNonuniform=2]="PropNonuniform",Q[Q.DifUniform=3]="DifUniform",Q[Q.DifNonuniform=4]="DifNonuniform",e.Simple3DLineStyle=void 0,(ee=e.Simple3DLineStyle||(e.Simple3DLineStyle={})).Tube="Tube",ee.Strip="Strip",ee.Wall="Wall",e.SizeVariationMethod=void 0,(te=e.SizeVariationMethod||(e.SizeVariationMethod={}))[te.Random=0]="Random",te[te.Increasing=1]="Increasing",te[te.Decreasing=2]="Decreasing",te[te.IncreasingThenDecreasing=3]="IncreasingThenDecreasing",e.SymbolUnits=void 0,(re=e.SymbolUnits||(e.SymbolUnits={}))[re.Relative=0]="Relative",re[re.Absolute=1]="Absolute",e.TextCase=void 0,(ne=e.TextCase||(e.TextCase={}))[ne.Normal=0]="Normal",ne[ne.LowerCase=1]="LowerCase",ne[ne.Allcaps=2]="Allcaps",e.TextReadingDirection=void 0,(ie=e.TextReadingDirection||(e.TextReadingDirection={}))[ie.LTR=0]="LTR",ie[ie.RTL=1]="RTL",e.TextureFilter=void 0,(oe=e.TextureFilter||(e.TextureFilter={})).Draft="Draft",oe.Picture="Picture",oe.Text="Text",e.VerticalAlignment=void 0,(se=e.VerticalAlignment||(e.VerticalAlignment={}))[se.Top=0]="Top",se[se.Center=1]="Center",se[se.Baseline=2]="Baseline",se[se.Bottom=3]="Bottom",e.VerticalGlyphOrientation=void 0,(ae=e.VerticalGlyphOrientation||(e.VerticalGlyphOrientation={}))[ae.Right=0]="Right",ae[ae.Upright=1]="Upright",e.WaterbodySize=void 0,(le=e.WaterbodySize||(e.WaterbodySize={}))[le.Small=0]="Small",le[le.Medium=1]="Medium",le[le.Large=2]="Large",e.WaveStrength=void 0,(ce=e.WaveStrength||(e.WaveStrength={}))[ce.Calm=0]="Calm",ce[ce.Rippled=1]="Rippled",ce[ce.Slight=2]="Slight",ce[ce.Moderate=3]="Moderate",Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/views/2d/engine/vectorTiles/TileParser":function(){define(["../../../../core/pbf","../../../../core/promiseUtils","../../../../geometry/libtess","../../../../geometry/support/TileClipper","./Feature","./GeometryUtils","./IndexMemoryBuffer","./SourceLayerData","./VertexMemoryBuffer","./buckets/CircleBucket","./buckets/FillBucket","./buckets/LineBucket","./buckets/SymbolBucket","./style/StyleDefinition","../../tiling/enums"],(function(e,t,r,n,i,o,s,a,l,c,u,d,f,h,p){"use strict";return class{constructor(t,r,i,s,a,l){if(this._pbfTiles={},this._tileClippers={},this._client=i,this._tile=r,this._sourceDataMaxLOD=s,l){this._styleLayerUIDs=new Set;for(const e of l)this._styleLayerUIDs.add(e)}this._styleRepository=a,this._layers=this._styleRepository?.layers??[];const[c,u,d]=r.tileKey.split("/").map(parseFloat);this._level=c;const f=o.getTileMargins(this._level);for(const r of Object.keys(t)){const i=t[r];if(this._pbfTiles[r]=new e(new Uint8Array(i.protobuff),new DataView(i.protobuff)),i.refKey){const[e]=i.refKey.split("/").map(parseFloat),t=c-e;if(t>0){const e=(1<<t)-1,i=u&e,o=d&e;this._tileClippers[r]=new n.TileClipper(t,i,o,8,f)}}this._tileClippers[r]||(this._tileClippers[r]=new n.SimpleBuilder)}}_canParseStyleLayer(e){return!this._styleLayerUIDs||this._styleLayerUIDs.has(e)}async parse(e){const t=r.loadLibtess(),n=this._initialize(e),{returnedBuckets:i}=n;this._processLayers(n),this._linkReferences(n),this._filterFeatures(n);const o=[],s=new Set,a=(e,t)=>{s.has(e)||(o.push({name:e,repeat:t}),s.add(e))},l={};for(const e of i)e.getResources(e.tileClipper,a,l);if(this._tile.status===p.TileStatus.INVALID)return[];const c=this._fetchResources(o,l,e);return Promise.all([...c,t]).then((()=>this._processFeatures(n.returnedBuckets)))}_initialize(e){const t=e?.signal;return{signal:t,sourceNameToTileData:this._parseTileData(this._pbfTiles),layers:this._layers,zoom:this._level,sourceNameToTileClipper:this._tileClippers,sourceNameToUniqueSourceLayerBuckets:{},sourceNameToUniqueSourceLayers:{},returnedBuckets:[],layerIdToBucket:{},referencerUIDToReferencedId:new Map}}_processLayers(e){const{sourceNameToTileData:t,zoom:r,layers:n,sourceNameToTileClipper:i,sourceNameToUniqueSourceLayerBuckets:o,sourceNameToUniqueSourceLayers:s,returnedBuckets:a,layerIdToBucket:l,referencerUIDToReferencedId:c}=e,u=this._sourceDataMaxLOD;for(let e=n.length-1;e>=0;e--){const d=n[e];if(r<u){if(d.minzoom&&r<Math.floor(d.minzoom)||d.maxzoom&&r>=d.maxzoom)continue}else if(d.maxzoom&&r>=d.maxzoom)continue;if(d.type===h.StyleLayerType.BACKGROUND||!this._canParseStyleLayer(d.uid)||!t[d.source]||!i[d.source])continue;const f=t[d.source],p=i[d.source],y=d.sourceLayer,m=f[y];if(m){let e=s[d.source];if(e||(e=s[d.source]=new Set),e.add(d.sourceLayer),d.refLayerId)c.set(d.uid,d.refLayerId);else{const e=this._createBucket(d);if(e){e.layerUIDs=[d.uid],e.layerExtent=m.extent,e.tileClipper=p;let t=o[d.source];t||(t=o[d.source]={});let r=t[y];r||(r=t[y]=[]),r.push(e),a.push(e),l[d.id]=e}}}}}_linkReferences(e){const{layerIdToBucket:t,referencerUIDToReferencedId:r}=e;r.forEach(((e,r)=>{t[e]&&t[e].layerUIDs.push(r)}))}_filterFeatures(e){const{signal:r,sourceNameToTileData:n,sourceNameToUniqueSourceLayerBuckets:o,sourceNameToUniqueSourceLayers:s}=e,a=10*this._level,l=10*(this._level+1),c=[],u=[];for(const e of Object.keys(s))s[e].forEach((t=>{c.push(t),u.push(e)}));for(let e=0;e<c.length;e++){const s=u[e],d=c[e];if(!n[s]||!o[s])continue;const f=n[s][d],h=o[s][d];if(!h||0===h.length)continue;if(t.isAborted(r))return;let p=0;const y=f.getData();for(;y.nextTag(2);){const e=y.getMessage(),t=new i(e,f,p++);e.release();const r=t.values;if(r){const e=r._minzoom;if(e&&e>=l)continue;const t=r._maxzoom;if(t&&t<=a)continue}for(const e of h)e.pushFeature(t)}}}_fetchResources(e,t,r){const n=[],i=this._tile.getWorkerTileHandler();let o,s;e.length>0&&(o=i.fetchSprites(e,this._client,r),n.push(o));for(const e in t){const o=t[e];o.size>0&&(s=i.fetchGlyphs(this._tile.tileKey,e,o,this._client,r),n.push(s))}return n}_processFeatures(e){const t=e.filter((e=>e.hasFeatures()||this._canParseStyleLayer(e.layer.uid)));for(const e of t)e.processFeatures(e.tileClipper);return t}_parseTileData(e){const t={};for(const r of Object.keys(e)){const n=e[r],i={};for(;n.next();)switch(n.tag()){case 3:{const e=n.getMessage(),t=new a(e);e.release(),i[t.name]=t;break}default:n.skip()}t[r]=i}return t}_createBucket(e){switch(e.type){case h.StyleLayerType.BACKGROUND:return null;case h.StyleLayerType.FILL:return this._createFillBucket(e);case h.StyleLayerType.LINE:return this._createLineBucket(e);case h.StyleLayerType.CIRCLE:return this._createCircleBucket(e);case h.StyleLayerType.SYMBOL:return this._createSymbolBucket(e)}}_createFillBucket(e){return new u(e,this._level,this._tile.getWorkerTileHandler().getSpriteItems(),new l.FillVertexBuffer(e.fillMaterial.getStride()),new s.TriangleIndexBuffer,new l.OutlineVertexBuffer(e.outlineMaterial.getStride()),new s.TriangleIndexBuffer)}_createLineBucket(e){return new d(e,this._level,this._tile.getWorkerTileHandler().getSpriteItems(),new l.LineVertexBuffer(e.lineMaterial.getStride()),new s.TriangleIndexBuffer)}_createCircleBucket(e){return new c(e,this._level,this._tile.getWorkerTileHandler().getSpriteItems(),new l.CircleVertexBuffer(e.circleMaterial.getStride()),new s.TriangleIndexBuffer)}_createSymbolBucket(e){const t=this._tile;return new f(t.tileKey,e,this._level,new l.SymbolVertexBuffer(e.iconMaterial.getStride()),new s.TriangleIndexBuffer,new l.SymbolVertexBuffer(e.textMaterial.getStride()),new s.TriangleIndexBuffer,t.placementEngine,t.getWorkerTileHandler())}}}))},"esri/core/pbf":function(){define(["./has","./memoryEstimations","./ObjectPool"],(function(e,t,r){"use strict";var n;!function(e){e[e.varint=0]="varint",e[e.fixed64=1]="fixed64",e[e.delimited=2]="delimited",e[e.fixed32=5]="fixed32",e[e.unknown=99]="unknown"}(n||(n={}));const i=4294967296,o=new TextDecoder("utf-8"),s=e("safari")||e("ios")?6:e("ff")?12:32;class a{constructor(e,t,r=0,i=(e?e.byteLength:0)){this._tag=0,this._dataType=n.unknown,this._init(e,t,r,i)}_init(e,t,r,n){this._data=e,this._dataView=t,this._pos=r,this._end=n}get usedMemory(){return 64+t.estimateNumberArrayMemory(this._data)}asUnsafe(){return this}clone(){return new a(this._data,this._dataView,this._pos,this._end)}pos(){return this._pos}move(e){this._pos=e}nextTag(e){for(;;){if(this._pos===this._end)return!1;const t=this._decodeVarint();if(this._tag=t>>3,this._dataType=7&t,!e||e===this._tag)break;this.skip()}return!0}next(){if(this._pos===this._end)return!1;const e=this._decodeVarint();return this._tag=e>>3,this._dataType=7&e,!0}empty(){return this._pos>=this._end}tag(){return this._tag}getInt32(){return this._decodeVarint()}getInt64(){return this._decodeVarint()}getUInt32(){let e=4294967295;if(e=(127&this._data[this._pos])>>>0,this._data[this._pos++]<128)return e;if(e=(e|(127&this._data[this._pos])<<7)>>>0,this._data[this._pos++]<128)return e;if(e=(e|(127&this._data[this._pos])<<14)>>>0,this._data[this._pos++]<128)return e;if(e=(e|(127&this._data[this._pos])<<21)>>>0,this._data[this._pos++]<128)return e;if(e=(e|(15&this._data[this._pos])<<28)>>>0,this._data[this._pos++]<128)return e;throw new Error("Varint overflow")}getUInt64(){return this._decodeVarint()}getSInt32(){const e=this.getUInt32();return e>>>1^-(1&e)}getSInt64(){return this._decodeSVarint()}getBool(){const e=0!==this._data[this._pos];return this._skip(1),e}getEnum(){return this._decodeVarint()}getFixed64(){const e=this._dataView,t=this._pos,r=e.getUint32(t,!0)+e.getUint32(t+4,!0)*i;return this._skip(8),r}getSFixed64(){const e=this._dataView,t=this._pos,r=e.getUint32(t,!0)+e.getInt32(t+4,!0)*i;return this._skip(8),r}getDouble(){const e=this._dataView.getFloat64(this._pos,!0);return this._skip(8),e}getFixed32(){const e=this._dataView.getUint32(this._pos,!0);return this._skip(4),e}getSFixed32(){const e=this._dataView.getInt32(this._pos,!0);return this._skip(4),e}getFloat(){const e=this._dataView.getFloat32(this._pos,!0);return this._skip(4),e}getString(){const e=this._getLength(),t=this._pos,r=this._toString(this._data,t,t+e);return this._skip(e),r}getBytes(){const e=this._getLength(),t=this._pos,r=this._toBytes(this._data,t,t+e);return this._skip(e),r}getLength(){return this._getLengthUnsafe()}processMessageWithArgs(e,t,r,n){const i=this.getMessage(),o=e(i,t,r,n);return i.release(),o}processMessage(e){const t=this.getMessage(),r=e(t);return t.release(),r}getMessage(){const e=this._getLength(),t=a.pool.acquire();return t._init(this._data,this._dataView,this._pos,this._pos+e),this._skip(e),t}release(){a.pool.release(this)}dataType(){return this._dataType}skip(){switch(this._dataType){case n.varint:this._decodeVarint();break;case n.fixed64:this._skip(8);break;case n.delimited:this._skip(this._getLength());break;case n.fixed32:this._skip(4);break;default:throw new Error("Invalid data type!")}}skipLen(e){this._skip(e)}_skip(e){if(this._pos+e>this._end)throw new Error("Attempt to skip past the end of buffer!");this._pos+=e}_decodeVarint(){const e=this._data;let t=this._pos,r=0,n=0;if(this._end-t>=10)do{if(n=e[t++],r|=127&n,!(128&n))break;if(n=e[t++],r|=(127&n)<<7,!(128&n))break;if(n=e[t++],r|=(127&n)<<14,!(128&n))break;if(n=e[t++],r|=(127&n)<<21,!(128&n))break;if(n=e[t++],r+=268435456*(127&n),!(128&n))break;if(n=e[t++],r+=34359738368*(127&n),!(128&n))break;if(n=e[t++],r+=4398046511104*(127&n),!(128&n))break;if(n=e[t++],r+=562949953421312*(127&n),!(128&n))break;if(n=e[t++],r+=72057594037927940*(127&n),!(128&n))break;if(n=e[t++],r+=0x8000000000000000*(127&n),!(128&n))break;throw new Error("Varint too long!")}while(0);else{let i=1;for(;t!==this._end&&(n=e[t],128&n);)++t,r+=(127&n)*i,i*=128;if(t===this._end)throw new Error("Varint overrun!");++t,r+=n*i}return this._pos=t,r}_decodeSVarint(){const e=this._data;let t,r=0,n=0;const i=1&e[this._pos];if(n=e[this._pos++],r|=127&n,!(128&n))return i?-(r+1)/2:r/2;if(n=e[this._pos++],r|=(127&n)<<7,!(128&n))return i?-(r+1)/2:r/2;if(n=e[this._pos++],r|=(127&n)<<14,!(128&n))return i?-(r+1)/2:r/2;if(n=e[this._pos++],r|=(127&n)<<21,!(128&n))return i?-(r+1)/2:r/2;if(n=e[this._pos++],r+=268435456*(127&n),!(128&n))return i?-(r+1)/2:r/2;if(n=e[this._pos++],r+=34359738368*(127&n),!(128&n))return i?-(r+1)/2:r/2;if(n=e[this._pos++],r+=4398046511104*(127&n),!(128&n))return i?-(r+1)/2:r/2;if(t=BigInt(r),n=e[this._pos++],t+=0x2000000000000n*BigInt(127&n),!(128&n))return Number(i?-(t+1n)/2n:t/2n);if(n=e[this._pos++],t+=0x100000000000000n*BigInt(127&n),!(128&n))return Number(i?-(t+1n)/2n:t/2n);if(n=e[this._pos++],t+=0x8000000000000000n*BigInt(127&n),!(128&n))return Number(i?-(t+1n)/2n:t/2n);throw new Error("Varint too long!")}_getLength(){if(this._dataType!==n.delimited)throw new Error("Not a delimited data type!");return this._decodeVarint()}_getLengthUnsafe(){return this.getUInt32()}_toString(e,t,r){if((r=Math.min(this._end,r))-t>s){const n=e.subarray(t,r);return o.decode(n)}let n="",i="";for(let o=t;o<r;++o){const t=e[o];128&t?i+="%"+t.toString(16):(n+=decodeURIComponent(i)+String.fromCharCode(t),i="")}return i.length&&(n+=decodeURIComponent(i)),n}_toBytes(e,t,r){return r=Math.min(this._end,r),new Uint8Array(e.buffer,t,r-t)}static{this.pool=new r(a,void 0,(e=>{e._data=null,e._dataView=null}))}}return a}))},"esri/core/memoryEstimations":function(){define(["exports","./typedArrayUtil"],(function(e,t){"use strict";function r(e){return 32+e.length}function n(e){if(!e)return 0;if("number"==typeof e[0])return o(e);if(Array.isArray(e))return function(e){const t=e.length;if(0===t||"number"==typeof e[0])return s(e,8);let r=l;for(let n=0;n<t;n++)r+=i(e[n]);return r}(e);let t=a;for(const r in e)e.hasOwnProperty(r)&&(t+=i(e[r]));return t}function i(e,t=!0){switch(typeof e){case"object":return t?n(e):a;case"string":return r(e);case"number":return 16;case"boolean":return 4;default:return 8}}function o(...e){return e.reduce(((e,r)=>e+(r?t.isTypedArray(r)?r.byteLength+c:Array.isArray(r)?s(r,16):0:0)),0)}function s(e,t){return l+e.length*t}const a=32,l=16,c=145;e.baseArrayMemory=l,e.baseObjectMemory=a,e.baseTypedArrayMemory=c,e.estimateAttributesMemory=function(e){if(!e)return 0;let t=a;for(const r in e)e.hasOwnProperty(r)&&(t+=i(e[r],!1));return t},e.estimateFixedArrayMemory=s,e.estimateNestedObjectMemory=n,e.estimateNumberArrayMemory=o,e.estimateNumberMemory=16,e.estimateStringMemory=r,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/geometry/libtess":function(){define(["require","exports","../assets","../core/has"],(function(e,t,r,n){"use strict";let i=null,o=null;t.loadLibtess=async function(){return i||(i=async function(){const t=n("esri-csp-restrictions")?await new Promise(((t,r)=>e(["../chunks/libtess-asm"],t,r))).then((e=>e.libtessAsm)):await new Promise(((t,r)=>e(["../chunks/libtess"],t,r))).then((e=>e.libtess));o=await t.default({locateFile:e=>r.getAssetUrl(`esri/core/libs/libtess/${e}`)})}()),i},t.triangulate=function(e,t){const r=Math.max(e.length,128e3);return o.triangulate(e,t,r)},Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}))},"esri/views/2d/engine/vectorTiles/Feature":function(){define(["../../../../geometry/support/TileClipper"],(function(e){"use strict";var t;return function(e){e[e.moveTo=1]="moveTo",e[e.lineTo=2]="lineTo",e[e.close=7]="close"}(t||(t={})),class{constructor(e,t,r=0){this.values={},this._geometry=void 0,this._pbfGeometry=null,this.featureIndex=r;const n=t.keys,i=t.values,o=e.asUnsafe();for(;o.next();)switch(o.tag()){case 1:this.id=o.getUInt64();break;case 2:{const e=o.getMessage().asUnsafe(),t=this.values;for(;!e.empty();){const r=e.getUInt32(),o=e.getUInt32();t[n[r]]=i[o]}e.release();break}case 3:this.type=o.getUInt32();break;case 4:this._pbfGeometry=o.getMessage();break;default:o.skip()}}getGeometry(r){if(void 0!==this._geometry)return this._geometry;if(!this._pbfGeometry)return null;const n=this._pbfGeometry.asUnsafe();let i,o;this._pbfGeometry=null,r?r.reset(this.type):i=[];let s,a=t.moveTo,l=0,c=0,u=0;for(;!n.empty();){if(0===l){const e=n.getUInt32();a=7&e,l=e>>3}switch(l--,a){case t.moveTo:c+=n.getSInt32(),u+=n.getSInt32(),r?r.moveTo(c,u):i&&(o&&i.push(o),o=[],o.push(new e.Point(c,u)));break;case t.lineTo:c+=n.getSInt32(),u+=n.getSInt32(),r?r.lineTo(c,u):o&&o.push(new e.Point(c,u));break;case t.close:r?r.close():o&&!o[0].equals(c,u)&&o.push(o[0].clone());break;default:throw n.release(),new Error("Invalid path operation")}}return r?s=r.result():i&&(o&&i.push(o),s=i),n.release(),this._geometry=s,s}}}))},"esri/views/2d/engine/vectorTiles/IndexMemoryBuffer":function(){define(["exports","./MemoryBuffer"],(function(e,t){"use strict";e.PointElementMemoryBuffer=class extends t{constructor(){super(4)}add(e){this.array.push(e)}},e.TriangleIndexBuffer=class extends t{constructor(){super(12)}add(e,t,r){const n=this.array;n.push(e),n.push(t),n.push(r)}},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/views/2d/engine/vectorTiles/MemoryBuffer":function(){define(["../../../../core/has"],(function(e){"use strict";return class{constructor(e){this._array=[],this._stride=e}get array(){return this._array}get index(){return 4*this._array.length/this._stride}get itemSize(){return this._stride}get sizeInBytes(){return 4*this._array.length}reset(){this.array.length=0}toBuffer(){return new Uint32Array(this._array).buffer}static i1616to32(e,t){return 65535&e|t<<16}static i8888to32(e,t,r,n){return 255&e|(255&t)<<8|(255&r)<<16|n<<24}static i8816to32(e,t,r){return 255&e|(255&t)<<8|r<<16}}}))},"esri/views/2d/engine/vectorTiles/SourceLayerData":function(){define(["./constants"],(function(e){"use strict";class t{constructor(r){this.extent=e.tileCoordSize,this.keys=[],this.values=[],this._pbfLayer=r.clone();const n=r.asUnsafe();for(;n.next();)switch(n.tag()){case 1:this.name=n.getString();break;case 3:this.keys.push(n.getString());break;case 4:this.values.push(n.processMessage(t._parseValue));break;case 5:this.extent=n.getUInt32();break;default:n.skip()}}getData(){return this._pbfLayer}static _parseValue(e){for(;e.next();)switch(e.tag()){case 1:return e.getString();case 2:return e.getFloat();case 3:return e.getDouble();case 4:return e.getInt64();case 5:return e.getUInt64();case 6:return e.getSInt64();case 7:return e.getBool();default:e.skip()}return null}}return t}))},"esri/views/2d/engine/vectorTiles/VertexMemoryBuffer":function(){define(["exports","./GeometryUtils","./MemoryBuffer"],(function(e,t,r){"use strict";e.CircleVertexBuffer=class extends r{constructor(e){super(e)}add(e,t,n,i,o){const s=this.array,a=r.i1616to32(2*e+n,2*t+i);s.push(a),o&&s.push(...o)}},e.FillVertexBuffer=class extends r{constructor(e){super(e)}add(e,t,n){const i=this.array;i.push(r.i1616to32(e,t)),n&&i.push(...n)}},e.LineVertexBuffer=class extends r{constructor(e){super(e)}add(e,t,n,i,o,s,a,l,c,u,d,f){const h=this.array;let p=r.i1616to32(e,t);h.push(p);const y=31;p=r.i8888to32(Math.round(y*n),Math.round(y*i),Math.round(y*o),Math.round(y*s)),h.push(p),p=r.i8888to32(Math.round(y*a),Math.round(y*l),Math.round(y*c),Math.round(y*u)),h.push(p),p=r.i1616to32(d,0),h.push(p),f&&h.push(...f)}},e.OutlineVertexBuffer=class extends r{constructor(e){super(e)}add(e,t,n,i,o,s,a){const l=this.array,c=this.index;let u=r.i1616to32(e,t);return l.push(u),u=r.i8888to32(Math.round(15*n),Math.round(15*i),o,s),l.push(u),a&&l.push(...a),c}},e.SymbolVertexBuffer=class extends r{constructor(e){super(e)}add(e,n,i,o,s,a,l,c,u,d,f,h){const p=this.array;let y=r.i1616to32(e,n);p.push(y),y=r.i1616to32(Math.round(8*i),Math.round(8*o)),p.push(y),y=r.i8888to32(s/4,a/4,c,u),p.push(y),y=r.i8888to32(0,t.radToByte(l),10*d,Math.min(10*f,255)),p.push(y),h&&p.push(...h)}},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/views/2d/engine/vectorTiles/buckets/CircleBucket":function(){define(["../enums","./BaseBucket"],(function(e,t){"use strict";return class extends t{constructor(t,r,n,i,o){super(t,r,n),this.type=e.BucketType.CIRCLE,this._circleVertexBuffer=i,this._circleIndexBuffer=o}get circleIndexStart(){return this._circleIndexStart}get circleIndexCount(){return this._circleIndexCount}processFeatures(e){const t=this._circleVertexBuffer,r=this._circleIndexBuffer;this._circleIndexStart=3*r.index,this._circleIndexCount=0;const n=this.layer,i=this.zoom;e&&e.setExtent(this.layerExtent);for(const o of this._features){const s=o.getGeometry(e);if(!s)continue;const a=n.circleMaterial.encodeAttributes(o,i,n);for(const e of s)if(e)for(const n of e){const e=t.index;t.add(n.x,n.y,0,0,a),t.add(n.x,n.y,0,1,a),t.add(n.x,n.y,1,0,a),t.add(n.x,n.y,1,1,a),r.add(e,e+1,e+2),r.add(e+1,e+2,e+3),this._circleIndexCount+=6}}}serialize(){let e=6;e+=this.layerUIDs.length,e+=this._circleVertexBuffer.array.length,e+=this._circleIndexBuffer.array.length;const t=new Uint32Array(e),r=new Int32Array(t.buffer);let n=0;t[n++]=this.type,t[n++]=this.layerUIDs.length;for(let e=0;e<this.layerUIDs.length;e++)t[n++]=this.layerUIDs[e];t[n++]=this._circleIndexStart,t[n++]=this._circleIndexCount,t[n++]=this._circleVertexBuffer.array.length;for(let e=0;e<this._circleVertexBuffer.array.length;e++)r[n++]=this._circleVertexBuffer.array[e];t[n++]=this._circleIndexBuffer.array.length;for(let e=0;e<this._circleIndexBuffer.array.length;e++)t[n++]=this._circleIndexBuffer.array[e];return t.buffer}}}))},"esri/views/2d/engine/vectorTiles/buckets/BaseBucket":function(){define(["../constants"],(function(e){"use strict";return class{constructor(t,r,n){this.layerExtent=e.tileCoordSize,this._features=[],this.layer=t,this.zoom=r,this._spriteInfo=n,this._filter=t.getFeatureFilter()}pushFeature(e){this._filter&&!this._filter.filter(e,this.zoom)||this._features.push(e)}hasFeatures(){return this._features.length>0}getResources(e,t,r){}}}))},"esri/views/2d/engine/vectorTiles/buckets/FillBucket":function(){define(["../../../../../core/ArrayPool","../../../../../chunks/earcut","../../../../../geometry/libtess","../../../../../geometry/support/TileClipper","../enums","./BaseBucket"],(function(e,t,r,n,i,o){"use strict";class s extends o{constructor(e,t,r,n,o,s,a){super(e,t,r),this.type=i.BucketType.FILL,this._patternMap=new Map,this._fillVertexBuffer=n,this._fillIndexBuffer=o,this._outlineVertexBuffer=s,this._outlineIndexBuffer=a}get fillIndexStart(){return this._fillIndexStart}get fillIndexCount(){return this._fillIndexCount}get outlineIndexStart(){return this._outlineIndexStart}get outlineIndexCount(){return this._outlineIndexCount}getResources(e,t,r){const n=this.layer,i=this.zoom,o=n.getPaintProperty("fill-pattern");if(o)if(o.isDataDriven)for(const e of this._features)t(o.getValue(i,e),!0);else t(o.getValue(i),!0)}processFeatures(e){this._fillIndexStart=3*this._fillIndexBuffer.index,this._fillIndexCount=0,this._outlineIndexStart=3*this._outlineIndexBuffer.index,this._outlineIndexCount=0;const t=this.layer,r=this.zoom,{fillMaterial:n,outlineMaterial:i,hasDataDrivenFill:o,hasDataDrivenOutline:s}=t;e&&e.setExtent(this.layerExtent);const a=t.getPaintProperty("fill-pattern"),l=a?.isDataDriven;let c=!a&&t.getPaintValue("fill-antialias",r);if(t.outlineUsesFillColor){if(c&&!t.hasDataDrivenOpacity){const e=t.getPaintValue("fill-opacity",r),n=t.getPaintValue("fill-opacity",r+1);e<1&&n<1&&(c=!1)}if(c&&!t.hasDataDrivenColor){const e=t.getPaintValue("fill-color",r),n=t.getPaintValue("fill-color",r+1);e[3]<1&&n[3]<1&&(c=!1)}}const u=this._features,d=e?.validateTessellation;if(l){const o=[];for(const l of u){const u=a.getValue(r,l),f=this._spriteInfo[u];if(!f?.rect)continue;const h=n.encodeAttributes(l,r,t,f),p=c&&s?i.encodeAttributes(l,r,t):[],y=l.getGeometry(e);o.push({ddFillAttributes:h,ddOutlineAttributes:p,page:f.page,geometry:y}),o.sort(((e,t)=>e.page-t.page));for(const{ddFillAttributes:e,ddOutlineAttributes:r,page:n,geometry:i}of o)this._processFeature(i,c,t.outlineUsesFillColor,e,r,d,n)}}else for(const a of u){const l=o?n.encodeAttributes(a,r,t):null,u=c&&s?i.encodeAttributes(a,r,t):null,f=a.getGeometry(e);this._processFeature(f,c,t.outlineUsesFillColor,l,u,d)}}serialize(){let e=10;e+=this.layerUIDs.length,e+=this._fillVertexBuffer.array.length,e+=this._fillIndexBuffer.array.length,e+=this._outlineVertexBuffer.array.length,e+=this._outlineIndexBuffer.array.length,e+=3*this._patternMap.size+1;const t=new Uint32Array(e),r=new Int32Array(t.buffer);let n=0;t[n++]=this.type,t[n++]=this.layerUIDs.length;for(let e=0;e<this.layerUIDs.length;e++)t[n++]=this.layerUIDs[e];t[n++]=this._fillIndexStart,t[n++]=this._fillIndexCount,t[n++]=this._outlineIndexStart,t[n++]=this._outlineIndexCount;const i=this._patternMap,o=i.size;if(t[n++]=o,o>0)for(const[e,[r,o]]of i)t[n++]=e,t[n++]=r,t[n++]=o;t[n++]=this._fillVertexBuffer.array.length;for(let e=0;e<this._fillVertexBuffer.array.length;e++)r[n++]=this._fillVertexBuffer.array[e];t[n++]=this._fillIndexBuffer.array.length;for(let e=0;e<this._fillIndexBuffer.array.length;e++)t[n++]=this._fillIndexBuffer.array[e];t[n++]=this._outlineVertexBuffer.array.length;for(let e=0;e<this._outlineVertexBuffer.array.length;e++)r[n++]=this._outlineVertexBuffer.array[e];t[n++]=this._outlineIndexBuffer.array.length;for(let e=0;e<this._outlineIndexBuffer.array.length;e++)t[n++]=this._outlineIndexBuffer.array[e];return t.buffer}_processFeature(e,t,r,n,i,o,a){if(!e)return;const l=e.length,c=!i||0===i.length;if(t&&(!r||c))for(let t=0;t<l;t++)this._processOutline(e[t],i);let u;for(let t=0;t<l;t++){const r=s._area(e[t]);r>32?(void 0!==u&&this._processFill(e,u,n,o,a),u=[t]):r<-32&&void 0!==u&&u.push(t)}void 0!==u&&this._processFill(e,u,n,o,a)}_processOutline(e,t){const r=this._outlineVertexBuffer,i=this._outlineIndexBuffer,o=i.index;let s,a,l;const c=new n.Point(0,0),u=new n.Point(0,0),d=new n.Point(0,0);let f=-1,h=-1,p=-1,y=-1,m=-1,g=!1,_=e.length;if(_<2)return;const T=e[0];let S=e[_-1];for(;_&&S.isEqual(T);)--_,S=e[_-1];if(!(_-0<2)){for(let n=0;n<_;++n){0===n?(s=e[_-1],a=e[0],l=e[1],c.assignSub(a,s),c.normalize(),c.rightPerpendicular()):(s=a,a=l,l=n!==_-1?e[n+1]:e[0],c.assign(u));const o=this._isClipEdge(s,a);-1===y&&(g=o),u.assignSub(l,a),u.normalize(),u.rightPerpendicular();const T=c.x*u.y-c.y*u.x;d.assignAdd(c,u),d.normalize();const S=-d.x*-c.x+-d.y*-c.y;let x=Math.abs(0!==S?1/S:1);x>8&&(x=8),T>=0?(p=r.add(a.x,a.y,c.x,c.y,0,1,t),-1===y&&(y=p),f>=0&&h>=0&&p>=0&&!o&&i.add(f,h,p),h=r.add(a.x,a.y,x*-d.x,x*-d.y,0,-1,t),-1===m&&(m=h),f>=0&&h>=0&&p>=0&&!o&&i.add(f,h,p),f=h,h=p,p=r.add(a.x,a.y,d.x,d.y,0,1,t),f>=0&&h>=0&&p>=0&&!o&&i.add(f,h,p),h=r.add(a.x,a.y,u.x,u.y,0,1,t),f>=0&&h>=0&&p>=0&&!o&&i.add(f,h,p)):(p=r.add(a.x,a.y,x*d.x,x*d.y,0,1,t),-1===y&&(y=p),f>=0&&h>=0&&p>=0&&!o&&i.add(f,h,p),h=r.add(a.x,a.y,-c.x,-c.y,0,-1,t),-1===m&&(m=h),f>=0&&h>=0&&p>=0&&!o&&i.add(f,h,p),f=h,h=p,p=r.add(a.x,a.y,-d.x,-d.y,0,-1,t),f>=0&&h>=0&&p>=0&&!o&&i.add(f,h,p),f=r.add(a.x,a.y,-u.x,-u.y,0,-1,t),f>=0&&h>=0&&p>=0&&!o&&i.add(f,h,p))}f>=0&&h>=0&&y>=0&&!g&&i.add(f,h,y),f>=0&&y>=0&&m>=0&&!g&&i.add(f,m,y),this._outlineIndexCount+=3*(i.index-o)}}_processFill(n,i,o,s,a){let l;i.length>1&&(l=[]);let c=0;for(const e of i)0!==c&&l.push(c),c+=n[e].length;const u=2*c,d=e.acquire();for(const e of i){const t=n[e],r=t.length;for(let e=0;e<r;++e)d.push(t[e].x,t[e].y)}const f=t.earcut(d,l,2);if(t.earcut.deviation(d,l,2,f)>0){const e=i.map((e=>n[e].length)),{buffer:t,vertexCount:s}=r.triangulate(d,e);if(s>0){const e=this._fillVertexBuffer.index;for(let e=0;e<s;e++)this._fillVertexBuffer.add(t[2*e],t[2*e+1],o);for(let t=0;t<s;t+=3){const r=e+t;this._fillIndexBuffer.add(r,r+1,r+2)}if(void 0!==a){const e=this._patternMap,t=e.get(a);t?t[1]+=s:e.set(a,[this._fillIndexStart+this._fillIndexCount,s])}this._fillIndexCount+=s}}else{const e=f.length;if(e>0){const t=this._fillVertexBuffer.index;let r=0;for(;r<u;)this._fillVertexBuffer.add(d[r++],d[r++],o);let n=0;for(;n<e;)this._fillIndexBuffer.add(t+f[n++],t+f[n++],t+f[n++]);if(void 0!==a){const t=this._patternMap,r=t.get(a);r?r[1]+=e:t.set(a,[this._fillIndexStart+this._fillIndexCount,e])}this._fillIndexCount+=e}}e.release(d)}_isClipEdge(e,t){return e.x===t.x?e.x<=-64||e.x>=4160:e.y===t.y&&(e.y<=-64||e.y>=4160)}static _area(e){let t=0;const r=e.length-1;for(let n=0;n<r;n++)t+=(e[n].x-e[n+1].x)*(e[n].y+e[n+1].y);return t+=(e[r].x-e[0].x)*(e[r].y+e[0].y),.5*t}}return s}))},"esri/chunks/earcut":function(){define(["exports"],(function(e){"use strict";function t(e,t,o){o=o||2;var s,a,l,u,f,h,y,m=t&&t.length,g=m?t[0]*o:e.length,_=r(e,0,g,o,!0),T=[];if(!_||_.next===_.prev)return T;if(m&&(_=function(e,t,i,o){var s,a,l,u=[];for(s=0,a=t.length;s<a;s++)(l=r(e,t[s]*o,s<a-1?t[s+1]*o:e.length,o,!1))===l.next&&(l.steiner=!0),u.push(p(l));for(u.sort(c),s=0;s<u.length;s++)i=n(i=d(u[s],i),i.next);return i}(e,t,_,o)),e.length>80*o){s=l=e[0],a=u=e[1];for(var S=o;S<g;S+=o)(f=e[S])<s&&(s=f),(h=e[S+1])<a&&(a=h),f>l&&(l=f),h>u&&(u=h);y=0!==(y=Math.max(l-s,u-a))?1/y:0}return i(_,T,o,s,a,y),T}function r(e,t,r,n,i){var o,s;if(i===A(e,t,r,n)>0)for(o=t;o<r;o+=n)s=v(o,e[o],e[o+1],s);else for(o=r-n;o>=t;o-=n)s=v(o,e[o],e[o+1],s);if(s&&_(s,s.next)){var a=s.next;w(s),s=a}return s}function n(e,t){if(!e)return e;t||(t=e);var r,n=e;do{if(r=!1,n.steiner||!_(n,n.next)&&0!==g(n.prev,n,n.next))n=n.next;else{var i=n.prev;if(w(n),(n=t=i)===n.next)break;r=!0}}while(r||n!==t);return t}function i(e,t,r,c,u,d,f){if(e){!f&&d&&function(e,t,r,n){var i=e;do{null===i.z&&(i.z=h(i.x,i.y,t,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,r,n,i,o,s,a,l,c=1;do{for(r=e,e=null,o=null,s=0;r;){for(s++,n=r,a=0,t=0;t<c&&(a++,n=n.nextZ);t++);for(l=c;a>0||l>0&&n;)0!==a&&(0===l||!n||r.z<=n.z)?(i=r,r=r.nextZ,a--):(i=n,n=n.nextZ,l--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;r=n}o.nextZ=null,c*=2}while(s>1)}(i)}(e,c,u,d);for(var p,y,m=e;e.prev!==e.next;)if(p=e.prev,y=e.next,d?s(e,c,u,d):o(e))t.push(p.i/r),t.push(e.i/r),t.push(y.i/r),w(e),e=y.next,m=y.next;else if((e=y)===m){f?1===f?i(e=a(n(e),t,r),t,r,c,u,d,2):2===f&&l(e,t,r,c,u,d):i(n(e),t,r,c,u,d,1);break}}}function o(e){var t=e.prev,r=e,n=e.next;if(g(t,r,n)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(y(t.x,t.y,r.x,r.y,n.x,n.y,i.x,i.y)&&g(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function s(e,t,r,n){var i=e.prev,o=e,s=e.next;if(g(i,o,s)>=0)return!1;for(var a=i.x<o.x?i.x<s.x?i.x:s.x:o.x<s.x?o.x:s.x,l=i.y<o.y?i.y<s.y?i.y:s.y:o.y<s.y?o.y:s.y,c=i.x>o.x?i.x>s.x?i.x:s.x:o.x>s.x?o.x:s.x,u=i.y>o.y?i.y>s.y?i.y:s.y:o.y>s.y?o.y:s.y,d=h(a,l,t,r,n),f=h(c,u,t,r,n),p=e.prevZ,m=e.nextZ;p&&p.z>=d&&m&&m.z<=f;){if(p!==e.prev&&p!==e.next&&y(i.x,i.y,o.x,o.y,s.x,s.y,p.x,p.y)&&g(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,m!==e.prev&&m!==e.next&&y(i.x,i.y,o.x,o.y,s.x,s.y,m.x,m.y)&&g(m.prev,m,m.next)>=0)return!1;m=m.nextZ}for(;p&&p.z>=d;){if(p!==e.prev&&p!==e.next&&y(i.x,i.y,o.x,o.y,s.x,s.y,p.x,p.y)&&g(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;m&&m.z<=f;){if(m!==e.prev&&m!==e.next&&y(i.x,i.y,o.x,o.y,s.x,s.y,m.x,m.y)&&g(m.prev,m,m.next)>=0)return!1;m=m.nextZ}return!0}function a(e,t,r){var i=e;do{var o=i.prev,s=i.next.next;!_(o,s)&&T(o,i,i.next,s)&&b(o,s)&&b(s,o)&&(t.push(o.i/r),t.push(i.i/r),t.push(s.i/r),w(i),w(i.next),i=e=s),i=i.next}while(i!==e);return n(i)}function l(e,t,r,o,s,a){var l=e;do{for(var c=l.next.next;c!==l.prev;){if(l.i!==c.i&&m(l,c)){var u=E(l,c);return l=n(l,l.next),u=n(u,u.next),i(l,t,r,o,s,a),void i(u,t,r,o,s,a)}c=c.next}l=l.next}while(l!==e)}function c(e,t){return e.x-t.x}function u(e){if(e.next.prev===e)return e;let t=e;for(;;){const r=t.next;if(r.prev===t||r===t||r===e)break;t=r}return t}function d(e,t){var r=function(e,t){var r,n=t,i=e.x,o=e.y,s=-1/0;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){var a=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(a<=i&&a>s){if(s=a,a===i){if(o===n.y)return n;if(o===n.next.y)return n.next}r=n.x<n.next.x?n:n.next}}n=n.next}while(n!==t);if(!r)return null;if(i===s)return r;var l,c=r,u=r.x,d=r.y,h=1/0;n=r;do{i>=n.x&&n.x>=u&&i!==n.x&&y(o<d?i:s,o,u,d,o<d?s:i,o,n.x,n.y)&&(l=Math.abs(o-n.y)/(i-n.x),b(n,e)&&(l<h||l===h&&(n.x>r.x||n.x===r.x&&f(r,n)))&&(r=n,h=l)),n=n.next}while(n!==c);return r}(e,t);if(!r)return t;var i=E(r,e),o=n(r,r.next);let s=u(i);return n(s,s.next),o=u(o),u(t===r?o:t)}function f(e,t){return g(e.prev,e,t.prev)<0&&g(t.next,e,e.next)<0}function h(e,t,r,n,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function p(e){var t=e,r=e;do{(t.x<r.x||t.x===r.x&&t.y<r.y)&&(r=t),t=t.next}while(t!==e);return r}function y(e,t,r,n,i,o,s,a){return(i-s)*(t-a)-(e-s)*(o-a)>=0&&(e-s)*(n-a)-(r-s)*(t-a)>=0&&(r-s)*(o-a)-(i-s)*(n-a)>=0}function m(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&T(r,r.next,e,t))return!0;r=r.next}while(r!==e);return!1}(e,t)&&(b(e,t)&&b(t,e)&&function(e,t){var r=e,n=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do{r.y>o!=r.next.y>o&&r.next.y!==r.y&&i<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==e);return n}(e,t)&&(g(e.prev,e,t.prev)||g(e,t.prev,t))||_(e,t)&&g(e.prev,e,e.next)>0&&g(t.prev,t,t.next)>0)}function g(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function _(e,t){return e.x===t.x&&e.y===t.y}function T(e,t,r,n){var i=x(g(e,t,r)),o=x(g(e,t,n)),s=x(g(r,n,e)),a=x(g(r,n,t));return i!==o&&s!==a||!(0!==i||!S(e,r,t))||!(0!==o||!S(e,n,t))||!(0!==s||!S(r,e,n))||!(0!==a||!S(r,t,n))}function S(e,t,r){return t.x<=Math.max(e.x,r.x)&&t.x>=Math.min(e.x,r.x)&&t.y<=Math.max(e.y,r.y)&&t.y>=Math.min(e.y,r.y)}function x(e){return e>0?1:e<0?-1:0}function b(e,t){return g(e.prev,e,e.next)<0?g(e,t,e.next)>=0&&g(e,e.prev,t)>=0:g(e,t,e.prev)<0||g(e,e.next,t)<0}function E(e,t){var r=new P(e.i,e.x,e.y),n=new P(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,r.next=i,i.prev=r,n.next=r,r.prev=n,o.next=n,n.prev=o,n}function v(e,t,r,n){var i=new P(e,t,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function w(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function P(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function A(e,t,r,n){for(var i=0,o=t,s=r-n;o<r;o+=n)i+=(e[s]-e[o])*(e[o+1]+e[s+1]),s=o;return i}t.deviation=function(e,t,r,n){var i=t&&t.length,o=i?t[0]*r:e.length,s=Math.abs(A(e,0,o,r));if(i)for(var a=0,l=t.length;a<l;a++){var c=t[a]*r,u=a<l-1?t[a+1]*r:e.length;s-=Math.abs(A(e,c,u,r))}var d=0;for(a=0;a<n.length;a+=3){var f=n[a]*r,h=n[a+1]*r,p=n[a+2]*r;d+=Math.abs((e[f]-e[p])*(e[h+1]-e[f+1])-(e[f]-e[h])*(e[p+1]-e[f+1]))}return 0===s&&0===d?0:Math.abs((d-s)/s)},t.flatten=function(e){for(var t=e[0][0].length,r={vertices:[],holes:[],dimensions:t},n=0,i=0;i<e.length;i++){for(var o=0;o<e[i].length;o++)for(var s=0;s<t;s++)r.vertices.push(e[i][o][s]);i>0&&(n+=e[i-1].length,r.holes.push(n))}return r},e.earcut=t}))},"esri/views/2d/engine/vectorTiles/buckets/LineBucket":function(){define(["../enums","./BaseBucket","../../webgl/TurboLine"],(function(e,t,r){"use strict";return class extends t{constructor(t,n,i,o,s){var a;super(t,n,i),this.type=e.BucketType.LINE,this._tessellationOptions={pixelCoordRatio:8,halfWidth:0,offset:0},this._patternMap=new Map,this.tessellationProperties={_lineVertexBuffer:null,_lineIndexBuffer:null,_ddValues:null},this.tessellationProperties._lineVertexBuffer=o,this.tessellationProperties._lineIndexBuffer=s,this._lineTessellator=new r.LineTessellation((a=this.tessellationProperties,(e,t,r,n,i,o,s,l,c,u,d)=>(a._lineVertexBuffer.add(e,t,s,l,r,n,i,o,c,u,d,a._ddValues),a._lineVertexBuffer.index-1)),(e=>(t,r,n)=>{e._lineIndexBuffer.add(t,r,n)})(this.tessellationProperties),t.canUseThinTessellation)}get lineIndexStart(){return this._lineIndexStart}get lineIndexCount(){return this._lineIndexCount}getResources(e,t,r){const n=this.layer,i=this.zoom,o=n.getPaintProperty("line-pattern"),s=n.getPaintProperty("line-dasharray"),a=n.getLayoutProperty("line-cap");if(!o&&!s)return;const l=a?.getValue(i)||0,c=a?.isDataDriven,u=o?.isDataDriven,d=s?.isDataDriven;if(u||d)for(const e of this._features)t(u?o.getValue(i,e):this._getDashArrayKey(e,i,n,s,c,a,l));else if(o)t(o.getValue(i));else if(s){const e=s.getValue(i);t(n.getDashKey(e,l))}}processFeatures(e){this._lineIndexStart=3*this.tessellationProperties._lineIndexBuffer.index,this._lineIndexCount=0;const t=this.layer,r=this.zoom,n=this._features,i=this._tessellationOptions,{hasDataDrivenLine:o,lineMaterial:s}=t;e&&e.setExtent(this.layerExtent);const a=t.getPaintProperty("line-pattern"),l=t.getPaintProperty("line-dasharray"),c=a?.isDataDriven,u=l?.isDataDriven;let d;d=t.getLayoutProperty("line-cap");const f=d?.isDataDriven?d:null,h=f?null:t.getLayoutValue("line-cap",r),p=h||0,y=!!f;d=t.getLayoutProperty("line-join");const m=d?.isDataDriven?d:null,g=m?null:t.getLayoutValue("line-join",r);d=t.getLayoutProperty("line-miter-limit");const _=d?.isDataDriven?d:null,T=_?null:t.getLayoutValue("line-miter-limit",r);d=t.getLayoutProperty("line-round-limit");const S=d?.isDataDriven?d:null,x=S?null:t.getLayoutValue("line-round-limit",r);d=t.getPaintProperty("line-width");const b=d?.isDataDriven?d:null,E=b?null:t.getPaintValue("line-width",r);d=t.getPaintProperty("line-offset");const v=d?.isDataDriven?d:null,w=v?null:t.getPaintValue("line-offset",r);if(c||u){const o=[];for(const i of n){const n=c?a.getValue(r,i):this._getDashArrayKey(i,r,t,l,y,f,p),u=this._spriteInfo[n];if(!u?.rect)continue;const d=s.encodeAttributes(i,r,t,u),P=i.getGeometry(e);o.push({ddAttributes:d,page:u.page,cap:f?f.getValue(r,i):h,join:m?m.getValue(r,i):g,miterLimit:_?_.getValue(r,i):T,roundLimit:S?S.getValue(r,i):x,halfWidth:.5*(b?b.getValue(r,i):E),offset:v?v.getValue(r,i):w,geometry:P})}o.sort(((e,t)=>e.page-t.page)),i.textured=!0;for(const{ddAttributes:e,page:t,cap:r,join:n,miterLimit:s,roundLimit:a,halfWidth:l,offset:c,geometry:u}of o)i.capType=r,i.joinType=n,i.miterLimit=s,i.roundLimit=a,i.halfWidth=l,i.offset=c,this._processFeature(u,e,t)}else{if(a){const e=a.getValue(r),t=this._spriteInfo[e];if(!t?.rect)return}i.textured=!(!a&&!l),i.capType=h,i.joinType=g,i.miterLimit=T,i.roundLimit=x,i.halfWidth=.5*E,i.offset=w;for(const a of n){const n=o?s.encodeAttributes(a,r,t):null;f&&(i.capType=f.getValue(r,a)),m&&(i.joinType=m.getValue(r,a)),_&&(i.miterLimit=_.getValue(r,a)),S&&(i.roundLimit=S.getValue(r,a)),b&&(i.halfWidth=.5*b.getValue(r,a)),v&&(i.offset=v.getValue(r,a));const l=a.getGeometry(e);this._processFeature(l,n)}}}serialize(){let e=6;e+=this.layerUIDs.length,e+=this.tessellationProperties._lineVertexBuffer.array.length,e+=this.tessellationProperties._lineIndexBuffer.array.length,e+=3*this._patternMap.size+1;const t=new Uint32Array(e),r=new Int32Array(t.buffer);let n=0;t[n++]=this.type,t[n++]=this.layerUIDs.length;for(let e=0;e<this.layerUIDs.length;e++)t[n++]=this.layerUIDs[e];t[n++]=this._lineIndexStart,t[n++]=this._lineIndexCount;const i=this._patternMap,o=i.size;if(t[n++]=o,o>0)for(const[e,[r,o]]of i)t[n++]=e,t[n++]=r,t[n++]=o;t[n++]=this.tessellationProperties._lineVertexBuffer.array.length;for(let e=0;e<this.tessellationProperties._lineVertexBuffer.array.length;e++)r[n++]=this.tessellationProperties._lineVertexBuffer.array[e];t[n++]=this.tessellationProperties._lineIndexBuffer.array.length;for(let e=0;e<this.tessellationProperties._lineIndexBuffer.array.length;e++)t[n++]=this.tessellationProperties._lineIndexBuffer.array[e];return t.buffer}_processFeature(e,t,r){if(!e)return;const n=e.length;for(let i=0;i<n;i++)this._processGeometry(e[i],t,r)}_processGeometry(e,t,r){if(e.length<2)return;let n,i,o=e[0],s=1;for(;s<e.length;)n=e[s].x-o.x,i=e[s].y-o.y,n*n+i*i<1e-6?e.splice(s,1):(o=e[s],++s);if(e.length<2)return;const a=this.tessellationProperties._lineIndexBuffer,l=3*a.index;this._tessellationOptions.initialDistance=0,this._tessellationOptions.wrapDistance=65535,this.tessellationProperties._ddValues=t,this._lineTessellator.tessellate(e,this._tessellationOptions);const c=3*a.index-l;if(void 0!==r){const e=this._patternMap,t=e.get(r);t?t[1]+=c:e.set(r,[l+this._lineIndexCount,c])}this._lineIndexCount+=c}_getDashArrayKey(e,t,r,n,i,o,s){const a=i?o.getValue(t,e):s,l=n.getValue(t,e);return r.getDashKey(l,a)}}}))},"esri/views/2d/engine/webgl/TurboLine":function(){define(["exports","../../../../symbols/cim/enums","./definitions"],(function(e,t,r){"use strict";function n(e,t){return e.x===t.x&&e.y===t.y}function i(e,t){return e.x=t.y,e.y=-t.x,e}function o(e,t){return e.x=-t.y,e.y=t.x,e}function s(e,t){return e.x=t.x,e.y=t.y,e}function a(e,t){return e.x=-t.x,e.y=-t.y,e}function l(e){return Math.sqrt(e.x*e.x+e.y*e.y)}function c(e,t){return e.x*t.x+e.y*t.y}function u(e,t,r,n){return e.x=t.x*r+t.y*n,e.y=t.x*n-t.y*r,e}e.LineTessellation=class{constructor(e,t,r){this._writeVertex=e,this._writeTriangle=t,this._canUseThinTessellation=r,this._prevNormal={x:void 0,y:void 0},this._nextNormal={x:void 0,y:void 0},this._textureNormalLeft={x:0,y:1},this._textureNormalRight={x:0,y:-1},this._textureNormal={x:void 0,y:void 0},this._joinNormal={x:void 0,y:void 0},this._inner={x:void 0,y:void 0},this._outer={x:void 0,y:void 0},this._roundStart={x:void 0,y:void 0},this._roundEnd={x:void 0,y:void 0},this._startBreak={x:void 0,y:void 0},this._endBreak={x:void 0,y:void 0},this._innerPrev={x:void 0,y:void 0},this._innerNext={x:void 0,y:void 0},this._bevelStart={x:void 0,y:void 0},this._bevelEnd={x:void 0,y:void 0},this._bevelMiddle={x:void 0,y:void 0}}tessellate(e,t,i=this._canUseThinTessellation){!function(e){if(!e)return;const t=e.length;if(t<=1)return;let r=0;for(let i=1;i<t;i++)n(e[i],e[r])||++r===i||(e[r]=e[i]);e.length=r+1}(e),i&&t.halfWidth<r.thinLineHalfWidthThreshold&&!t.offset?this._tessellateThin(e,t):this._tessellate(e,t)}_tessellateThin(e,t){if(e.length<2)return;const r=t.wrapDistance||65535;let n=t.initialDistance||0,i=!1,o=e[0].x,s=e[0].y;const a=e.length;for(let t=1;t<a;++t){i&&(i=!1,n=0);let a=e[t].x,l=e[t].y,c=a-o,u=l-s,d=Math.sqrt(c*c+u*u);if(c/=d,u/=d,n+d>r){i=!0;const e=(r-n)/d;d=r-n,a=(1-e)*o+e*a,l=(1-e)*s+e*l,--t}const f=this._writeVertex(o,s,0,0,c,u,u,-c,0,-1,n),h=this._writeVertex(o,s,0,0,c,u,-u,c,0,1,n);n+=d;const p=this._writeVertex(a,l,0,0,c,u,u,-c,0,-1,n),y=this._writeVertex(a,l,0,0,c,u,-u,c,0,1,n);this._writeTriangle(f,h,p),this._writeTriangle(h,p,y),o=a,s=l}}_tessellate(e,r){const d=e[0],f=e[e.length-1],h=n(d,f),p=h?3:2;if(e.length<p)return;const y=r.pixelCoordRatio,m=null!=r.capType?r.capType:t.CapType.BUTT,g=null!=r.joinType?r.joinType:t.JoinType.MITER,_=null!=r.miterLimit?Math.min(r.miterLimit,4):2,T=null!=r.roundLimit?Math.min(r.roundLimit,1.05):1.05,S=null!=r.halfWidth?r.halfWidth:2,x=!!r.textured;let b,E,v,w=null;const P=this._prevNormal,A=this._nextNormal;let M=-1,I=-1;const O=this._joinNormal;let R,D;const N=this._textureNormalLeft,C=this._textureNormalRight,L=this._textureNormal;let k=-1,U=-1;const F=r.wrapDistance||65535;let G=r.initialDistance||0;const B=this._writeVertex,j=this._writeTriangle,V=(e,t,r,n,i,o)=>{const s=B(E,v,R,D,r,n,e,t,i,o,G);return k>=0&&U>=0&&s>=0&&j(k,U,s),k=U,U=s,s};h&&(b=e[e.length-2],A.x=f.x-b.x,A.y=f.y-b.y,I=l(A),A.x/=I,A.y/=I);let z=!1;for(let r=0;r<e.length;++r){if(z&&(z=!1,G=0),b&&(P.x=-A.x,P.y=-A.y,M=I,G+M>F&&(z=!0)),z){const t=(F-G)/M;M=F-G,b={x:(1-t)*b.x+t*e[r].x,y:(1-t)*b.y+t*e[r].y},--r}else b=e[r];E=b.x,v=b.y;const n=r<=0&&!z,d=r===e.length-1;if(n||(G+=M),w=d?h?e[1]:null:e[r+1],w?(A.x=w.x-E,A.y=w.y-v,I=l(A),A.x/=I,A.y/=I):(A.x=void 0,A.y=void 0),!h){if(n){o(O,A),R=O.x,D=O.y,m===t.CapType.SQUARE&&(V(-A.y-A.x,A.x-A.y,A.x,A.y,0,-1),V(A.y-A.x,-A.x-A.y,A.x,A.y,0,1)),m===t.CapType.ROUND&&(V(-A.y-A.x,A.x-A.y,A.x,A.y,-1,-1),V(A.y-A.x,-A.x-A.y,A.x,A.y,-1,1)),m!==t.CapType.ROUND&&m!==t.CapType.BUTT||(V(-A.y,A.x,A.x,A.y,0,-1),V(A.y,-A.x,A.x,A.y,0,1));continue}if(d){i(O,P),R=O.x,D=O.y,m!==t.CapType.ROUND&&m!==t.CapType.BUTT||(V(P.y,-P.x,-P.x,-P.y,0,-1),V(-P.y,P.x,-P.x,-P.y,0,1)),m===t.CapType.SQUARE&&(V(P.y-P.x,-P.x-P.y,-P.x,-P.y,0,-1),V(-P.y-P.x,P.x-P.y,-P.x,-P.y,0,1)),m===t.CapType.ROUND&&(V(P.y-P.x,-P.x-P.y,-P.x,-P.y,1,-1),V(-P.y-P.x,P.x-P.y,-P.x,-P.y,1,1));continue}}let f,p,B=(q=A,-((W=P).x*q.y-W.y*q.x));if(Math.abs(B)<.01)c(P,A)>0?(O.x=P.x,O.y=P.y,B=1,f=Number.MAX_VALUE,p=!0):(o(O,A),B=1,f=1,p=!1);else{O.x=(P.x+A.x)/B,O.y=(P.y+A.y)/B,f=l(O);const e=(f-1)*S*y;p=f>4||e>M&&e>I}R=O.x,D=O.y;let j=g;switch(g){case t.JoinType.BEVEL:f<1.05&&(j=t.JoinType.MITER);break;case t.JoinType.ROUND:f<T&&(j=t.JoinType.MITER);break;case t.JoinType.MITER:f>_&&(j=t.JoinType.BEVEL)}switch(j){case t.JoinType.MITER:if(V(O.x,O.y,-P.x,-P.y,0,-1),V(-O.x,-O.y,-P.x,-P.y,0,1),d)break;if(x){const e=z?0:G;k=this._writeVertex(E,v,R,D,A.x,A.y,O.x,O.y,0,-1,e),U=this._writeVertex(E,v,R,D,A.x,A.y,-O.x,-O.y,0,1,e)}break;case t.JoinType.BEVEL:{const e=B<0;let t,r,n,l;if(e){const e=k;k=U,U=e,t=N,r=C}else t=C,r=N;if(p)n=e?o(this._innerPrev,P):i(this._innerPrev,P),l=e?i(this._innerNext,A):o(this._innerNext,A);else{const t=e?a(this._inner,O):s(this._inner,O);n=t,l=t}const c=e?i(this._bevelStart,P):o(this._bevelStart,P);V(n.x,n.y,-P.x,-P.y,t.x,t.y);const f=V(c.x,c.y,-P.x,-P.y,r.x,r.y);if(d)break;const h=e?o(this._bevelEnd,A):i(this._bevelEnd,A);if(p){const e=this._writeVertex(E,v,R,D,-P.x,-P.y,0,0,0,0,G);k=this._writeVertex(E,v,R,D,A.x,A.y,l.x,l.y,t.x,t.y,G),U=this._writeVertex(E,v,R,D,A.x,A.y,h.x,h.y,r.x,r.y,G),this._writeTriangle(f,e,U)}else{if(x){const e=this._bevelMiddle;e.x=(c.x+h.x)/2,e.y=(c.y+h.y)/2,u(L,e,-P.x,-P.y),V(e.x,e.y,-P.x,-P.y,L.x,L.y),u(L,e,A.x,A.y),k=this._writeVertex(E,v,R,D,A.x,A.y,e.x,e.y,L.x,L.y,G),U=this._writeVertex(E,v,R,D,A.x,A.y,l.x,l.y,t.x,t.y,G)}else{const e=k;k=U,U=e}V(h.x,h.y,A.x,A.y,r.x,r.y)}if(e){const e=k;k=U,U=e}break}case t.JoinType.ROUND:{const e=B<0;let t,r;if(e){const e=k;k=U,U=e,t=N,r=C}else t=C,r=N;const n=e?a(this._inner,O):s(this._inner,O);let l,h;p?(l=e?o(this._innerPrev,P):i(this._innerPrev,P),h=e?i(this._innerNext,A):o(this._innerNext,A)):(l=n,h=n);const y=e?i(this._roundStart,P):o(this._roundStart,P),m=e?o(this._roundEnd,A):i(this._roundEnd,A),g=V(l.x,l.y,-P.x,-P.y,t.x,t.y),_=V(y.x,y.y,-P.x,-P.y,r.x,r.y);if(d)break;const T=this._writeVertex(E,v,R,D,-P.x,-P.y,0,0,0,0,G);p||this._writeTriangle(k,U,T);const S=a(this._outer,n),b=this._writeVertex(E,v,R,D,A.x,A.y,m.x,m.y,r.x,r.y,G);let w,M;const I=f>2;if(I){let t;f!==Number.MAX_VALUE?(S.x/=f,S.y/=f,t=c(P,S),t=(f*(t*t-1)+1)/t):t=-1,w=e?i(this._startBreak,P):o(this._startBreak,P),w.x+=P.x*t,w.y+=P.y*t,M=e?o(this._endBreak,A):i(this._endBreak,A),M.x+=A.x*t,M.y+=A.y*t}u(L,S,-P.x,-P.y);const F=this._writeVertex(E,v,R,D,-P.x,-P.y,S.x,S.y,L.x,L.y,G);u(L,S,A.x,A.y);const j=x?this._writeVertex(E,v,R,D,A.x,A.y,S.x,S.y,L.x,L.y,G):F,z=T,W=x?this._writeVertex(E,v,R,D,A.x,A.y,0,0,0,0,G):T;let q=-1,H=-1;if(I&&(u(L,w,-P.x,-P.y),q=this._writeVertex(E,v,R,D,-P.x,-P.y,w.x,w.y,L.x,L.y,G),u(L,M,A.x,A.y),H=this._writeVertex(E,v,R,D,A.x,A.y,M.x,M.y,L.x,L.y,G)),x?I?(this._writeTriangle(z,_,q),this._writeTriangle(z,q,F),this._writeTriangle(W,j,H),this._writeTriangle(W,H,b)):(this._writeTriangle(z,_,F),this._writeTriangle(W,j,b)):I?(this._writeTriangle(T,_,q),this._writeTriangle(T,q,H),this._writeTriangle(T,H,b)):(this._writeTriangle(T,_,F),this._writeTriangle(T,j,b)),p?(k=this._writeVertex(E,v,R,D,A.x,A.y,h.x,h.y,t.x,t.y,G),U=b):(k=x?this._writeVertex(E,v,R,D,A.x,A.y,h.x,h.y,t.x,t.y,G):g,this._writeTriangle(k,W,b),U=b),e){const e=k;k=U,U=e}break}}}var W,q}},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/views/2d/engine/webgl/definitions":function(){define(["exports"],(function(e){"use strict";var t;e.AttributeDataType=void 0,(t=e.AttributeDataType||(e.AttributeDataType={}))[t.FilterFlags=0]="FilterFlags",t[t.Animation=1]="Animation",t[t.GPGPU=2]="GPGPU",t[t.VV=3]="VV",t[t.DD0=4]="DD0",t[t.DD1=5]="DD1",t[t.DD2=6]="DD2",t[t.LocalTimeOrigin=7]="LocalTimeOrigin",e.MAX_TILE_RESHUFFLES_PER_FRAME=1,e.RESHUFFLING_EXEMPT_DRAW_CALLS=10,e.RESHUFFLING_EXEMPT_MEMORY_BYTES=1<<20,e.RESHUFFLING_TARGET_DRAW_EFFICIENCY=.75,e.RESHUFFLING_TARGET_MEMORY_EFFICIENCY=.75,e.angleFactor256=256/360,e.animationUnit=2,e.attributeStoreInitialSize=256,e.attributeStoreTextureSize=1024,e.averageGlyphMosaicItem={metrics:{width:15,height:17,left:0,top:-7,advance:14}},e.backbufferStencilClipped=1,e.backbufferStencilVisible=0,e.bitsetFillHasPatternHeightPrecisionFactor=32,e.bitsetFillHasPatternWidthPrecisionFactor=64,e.bitsetFillHasUnresolvedReplacementColor=8,e.bitsetFillRandomPatternOffset=4,e.bitsetGenericConsiderAlphaOnly=16,e.bitsetGenericLockColor=2,e.bitsetLineScaleDash=4,e.bitsetMarkerAlignmentMap=1,e.bitsetMarkerAlignmentScreen=0,e.bitsetMarkerOutlineAllowColorOverride=4,e.bitsetMarkerScaleSymbolsProportionally=8,e.bitsetTypeFillOutline=1,e.bufferDataMinimumSize=128,e.bufferDataPoolSize=4,e.chartMaxFields=10,e.collisionBoxPadding=16,e.collisionBucketSize=128,e.collisionEarlyRejectBucketSize=16,e.collisionMaxZoomDelta=1,e.collisionPlacementPadding=8,e.collisionTileBoxSize=4,e.compressionFactorForU16=128,e.dataDrivenUnit0=4,e.dataDrivenUnit1=5,e.dataDrivenUnit2=6,e.debugLabels=!1,e.defaultSdfTextureSize=128,e.displayRecordIntPerElement=8,e.dotDensityMaxFields=8,e.effectFlag0=128,e.enableEarlyLabelDiscard=!1,e.extrudeScale=64,e.filterFlag0=64,e.filterFlagsUnit=1,e.glyphSize=24,e.gpgpuUnit=12,e.gradientTextureExternalPadding=1,e.heuristicGlyphsPerFeature=10,e.heuristicGlyphsPerLine=50,e.hittestSmallSymbolThreshold=3,e.hittestToleranceDesktop=1,e.hittestToleranceMobile=3,e.hittestToleranceSmallSymbol=3,e.labelPlacementOffsetPadding=4,e.localTimeOriginUnit=13,e.magicLabelLineHeight=29,e.maxGeohashLevel=12,e.maxGpuUploadsPerFrame=2,e.maxHighlightReasons=6,e.maxRepresentableInt=16777216,e.maxTextLineWidth=512,e.minMaxZoomPrecisionFactor=10,e.minTextLineWidth=32,e.nanMagicNumber=1e-30,e.patchPixelBufferAllocSize=500,e.patternFillRasterizationScale=2,e.pictureFillColor=4294967295,e.randomInsidePolygonTextureSize=1024,e.rasterTileSize=256,e.rasterizedVectorMarkerMinSize=128,e.spritePadding=4,e.svgSdfTextureInnerSize=248,e.svgSdfTextureSize=256,e.textureBindingBitmap=0,e.textureBindingGlyphAtlas=0,e.textureBindingHighlight0=5,e.textureBindingHighlight1=6,e.textureBindingRenderer0=5,e.textureBindingRenderer1=6,e.textureBindingSpriteAtlas=0,e.textureUploadManagerBudget=4,e.textureUploadManagerChunkSize=128,e.thinLineHalfWidthThreshold=1.05,e.tileSize=512,e.visualVariableUnit=3,e.vtlHighResCutoff=1.15,e.vtlTextureBindingUnitGlyphs=6,e.vtlTextureBindingUnitSprites=5,e.webglMaxInnerStops=6,e.webglMaxStops=8,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/views/2d/engine/vectorTiles/buckets/SymbolBucket":function(){define(["../../../../../core/BidiEngine","../../../../../core/maybe","../../../../../core/string","../../../../../geometry/support/TileClipper","../constants","../enums","../GeometryUtils","../Placement","../TextShaping","./BaseBucket","../style/StyleDefinition","../style/StyleLayer"],(function(e,t,r,n,i,o,s,a,l,c,u,d){"use strict";function f(e,t){return e.iconMosaicItem&&t.iconMosaicItem?e.iconMosaicItem.page===t.iconMosaicItem.page?0:e.iconMosaicItem.page-t.iconMosaicItem.page:e.iconMosaicItem&&!t.iconMosaicItem?1:!e.iconMosaicItem&&t.iconMosaicItem?-1:0}class h extends c{constructor(e,t,r,n,i,s,a,l,c){super(t,r,c.getSpriteItems()),this.type=o.BucketType.SYMBOL,this._markerMap=new Map,this._glyphMap=new Map,this._glyphBufferDataStorage=new Map,this._isIconSDF=!1,this._sourceTileKey=e,this._iconVertexBuffer=n,this._iconIndexBuffer=i,this._textVertexBuffer=s,this._textIndexBuffer=a,this._placementEngine=l,this._workerTileHandler=c}get markerPageMap(){return this._markerMap}get glyphsPageMap(){return this._glyphMap}get symbolInstances(){return this._symbolInstances}static{this._bidiEngine=new e}getResources(e,t,n){const i=this.layer,o=this.zoom;e&&e.setExtent(this.layerExtent);const s=i.getLayoutProperty("icon-image"),a=i.getLayoutProperty("text-field");let l=i.getLayoutProperty("text-transform"),c=i.getLayoutProperty("text-font");const d=[];let f,p,y,m;s&&!s.isDataDriven&&(f=s.getValue(o)),a&&!a.isDataDriven&&(p=a.getValue(o)),l&&l.isDataDriven||(y=i.getLayoutValue("text-transform",o),l=null),c&&c.isDataDriven||(m=i.getLayoutValue("text-font",o),c=null);for(const g of this._features){const _=g.getGeometry(e);if(!_||0===_.length)continue;let T,S;s&&(T=s.isDataDriven?s.getValue(o,g):this._replaceKeys(f,g.values),T&&t(T));let x=!1;if(a&&(S=a.isDataDriven?a.getValue(o,g):this._replaceKeys(p,g.values),S)){switch(S=S.replaceAll("\\n","\n"),l&&(y=l.getValue(o,g)),y){case u.TextTransform.LOWERCASE:S=S.toLowerCase();break;case u.TextTransform.UPPERCASE:S=S.toUpperCase()}if(h._bidiEngine.hasBidiChar(S)){let e;e="rtl"===h._bidiEngine.checkContextual(S)?"IDNNN":"ICNNN",S=h._bidiEngine.bidiTransform(S,e,"VLYSN"),x=!0}if(S.length>0){c&&(m=c.getValue(o,g));for(const e of m){let t=n[e];t||(t=n[e]=new Set);for(const e of S){const r=e.codePointAt(0);null!=r&&t.add(r)}}}}if(!T&&!S)continue;const b=i.getLayoutValue("symbol-sort-key",o,g),E={feature:g,sprite:T,label:S,rtl:x,geometry:_,hash:(S?r.numericHash(S):0)^(T?r.numericHash(T):0),priority:b,textFont:m};d.push(E)}this._symbolFeatures=d}processFeatures(e){e&&e.setExtent(this.layerExtent);const r=this.layer,o=this.zoom,c=r.getLayoutValue("symbol-placement",o),p=c!==u.SymbolPlacement.POINT,y=r.getLayoutValue("symbol-spacing",o)*i.tilePixelRatio,m=r.getLayoutProperty("icon-image"),g=r.getLayoutProperty("text-field"),_=m?new d.IconLayout(r,o,p):null,T=g?new d.TextLayout(r,o,p):null,S=this._workerTileHandler;let x;m&&(x=S.getSpriteItems()),this._iconIndexStart=3*this._iconIndexBuffer.index,this._textIndexStart=3*this._textIndexBuffer.index,this._iconIndexCount=0,this._textIndexCount=0,this._markerMap.clear(),this._glyphMap.clear();const b=[];let E=1;T?.size&&(E=T.size/l.sdfGlyphSize);const v=T?T.maxAngle*s.cDegToRad:0,w=T?T.size*i.tilePixelRatio:0;for(const e of this._symbolFeatures){let r,s;_&&x&&e.sprite&&(r=x[e.sprite],r&&r.sdf&&(this._isIconSDF=!0)),r&&_.update(o,e.feature);let d=0;const f=e.label;if(f){t.assertIsSome(T),T.update(o,e.feature);const r=p&&T.rotationAlignment===u.RotationAlignment.MAP?T.keepUpright:T.writingMode&&T.writingMode.includes(u.TextWritingMode.VERTICAL);let n=.5;switch(T.anchor){case u.SymbolAnchor.TOP_LEFT:case u.SymbolAnchor.LEFT:case u.SymbolAnchor.BOTTOM_LEFT:n=0;break;case u.SymbolAnchor.TOP_RIGHT:case u.SymbolAnchor.RIGHT:case u.SymbolAnchor.BOTTOM_RIGHT:n=1}let a=.5;switch(T.anchor){case u.SymbolAnchor.TOP_LEFT:case u.SymbolAnchor.TOP:case u.SymbolAnchor.TOP_RIGHT:a=0;break;case u.SymbolAnchor.BOTTOM_LEFT:case u.SymbolAnchor.BOTTOM:case u.SymbolAnchor.BOTTOM_RIGHT:a=1}let c=.5;switch(T.justify){case u.TextJustification.AUTO:c=n;break;case u.TextJustification.LEFT:c=0;break;case u.TextJustification.RIGHT:c=1}const h=T.letterSpacing*l.sdfGlyphSize,y=p?0:T.maxWidth*l.sdfGlyphSize,m=T.lineHeight*l.sdfGlyphSize,g=e.textFont.map((e=>S.getGlyphItems(e)));if(s=new l.TextShaping(g,y,m,h,n,a,c).getShaping(f,e.rtl,r),s&&s.length>0){let e=1e30,t=-1e30;for(const r of s)e=Math.min(e,r.x),t=Math.max(t,r.x);d=(t-e+2*l.sdfGlyphSize)*E*i.tilePixelRatio}}for(let t of e.geometry){const o=[];if(c===u.SymbolPlacement.LINE){if(s?.length&&T?.size){const e=T.size*i.tilePixelRatio*(2+Math.min(2,4*Math.abs(T.offset[1])));t=h._smoothVertices(t,e)}h._pushAnchors(o,t,y,d)}else c===u.SymbolPlacement.LINE_CENTER?h._pushCenterAnchor(o,t):e.feature.type===n.GeometryType.Polygon?h._pushCentroid(o,t):o.push(new a.Anchor(t[0].x,t[0].y));for(const n of o){if(n.x<0||n.x>i.tileCoordSize||n.y<0||n.y>i.tileCoordSize)continue;if(p&&d>0&&T?.rotationAlignment===u.RotationAlignment.MAP&&!h._honorsTextMaxAngle(t,n,d,v,w))continue;const o={shaping:s,line:t,iconMosaicItem:r,anchor:n,symbolFeature:e,textColliders:[],iconColliders:[],textVertexRanges:[],iconVertexRanges:[]};b.push(o),this._processFeature(o,_,T)}}}b.sort(f),this._addPlacedGlyphs(),this._symbolInstances=b}serialize(){let e=14;e+=this.layerUIDs.length,e+=3*this.markerPageMap.size,e+=3*this.glyphsPageMap.size,e+=h._symbolsSerializationLength(this._symbolInstances),e+=this._iconVertexBuffer.array.length,e+=this._iconIndexBuffer.array.length,e+=this._textVertexBuffer.array.length,e+=this._textIndexBuffer.array.length;const t=new Uint32Array(e),r=new Int32Array(t.buffer),n=new Float32Array(t.buffer),[i,o,s]=this._sourceTileKey.split("/");let a=0;t[a++]=this.type,t[a++]=this.layerUIDs.length;for(let e=0;e<this.layerUIDs.length;e++)t[a++]=this.layerUIDs[e];t[a++]=this._isIconSDF?1:0,t[a++]=parseFloat(i),t[a++]=parseFloat(o),t[a++]=parseFloat(s),t[a++]=this.markerPageMap.size;for(const[e,[r,n]]of this.markerPageMap)t[a++]=e,t[a++]=r,t[a++]=n;t[a++]=this.glyphsPageMap.size;for(const[e,[r,n]]of this.glyphsPageMap)t[a++]=e,t[a++]=r,t[a++]=n;t[a++]=this._iconVertexBuffer.index/4,t[a++]=this._textVertexBuffer.index/4,a=h.serializeSymbols(t,r,n,a,this._symbolInstances),t[a++]=this._iconVertexBuffer.array.length;for(let e=0;e<this._iconVertexBuffer.array.length;e++)r[a++]=this._iconVertexBuffer.array[e];t[a++]=this._iconIndexBuffer.array.length;for(let e=0;e<this._iconIndexBuffer.array.length;e++)t[a++]=this._iconIndexBuffer.array[e];t[a++]=this._textVertexBuffer.array.length;for(let e=0;e<this._textVertexBuffer.array.length;e++)r[a++]=this._textVertexBuffer.array[e];t[a++]=this._textIndexBuffer.array.length;for(let e=0;e<this._textIndexBuffer.array.length;e++)t[a++]=this._textIndexBuffer.array[e];return t.buffer}static _symbolsSerializationLength(e){let t=0;t+=1;for(const r of e||[]){t+=5,t+=1;for(const e of r.textColliders)t+=10;for(const e of r.iconColliders)t+=10;t+=1,t+=2*r.textVertexRanges.length,t+=1,t+=2*r.iconVertexRanges.length}return t}static serializeSymbols(e,t,r,n,i){i=i||[],t[n++]=i.length;for(const e of i){t[n++]=e.anchor.x,t[n++]=e.anchor.y,t[n++]=e.symbolFeature.hash,t[n++]=e.symbolFeature.priority,t[n++]=e.symbolFeature.feature.featureIndex,t[n++]=e.textColliders.length+e.iconColliders.length;for(const i of e.textColliders)t[n++]=i.xTile,t[n++]=i.yTile,t[n++]=i.dxPixels,t[n++]=i.dyPixels,t[n++]=i.hard?1:0,t[n++]=i.partIndex,r[n++]=i.minLod,r[n++]=i.maxLod,t[n++]=i.width,t[n++]=i.height;for(const i of e.iconColliders)t[n++]=i.xTile,t[n++]=i.yTile,t[n++]=i.dxPixels,t[n++]=i.dyPixels,t[n++]=i.hard?1:0,t[n++]=i.partIndex,r[n++]=i.minLod,r[n++]=i.maxLod,t[n++]=i.width,t[n++]=i.height;t[n++]=e.textVertexRanges.length;for(const[r,i]of e.textVertexRanges)t[n++]=r,t[n++]=i;t[n++]=e.iconVertexRanges.length;for(const[r,i]of e.iconVertexRanges)t[n++]=r,t[n++]=i}return n}_replaceKeys(e,t){return e.replaceAll(/{([^{}]+)}/g,((e,r)=>r in t?t[r]:""))}_processFeature(e,t,r){const{line:n,iconMosaicItem:i,shaping:o,anchor:a}=e,l=this.zoom,c=this.layer,d=!!i;let f=!0;d&&(f=t?.optional||!i);const h=o&&o.length>0,p=!h||r?.optional;let y,m;if(d&&(y=this._placementEngine.getIconPlacement(a,i,t)),(y||f)&&(h&&(m=this._placementEngine.getTextPlacement(a,o,n,r)),m||p)){if(y&&m||(p||f?p||m?f||y||(m=null):y=null:(y=null,m=null)),m){const t=c.hasDataDrivenText?c.textMaterial.encodeAttributes(e.symbolFeature.feature,l,c):null;if(this._storePlacedGlyphs(e,m.shapes,l,r.rotationAlignment,t),m.textColliders){e.textColliders=m.textColliders;for(const e of m.textColliders){e.minLod=Math.max(l+s.log2(e.minLod),0),e.maxLod=Math.min(l+s.log2(e.maxLod),25);const t=e.angle;if(t){const r=Math.cos(t),n=Math.sin(t),i=e.dxPixels*r-e.dyPixels*n,o=e.dxPixels*n+e.dyPixels*r,s=(e.dxPixels+e.width)*r-e.dyPixels*n,a=(e.dxPixels+e.width)*n+e.dyPixels*r,l=e.dxPixels*r-(e.dyPixels+e.height)*n,c=e.dxPixels*n+(e.dyPixels+e.height)*r,u=(e.dxPixels+e.width)*r-(e.dyPixels+e.height)*n,d=(e.dxPixels+e.width)*n+(e.dyPixels+e.height)*r,f=Math.min(i,s,l,u),h=Math.max(i,s,l,u),p=Math.min(o,a,c,d),y=Math.max(o,a,c,d);e.dxPixels=f,e.dyPixels=p,e.width=h-f,e.height=y-p}}}}if(y){const r=c.hasDataDrivenIcon?c.iconMaterial.encodeAttributes(e.symbolFeature.feature,l,c):null;if(this._addPlacedIcons(e,y.shapes,l,i.page,t.rotationAlignment===u.RotationAlignment.VIEWPORT,r),y.iconColliders){e.iconColliders=y.iconColliders;for(const e of y.iconColliders){e.minLod=Math.max(l+s.log2(e.minLod),0),e.maxLod=Math.min(l+s.log2(e.maxLod),25);const t=e.angle;if(t){const r=Math.cos(t),n=Math.sin(t),i=e.dxPixels*r-e.dyPixels*n,o=e.dxPixels*n+e.dyPixels*r,s=(e.dxPixels+e.width)*r-e.dyPixels*n,a=(e.dxPixels+e.width)*n+e.dyPixels*r,l=e.dxPixels*r-(e.dyPixels+e.height)*n,c=e.dxPixels*n+(e.dyPixels+e.height)*r,u=(e.dxPixels+e.width)*r-(e.dyPixels+e.height)*n,d=(e.dxPixels+e.width)*n+(e.dyPixels+e.height)*r,f=Math.min(i,s,l,u),h=Math.max(i,s,l,u),p=Math.min(o,a,c,d),y=Math.max(o,a,c,d);e.dxPixels=f,e.dyPixels=p,e.width=h-f,e.height=y-p}}}}}}_addPlacedIcons(e,t,r,n,i,o){const a=Math.max(r-1,0),l=this._iconVertexBuffer,c=this._iconIndexBuffer,u=this._markerMap;for(const d of t){const t=i?0:Math.max(r+s.log2(d.minzoom),a),f=i?25:Math.min(r+s.log2(d.maxzoom),25);if(f<=t)continue;const h=d.tl,p=d.tr,y=d.bl,m=d.br,g=d.mosaicRect,_=d.labelAngle,T=d.minAngle,S=d.maxAngle,x=d.anchor,b=l.index,E=g.x,v=g.y,w=E+g.width,P=v+g.height,A=l.index;l.add(x.x,x.y,h.x,h.y,E,v,_,T,S,t,f,o),l.add(x.x,x.y,p.x,p.y,w,v,_,T,S,t,f,o),l.add(x.x,x.y,y.x,y.y,E,P,_,T,S,t,f,o),l.add(x.x,x.y,m.x,m.y,w,P,_,T,S,t,f,o),e.iconVertexRanges.length>0&&e.iconVertexRanges[0][0]+e.iconVertexRanges[0][1]===A?e.iconVertexRanges[0][1]+=4:e.iconVertexRanges.push([A,4]),c.add(b,b+1,b+2),c.add(b+1,b+2,b+3),u.has(n)?u.get(n)[1]+=6:u.set(n,[this._iconIndexStart+this._iconIndexCount,6]),this._iconIndexCount+=6}}_addPlacedGlyphs(){const e=this._textVertexBuffer,t=this._textIndexBuffer,r=this._glyphMap;for(const[n,i]of this._glyphBufferDataStorage)for(const o of i){const i=e.index,s=o.symbolInstance,a=o.ddAttributes,l=e.index;e.add(o.glyphAnchor[0],o.glyphAnchor[1],o.tl[0],o.tl[1],o.xmin,o.ymin,o.labelAngle,o.minAngle,o.maxAngle,o.minLod,o.maxLod,a),e.add(o.glyphAnchor[0],o.glyphAnchor[1],o.tr[0],o.tr[1],o.xmax,o.ymin,o.labelAngle,o.minAngle,o.maxAngle,o.minLod,o.maxLod,a),e.add(o.glyphAnchor[0],o.glyphAnchor[1],o.bl[0],o.bl[1],o.xmin,o.ymax,o.labelAngle,o.minAngle,o.maxAngle,o.minLod,o.maxLod,a),e.add(o.glyphAnchor[0],o.glyphAnchor[1],o.br[0],o.br[1],o.xmax,o.ymax,o.labelAngle,o.minAngle,o.maxAngle,o.minLod,o.maxLod,a),s.textVertexRanges.length>0&&s.textVertexRanges[0][0]+s.textVertexRanges[0][1]===l?s.textVertexRanges[0][1]+=4:s.textVertexRanges.push([l,4]),t.add(i,i+1,i+2),t.add(i+1,i+2,i+3),r.has(n)?r.get(n)[1]+=6:r.set(n,[this._textIndexStart+this._textIndexCount,6]),this._textIndexCount+=6}this._glyphBufferDataStorage.clear()}_storePlacedGlyphs(e,t,r,n,i){const o=Math.max(r-1,0),a=n===u.RotationAlignment.VIEWPORT;let l,c,d,f,h,p,y,m,g,_,T;for(const n of t)l=a?0:Math.max(r+s.log2(n.minzoom),o),c=a?25:Math.min(r+s.log2(n.maxzoom),25),c<=l||(d=n.tl,f=n.tr,h=n.bl,p=n.br,y=n.labelAngle,m=n.minAngle,g=n.maxAngle,_=n.anchor,T=n.mosaicRect,this._glyphBufferDataStorage.has(n.page)||this._glyphBufferDataStorage.set(n.page,[]),this._glyphBufferDataStorage.get(n.page).push({glyphAnchor:[_.x,_.y],tl:[d.x,d.y],tr:[f.x,f.y],bl:[h.x,h.y],br:[p.x,p.y],xmin:T.x,ymin:T.y,xmax:T.x+T.width,ymax:T.y+T.height,labelAngle:y,minAngle:m,maxAngle:g,minLod:l,maxLod:c,placementLod:o,symbolInstance:e,ddAttributes:i}))}static _pushAnchors(e,t,r,i){r+=i;let o=0;const l=t.length-1;for(let e=0;e<l;e++)o+=n.Point.distance(t[e],t[e+1]);let c=i||r;if(c*=.5,o<=c)return;const u=c/o;let d=0,f=-(r=o/Math.max(Math.round(o/r),1))/2;const h=t.length-1;for(let n=0;n<h;n++){const i=t[n],o=t[n+1],l=o.x-i.x,c=o.y-i.y,h=Math.sqrt(l*l+c*c);let p;for(;f+r<d+h;){f+=r;const t=(f-d)/h,y=s.interpolate(i.x,o.x,t),m=s.interpolate(i.y,o.y,t);void 0===p&&(p=Math.atan2(c,l)),e.push(new a.Anchor(y,m,p,n,u))}d+=h}}static _pushCenterAnchor(e,t){let r=0;const i=t.length-1;for(let e=0;e<i;e++)r+=n.Point.distance(t[e],t[e+1]);const o=r/2;let l=0;const c=t.length-1;for(let r=0;r<c;r++){const n=t[r],i=t[r+1],c=i.x-n.x,u=i.y-n.y,d=Math.sqrt(c*c+u*u);if(o<l+d){const t=(o-l)/d,f=s.interpolate(n.x,i.x,t),h=s.interpolate(n.y,i.y,t),p=Math.atan2(u,c);return void e.push(new a.Anchor(f,h,p,r,0))}l+=d}}static _deviation(e,t,r){const n=(t.x-e.x)*(r.x-t.x)+(t.y-e.y)*(r.y-t.y),i=(t.x-e.x)*(r.y-t.y)-(t.y-e.y)*(r.x-t.x);return Math.atan2(i,n)}static _honorsTextMaxAngle(e,t,r,i,o){let s=0;const a=r/2;let l=new n.Point(t.x,t.y),c=t.segment+1;for(;s>-a;){if(--c,c<0)return!1;s-=n.Point.distance(e[c],l),l=e[c]}s+=n.Point.distance(e[c],e[c+1]);const u=[];let d=0;const f=e.length;for(;s<a;){const t=e[c];let r,a=c;do{if(++a,a===f)return!1;r=e[a]}while(r.isEqual(t));let l,h=a;do{if(++h,h===f)return!1;l=e[h]}while(l.isEqual(r));const p=this._deviation(t,r,l);for(u.push({deviation:p,distToAnchor:s}),d+=p;s-u[0].distToAnchor>o;)d-=u.shift().deviation;if(Math.abs(d)>i)return!1;s+=n.Point.distance(r,l),c=a}return!0}static _smoothVertices(e,t){if(t<=0)return e;let r=e.length;if(r<3)return e;const i=[];let o=0,s=0;i.push(0);for(let t=1;t<r;t++){const r=n.Point.distance(e[t],e[t-1]);r>0&&(o+=r,i.push(o),s++,s!==t&&(e[s]=e[t]))}if(r=s+1,r<3)return e;t=Math.min(t,.2*o);const a=e[0].x,l=e[0].y,c=e[r-1].x,u=e[r-1].y,d=n.Point.sub(e[0],e[1]);d.normalize(),e[0].x+=t*d.x,e[0].y+=t*d.y,d.assignSub(e[r-1],e[r-2]),d.normalize(),e[r-1].x+=t*d.x,e[r-1].y+=t*d.y,i[0]-=t,i[r-1]+=t;const f=[];f.push(new n.Point(a,l));const h=1e-6,p=.5*t;for(let o=1;o<r-1;o++){let s=0,a=0,l=0;for(let r=o-1;r>=0;r--){const n=p+i[r+1]-i[o];if(n<0)break;const c=i[r+1]-i[r],u=i[o]-i[r]<p?1:n/c;if(u<h)break;const d=u*u,f=u*n-.5*d*c,y=u*c/t,m=e[r+1],g=e[r].x-m.x,_=e[r].y-m.y;s+=y/f*(m.x*u*n+.5*d*(n*g-c*m.x)-d*u*c*g/3),a+=y/f*(m.y*u*n+.5*d*(n*_-c*m.y)-d*u*c*_/3),l+=y}for(let n=o+1;n<r;n++){const r=p-i[n-1]+i[o];if(r<0)break;const c=i[n]-i[n-1],u=i[n]-i[o]<p?1:r/c;if(u<h)break;const d=u*u,f=u*r-.5*d*c,y=u*c/t,m=e[n-1],g=e[n].x-m.x,_=e[n].y-m.y;s+=y/f*(m.x*u*r+.5*d*(r*g-c*m.x)-d*u*c*g/3),a+=y/f*(m.y*u*r+.5*d*(r*_-c*m.y)-d*u*c*_/3),l+=y}f.push(new n.Point(s/l,a/l))}return f.push(new n.Point(c,u)),e[0].x=a,e[0].y=l,e[r-1].x=c,e[r-1].y=u,f}static _pushCentroid(e,t){const r=i.tileCoordSize,n=i.tileCoordSize,o=t.length-1;let s=0,l=0,c=0,u=t[0].x,d=t[0].y;u>r&&(u=r),u<0&&(u=0),d>n&&(d=n),d<0&&(d=0);for(let e=1;e<o;e++){let i=t[e].x,o=t[e].y,a=t[e+1].x,f=t[e+1].y;i>r&&(i=r),i<0&&(i=0),o>n&&(o=n),o<0&&(o=0),a>r&&(a=r),a<0&&(a=0),f>n&&(f=n),f<0&&(f=0);const h=(i-u)*(f-d)-(a-u)*(o-d);s+=h*(u+i+a),l+=h*(d+o+f),c+=h}s/=3*c,l/=3*c,isNaN(s)||isNaN(l)||e.push(new a.Anchor(s,l))}}return h}))},"esri/core/BidiEngine":function(){define(["./bidiEngineTables"],(function(e){"use strict";function t(e,i,o,a,l){const c=function(e,t,n){if(void 0===t.inFormat&&(t.inFormat=n.defInFormat),void 0===t.outFormat&&(t.outFormat=n.defOutFormat),void 0===t.swap&&(t.swap=n.defSwap),t.inFormat===t.outFormat)return t;const i=t.inFormat.slice(0,1),o=t.outFormat.slice(0,1);let s,a=t.inFormat.slice(1,4),l=t.outFormat.slice(1,4);return"C"===a.charAt(0)&&(s=r(e),a="ltr"===s||"rtl"===s?s.toUpperCase():"L"===t.inFormat.charAt(2)?"LTR":"RTL",t.inFormat=i+a),"C"===l.charAt(0)&&(s=r(e),"rtl"===s?l="RTL":"ltr"===s?(s=function(e){const t=e.split("");return t.reverse(),r(t.join(""))}(e),l=s.toUpperCase()):l="L"===t.outFormat.charAt(2)?"LTR":"RTL",t.outFormat=o+l),t}(e,{inFormat:i,outFormat:o,swap:a},l);if(c.inFormat===c.outFormat)return e;i=c.inFormat,o=c.outFormat,a=c.swap;const u=i.slice(0,1),d=i.slice(1,4),f=o.slice(0,1),h=o.slice(1,4);if(l.inFormat=i,l.outFormat=o,l.swap=a,"L"===u&&"VLTR"===o){if("LTR"===d)return l.dir=M,n(e,l);if("RTL"===d)return l.dir=I,n(e,l)}if("V"===u&&"V"===f)return l.dir="RTL"===d?I:M,s(e,l);if("L"===u&&"VRTL"===o)return"LTR"===d?(l.dir=M,e=n(e,l)):(l.dir=I,e=n(e,l)),s(e);if("VLTR"===i&&"LLTR"===o)return l.dir=M,n(e,l);if("V"===u&&"L"===f&&d!==h)return e=s(e),"RTL"===d?t(e,"LLTR","VLTR",a,l):t(e,"LRTL","VRTL",a,l);if("VRTL"===i&&"LRTL"===o)return t(e,"LRTL","VRTL",a,l);if("L"===u&&"L"===f){const r=l.swap;return l.swap=r.slice(0,1)+"N","RTL"===d?(l.dir=I,e=n(e,l),l.swap="N"+r.slice(1,3),l.dir=M,e=n(e,l)):(l.dir=M,e=n(e,l),l.swap="N"+r.slice(1,3),e=t(e,"VLTR","LRTL",l.swap,l)),e}return e}function r(e){const t=/[A-Za-z\u05d0-\u065f\u066a-\u06ef\u06fa-\u07ff\ufb1d-\ufdff\ufe70-\ufefc]/.exec(e);return t?t[0]<="z"?"ltr":"rtl":""}function n(e,t){const r=e.split(""),n=[];return i(r,n,t),function(e,t,r){if(0!==r.hiLevel&&r.swap[0]!==r.swap[1])for(let r=0;r<e.length;r++)1===t[r]&&(e[r]=h(e[r]))}(r,n,t),d(2,r,n,t),d(1,r,n,t),v=n,r.join("")}function i(t,r,n){const i=t.length,s=n.dir?e.impTabRtl:e.impTabLtr;let a=0,l=-1;const c=[],u=[];n.hiLevel=n.dir,n.lastArabic=!1,n.hasUbatAl=!1,n.hasUbatB=!1,n.hasUbatS=!1;for(let e=0;e<i;e++)c[e]=o(t[e]);for(let o=0;o<i;o++){const i=a,d=f(t,c,u,o,n);u[o]=d,a=s[i][d];const h=240&a;a&=15;const p=s[a][P];if(r[o]=p,h>0)if(16===h){for(let e=l;e<o;e++)r[e]=1;l=-1}else l=-1;if(s[a][A])-1===l&&(l=o);else if(l>-1){for(let e=l;e<o;e++)r[e]=p;l=-1}c[o]===e.ubatB&&(r[o]=0),n.hiLevel|=p}n.hasUbatS&&function(t,r,n,i){for(let o=0;o<n;o++)if(t[o]===e.ubatS){r[o]=i.dir;for(let n=o-1;n>=0&&t[n]===e.ubatWs;n--)r[n]=i.dir}}(c,r,i,n)}function o(t){const r=t.charCodeAt(0),n=e.primaryTable[r>>8];return n<e.tbbase?n:e.unicodeTable[n-e.tbbase][255&r]}function s(e,t){const r=e.split("");if(t){const e=[];i(r,e,t),v=e}return r.reverse(),b.reverse(),r.join("")}function a(e,t,r){for(let n=0;n<t;n++)if(e[n]===r)return n;return-1}function l(t){for(let r=0;r<e.arabicAlefBetIntervalsBegine.length;r++)if(t>=e.arabicAlefBetIntervalsBegine[r]&&t<=e.arabicAlefBetIntervalsEnd[r])return!0;return!1}function c(e,t,r,n){for(;t*r<n&&g(e[t]);)t+=r;return!!(t*r<n&&l(e[t]))}function u(t,r,n,i){for(;r*n<i&&g(t[r]);)r+=n;let o=" ";if(!(r*n<i))return!1;o=t[r];for(let t=0;t<e.aLefTable.length;t++)if(e.aLefTable[t]===o)return!0;return!1}function d(e,t,r,n){if(n.hiLevel<e)return;if(1===e&&n.dir===I&&!n.hasUbatB)return t.reverse(),void b.reverse();const i=t.length;let o,s,a,l,c,u=0;for(;u<i;){if(r[u]>=e){for(o=u+1;o<i&&r[o]>=e;)o++;for(s=u,a=o-1;s<a;s++,a--)l=t[s],t[s]=t[a],t[a]=l,c=b[s],b[s]=b[a],b[a]=c;u=o}u++}}function f(t,r,n,i,o){const s=r[i];return{UBAT_L:()=>(o.lastArabic=!1,e.ubatL),UBAT_R:()=>(o.lastArabic=!1,e.ubatR),UBAT_ON:()=>e.ubatOn,UBAT_AN:()=>e.ubatAn,UBAT_EN:()=>o.lastArabic?e.ubatAn:e.ubatEn,UBAT_AL:()=>(o.lastArabic=!0,o.hasUbatAl=!0,e.ubatR),UBAT_WS:()=>e.ubatOn,UBAT_CS:()=>{let t,s;return i<1||i+1>=r.length||(t=n[i-1])!==e.ubatEn&&t!==e.ubatAn||(s=r[i+1])!==e.ubatEn&&s!==e.ubatAn?e.ubatOn:(o.lastArabic&&(s=e.ubatAn),s===t?s:e.ubatOn)},UBAT_ES:()=>(i>0?n[i-1]:e.ubatB)===e.ubatEn&&i+1<r.length&&r[i+1]===e.ubatEn?e.ubatEn:e.ubatOn,UBAT_ET:()=>{if(i>0&&n[i-1]===e.ubatEn)return e.ubatEn;if(o.lastArabic)return e.ubatOn;let t=i+1;const s=r.length;for(;t<s&&r[t]===e.ubatEt;)t++;return t<s&&r[t]===e.ubatEn?e.ubatEn:e.ubatOn},UBAT_NSM:()=>{if("VLTR"===o.inFormat){const n=r.length;let o=i+1;for(;o<n&&r[o]===e.ubatNsm;)o++;if(o<n){const n=t[i].charCodeAt(0),s=n>=1425&&n<=2303||64286===n,a=r[o];if(s&&(a===e.ubatR||a===e.ubatAl))return e.ubatR}}return i<1||r[i-1]===e.ubatB?e.ubatOn:n[i-1]},UBAT_B:()=>(o.lastArabic=!0,o.hasUbatB=!0,o.dir),UBAT_S:()=>(o.hasUbatS=!0,e.ubatOn),UBAT_LRE:()=>(o.lastArabic=!1,e.ubatOn),UBAT_RLE:()=>(o.lastArabic=!1,e.ubatOn),UBAT_LRO:()=>(o.lastArabic=!1,e.ubatOn),UBAT_RLO:()=>(o.lastArabic=!1,e.ubatOn),UBAT_PDF:()=>(o.lastArabic=!1,e.ubatOn),UBAT_BN:()=>e.ubatOn}[e.typesNames[s]]()}function h(t){let r,n=0,i=e.swapTable.length-1;for(;n<=i;)if(r=Math.floor((n+i)/2),t<e.swapTable[r][0])i=r-1;else{if(!(t>e.swapTable[r][0]))return e.swapTable[r][1];n=r+1}return t}function p(t){for(let r=0;r<e.standAlonForm.length;r++)if(e.standAlonForm[r]===t)return!0;return!1}function y(t){for(let r=0;r<e.baseForm.length;r++)if(t===e.baseForm[r])return e.medialForm[r];return t}function m(t,r){for(let n=0;n<e.baseForm.length;n++)if(t===e.baseForm[n])return r[n];return t}function g(e){return e>="ً"&&e<="ٕ"}function _(e){return"L"===e?"LTR":"R"===e?"RTL":"C"===e?"CLR":"D"===e?"CRL":""}function T(e,t,r,n){for(;t*r<n&&g(e[t]);)t+=r;return t*r<n&&(e[t]=" ",!0)}function S(t,r){for(let n=0;n<e.aLefTable.length;n++)if(t===e.aLefTable[n])return r[n];return t}function x(e,t,r,n){for(let i=0;i<e.length;i++)(e[i]>t||!r&&e[i]===t)&&(e[i]+=n)}let b=[],E=[],v=[];const w={dir:0,defInFormat:"LLTR",defSwap:"YN",inFormat:"LLTR",outFormat:"VLTR",swap:"YN",hiLevel:0,lastArabic:!1,hasUbatAl:!1,defOutFormat:""},P=5,A=6,M=0,I=1,O=/^[(I|V)][(L|R|C|D)][(Y|N)][(S|N)][N]$/,R=/[\u0591-\u06ff\ufb1d-\ufefc]/;return class{constructor(){this.inputFormat="ILYNN",this.outputFormat="VLNNN",this.sourceToTarget=[],this.targetToSource=[],this.levels=[]}bidiTransform(r,n,i){if(this.sourceToTarget=[],this.targetToSource=[],!r)return"";if(function(e,t,r){b=[],v=[];for(let n=0;n<r;n++)e[n]=n,t[n]=n,b[n]=n}(this.sourceToTarget,this.targetToSource,r.length),!this.checkParameters(n,i))return r;n=this.inputFormat,i=this.outputFormat;let o=r;const s=w,d=_(n.charAt(1)),f=_(i.charAt(1)),h=("I"===n.charAt(0)?"L":n.charAt(0))+d,P=("I"===i.charAt(0)?"L":i.charAt(0))+f,A=n.charAt(2)+i.charAt(2);s.defInFormat=h,s.defOutFormat=P,s.defSwap=A;const M=t(r,h,P,A,s);let I=!1;return"R"===i.charAt(1)?I=!0:"C"!==i.charAt(1)&&"D"!==i.charAt(1)||(I="rtl"===this.checkContextual(M)),this.sourceToTarget=b,this.targetToSource=function(e){const t=new Array(e.length);for(let r=0;r<e.length;r++)t[e[r]]=r;return t}(this.sourceToTarget),E=this.targetToSource,o=n.charAt(3)===i.charAt(3)?M:"S"===i.charAt(3)?function(t,r){if(0===r.length)return"";void 0===t&&(t=!0);const n=(r=String(r)).split("");let i=0,o=1,s=n.length;t||(i=n.length-1,o=-1,s=1);const d=function(t,r,n,i){let o=0;const s=[];let a=0;for(let d=r;d*n<i;d+=n)if(l(t[d])||g(t[d])){if("ل"===t[d]&&u(t,d+n,n,i)){t[d]=S(t[d+n],0===o?e.lamAlefInialTableFE:e.lamAlefMedialTableFE),d+=n,T(t,d,n,i),s[a]=d,a++,o=0;continue}const r=t[d];1===o?t[d]=c(t,d+n,n,i)?y(t[d]):m(t[d],e.finalForm):!0===c(t,d+n,n,i)?t[d]=m(t[d],e.initialForm):t[d]=m(t[d],e.isolatedForm),g(r)||(o=1),!0===p(r)&&(o=0)}else o=0;return s}(n,i,o,s);let f="";for(let e=0;e<n.length;e++)a(d,d.length,e)>-1?(x(E,e,!t,-1),b.splice(e,1)):f+=n[e];return f}(I,M):function(t,r){if(0===t.length)return"";void 0===r&&(r=!0);let n="";const i=(t=String(t)).split("");for(let o=0;o<t.length;o++){let s=!1;if(i[o]>="ﹰ"&&i[o]<"\ufeff"){const a=t.charCodeAt(o);i[o]>="ﻵ"&&i[o]<="ﻼ"?(r?(o>0&&" "===i[o-1]?n=n.slice(0,-1)+"ل":(n+="ل",s=!0),n+=e.aLefTable[(a-65269)/2]):(n+=e.aLefTable[(a-65269)/2],n+="ل",o+1<t.length&&" "===i[o+1]?o++:s=!0),s&&(x(E,o,!0,1),b.splice(o,0,b[o]))):n+=e.feTo06Table[a-65136]}else n+=i[o]}return n}(M,I),this.sourceToTarget=b,this.targetToSource=E,this.levels=v,o}_inputFormatSetter(e){if(!O.test(e))throw new Error("dojox/string/BidiEngine: the bidi layout string is wrong!");this.inputFormat=e}_outputFormatSetter(e){if(!O.test(e))throw new Error("dojox/string/BidiEngine: the bidi layout string is wrong!");this.outputFormat=e}checkParameters(e,t){return e?this._inputFormatSetter(e):e=this.inputFormat,t?this._outputFormatSetter(t):t=this.outputFormat,e!==t}checkContextual(e){let t=r(e);if("ltr"!==t&&"rtl"!==t){try{t=document.dir.toLowerCase()}catch(e){}"ltr"!==t&&"rtl"!==t&&(t="ltr")}return t}hasBidiChar(e){return R.test(e)}}}))},"esri/core/bidiEngineTables":function(){define(["exports"],(function(e){"use strict";const t=10,r=11,n=12,i=18,o=[[i,i,i,i,i,i,i,i,i,6,5,6,8,5,i,i,i,i,i,i,i,i,i,i,i,i,i,i,5,5,5,6,8,4,4,r,r,r,4,4,4,4,4,t,9,t,9,9,2,2,2,2,2,2,2,2,2,2,9,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,i,i,i,i,i,i,5,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,9,4,r,r,r,r,4,4,4,4,0,4,4,i,4,4,r,r,2,2,4,0,4,4,4,2,0,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,4,4,4,4,4,4,4,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,1,n,1,n,n,1,n,n,1,n,4,4,4,4,4,4,4,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,4,4,4,4,1,1,1,1,1,4,4,4,4,4,4,4,4,4,4,4],[3,3,3,3,4,4,4,4,7,r,r,7,9,7,4,4,n,n,n,n,n,n,n,n,n,n,n,7,4,4,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,3,3,3,3,3,3,3,3,3,3,r,3,3,7,7,7,n,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,n,n,n,n,n,n,n,3,4,n,n,n,n,n,n,7,7,n,n,4,n,n,n,n,7,7,2,2,2,2,2,2,2,2,2,2,7,7,7,7,7,7],[7,7,7,7,7,7,7,7,7,7,7,7,7,7,4,7,7,n,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,4,4,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,n,n,n,n,n,n,n,n,n,n,n,7,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,n,n,n,n,n,n,n,n,n,1,1,4,4,4,4,1,4,4,4,4,4],[8,8,8,8,8,8,8,8,8,8,8,i,i,i,0,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8,5,13,14,15,16,17,9,r,r,r,r,r,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,9,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8,i,i,i,i,i,4,4,4,4,4,i,i,i,i,i,i,2,0,4,4,2,2,2,2,2,2,t,t,4,4,4,0,2,2,2,2,2,2,2,2,2,2,t,t,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4],[0,0,0,0,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,4,4,4,4,4,1,n,1,1,1,1,1,1,1,1,1,1,t,1,1,1,1,1,1,1,1,1,1,1,1,1,4,1,1,1,1,1,4,1,4,1,1,4,1,1,4,1,1,1,1,1,1,1,1,1,1,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7],[n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,n,n,n,n,n,n,n,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,9,4,9,4,4,9,4,4,4,4,4,4,4,4,4,r,4,4,t,t,4,4,4,4,4,r,r,4,4,4,4,4,7,7,7,7,7,4,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,4,4,i],[4,4,4,r,r,r,4,4,4,4,4,t,9,t,9,9,2,2,2,2,2,2,2,2,2,2,9,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,0,0,0,0,0,0,4,4,0,0,0,0,0,0,4,4,0,0,0,0,0,0,4,4,0,0,0,4,4,4,r,r,4,4,4,r,r,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4]];e.aLefTable=["آ","أ","إ","ا"],e.arabicAlefBetIntervalsBegine=["ء","ف"],e.arabicAlefBetIntervalsEnd=["غ","ي"],e.baseForm=["ا","ب","ت","ث","ج","ح","خ","د","ذ","ر","ز","س","ش","ص","ض","ط","ظ","ع","غ","ف","ق","ك","ل","م","ن","ه","و","ي","إ","أ","آ","ة","ى","ل","م","ن","ه","و","ي","إ","أ","آ","ة","ى","ی","ئ","ؤ"],e.feTo06Table=["ً","ً","ٌ","؟","ٍ","؟","َ","َ","ُ","ُ","ِ","ِ","ّ","ّ","ْ","ْ","ء","آ","آ","أ","أ","ؤ","ؤ","إ","إ","ئ","ئ","ئ","ئ","ا","ا","ب","ب","ب","ب","ة","ة","ت","ت","ت","ت","ث","ث","ث","ث","ج","ج","ج","ج","ح","ح","ح","ح","خ","خ","خ","خ","د","د","ذ","ذ","ر","ر","ز","ز","س","س","س","س","ش","ش","ش","ش","ص","ص","ص","ص","ض","ض","ض","ض","ط","ط","ط","ط","ظ","ظ","ظ","ظ","ع","ع","ع","ع","غ","غ","غ","غ","ف","ف","ف","ف","ق","ق","ق","ق","ك","ك","ك","ك","ل","ل","ل","ل","م","م","م","م","ن","ن","ن","ن","ه","ه","ه","ه","و","و","ى","ى","ي","ي","ي","ي","ﻵ","ﻶ","ﻷ","ﻸ","ﻹ","ﻺ","ﻻ","ﻼ","؟","؟","؟"],e.finalForm=["ﺎ","ﺐ","ﺖ","ﺚ","ﺞ","ﺢ","ﺦ","ﺪ","ﺬ","ﺮ","ﺰ","ﺲ","ﺶ","ﺺ","ﺾ","ﻂ","ﻆ","ﻊ","ﻎ","ﻒ","ﻖ","ﻚ","ﻞ","ﻢ","ﻦ","ﻪ","ﻮ","ﻲ","ﺈ","ﺄ","ﺂ","ﺔ","ﻰ","ﯽ","ﺊ","ﺆ","ﹰ","ﹲ","ﹴ","ﹶ","ﹸ","ﹺ","ﹼ","ﹾ","ﺀ","ﺊ","ﺆ"],e.impTabLtr=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],e.impTabRtl=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],e.initialForm=["ﺍ","ﺑ","ﺗ","ﺛ","ﺟ","ﺣ","ﺧ","ﺩ","ﺫ","ﺭ","ﺯ","ﺳ","ﺷ","ﺻ","ﺿ","ﻃ","ﻇ","ﻋ","ﻏ","ﻓ","ﻗ","ﻛ","ﻟ","ﻣ","ﻧ","ﻫ","ﻭ","ﻳ","ﺇ","ﺃ","ﺁ","ﺓ","ﻯ","ﯾ","ﺋ","ﺅ","ﹰ","ﹲ","ﹴ","ﹶ","ﹸ","ﹺ","ﹼ","ﹾ","ﺀ","ﺋ","ﺅ"],e.isolatedForm=["ﺍ","ﺏ","ﺕ","ﺙ","ﺝ","ﺡ","ﺥ","ﺩ","ﺫ","ﺭ","ﺯ","ﺱ","ﺵ","ﺹ","ﺽ","ﻁ","ﻅ","ﻉ","ﻍ","ﻑ","ﻕ","ﻙ","ﻝ","ﻡ","ﻥ","ﻩ","ﻭ","ﻱ","ﺇ","ﺃ","ﺁ","ﺓ","ﻯ","ﯼ","ﺉ","ﺅ","ﹰ","ﹲ","ﹴ","ﹶ","ﹸ","ﹺ","ﹼ","ﹾ","ﺀ","ﺉ","ﺅ"],e.lamAlefInialTableFE=["ﻵ","ﻷ","ﻹ","ﻻ"],e.lamAlefMedialTableFE=["ﻶ","ﻸ","ﻺ","ﻼ"],e.medialForm=["ﺎ","ﺒ","ﺘ","ﺜ","ﺠ","ﺤ","ﺨ","ﺪ","ﺬ","ﺮ","ﺰ","ﺴ","ﺸ","ﺼ","ﻀ","ﻄ","ﻈ","ﻌ","ﻐ","ﻔ","ﻘ","ﻜ","ﻠ","ﻤ","ﻨ","ﻬ","ﻮ","ﻴ","ﺈ","ﺄ","ﺂ","ﺔ","ﻰ","ﯿ","ﺌ","ﺆ","ﹱ","ﹲ","ﹴ","ﹷ","ﹹ","ﹻ","ﹽ","ﹿ","ﺀ","ﺌ","ﺆ"],e.primaryTable=[100,0,0,0,0,101,102,103,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,104,4,4,4,0,4,0,4,0,4,4,4,0,0,4,4,0,0,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,4,4,0,0,4,4,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,105,7,7,106,107],e.standAlonForm=["ء","آ","أ","ؤ","إ","ا","ة","د","ذ","ر","ز","و","ى"],e.swapTable=[["(",")"],[")","("],["<",">"],[">","<"],["[","]"],["]","["],["{","}"],["}","{"],["«","»"],["»","«"],["‹","›"],["›","‹"],["⁽","⁾"],["⁾","⁽"],["₍","₎"],["₎","₍"],["≤","≥"],["≥","≤"],["〈","〉"],["〉","〈"],["﹙","﹚"],["﹚","﹙"],["﹛","﹜"],["﹜","﹛"],["﹝","﹞"],["﹞","﹝"],["﹤","﹥"],["﹥","﹤"]],e.tbbase=100,e.typesNames=["UBAT_L","UBAT_R","UBAT_EN","UBAT_AN","UBAT_ON","UBAT_B","UBAT_S","UBAT_AL","UBAT_WS","UBAT_CS","UBAT_ES","UBAT_ET","UBAT_NSM","UBAT_LRE","UBAT_RLE","UBAT_PDF","UBAT_LRO","UBAT_RLO","UBAT_BN"],e.ubatAl=7,e.ubatAn=3,e.ubatB=5,e.ubatBn=18,e.ubatCs=9,e.ubatEn=2,e.ubatEs=10,e.ubatEt=11,e.ubatL=0,e.ubatLre=13,e.ubatLro=16,e.ubatNsm=12,e.ubatOn=4,e.ubatPdf=15,e.ubatR=1,e.ubatRle=14,e.ubatRlo=17,e.ubatS=6,e.ubatWs=8,e.unicodeTable=o,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/views/2d/engine/vectorTiles/style/StyleLayer":function(){define(["exports","../../../../../geometry/support/aaBoundingRect","../constants","../enums","../GeometryUtils","../shaders/VTLBackgroundMaterial","../shaders/VTLCircleMaterial","../shaders/VTLFillMaterial","../shaders/VTLLineMaterial","../shaders/VTLSymbolMaterial","./Filter","./StyleDefinition","./StyleProperty","../../webgl/definitions"],(function(e,t,r,n,i,o,s,a,l,c,u,d,f,h){"use strict";var p;e.CapType=void 0,(p=e.CapType||(e.CapType={}))[p.BUTT=0]="BUTT",p[p.ROUND=1]="ROUND",p[p.SQUARE=2]="SQUARE",p[p.UNKNOWN=4]="UNKNOWN";class y{constructor(e,t,r,n){switch(this.type=e,this.typeName=t.type,this.id=t.id,this.source=t.source,this.sourceLayer=t["source-layer"],this.minzoom=t.minzoom,this.maxzoom=t.maxzoom,this.filter=t.filter,this.layout=t.layout,this.paint=t.paint,this.z=r,this.uid=n,e){case d.StyleLayerType.BACKGROUND:this._layoutDefinition=d.StyleDefinition.backgroundLayoutDefinition,this._paintDefinition=d.StyleDefinition.backgroundPaintDefinition;break;case d.StyleLayerType.FILL:this._layoutDefinition=d.StyleDefinition.fillLayoutDefinition,this._paintDefinition=d.StyleDefinition.fillPaintDefinition;break;case d.StyleLayerType.LINE:this._layoutDefinition=d.StyleDefinition.lineLayoutDefinition,this._paintDefinition=d.StyleDefinition.linePaintDefinition;break;case d.StyleLayerType.SYMBOL:this._layoutDefinition=d.StyleDefinition.symbolLayoutDefinition,this._paintDefinition=d.StyleDefinition.symbolPaintDefinition;break;case d.StyleLayerType.CIRCLE:this._layoutDefinition=d.StyleDefinition.circleLayoutDefinition,this._paintDefinition=d.StyleDefinition.circlePaintDefinition}this._layoutProperties=this._parseLayout(this.layout),this._paintProperties=this._parsePaint(this.paint)}getFeatureFilter(){return void 0!==this._featureFilter?this._featureFilter:this._featureFilter=u.createFilter(this.filter)}getLayoutProperty(e){return this._layoutProperties[e]}getPaintProperty(e){return this._paintProperties[e]}getLayoutValue(e,t,r){let n;const i=this._layoutProperties[e];return i&&(n=i.getValue(t,r)),void 0===n&&(n=this._layoutDefinition[e].default),n}getPaintValue(e,t,r){let n;const i=this._paintProperties[e];return i&&(n=i.getValue(t,r)),void 0===n&&(n=this._paintDefinition[e].default),n}isPainterDataDriven(){const e=this._paintProperties;if(e)for(const t in e)if(e[t].isDataDriven)return!0;return!1}isIntersectingFeature(e,t,r,n,i,o,s){return!1}getFeatureInflatedBounds(e,t,r,n){return null}_parseLayout(e){const t={};for(const r in e){const n=this._layoutDefinition[r];n&&(t[r]=new f(n,e[r]))}return t}_parsePaint(e){const t={};for(const r in e){const n=this._paintDefinition[r];n&&(t[r]=new f(n,e[r]))}return t}computeAttributesKey(e,t,r,n){let i=0,o=0;for(const e of t){let t=3;if(!e||e!==n){const n=r[e],{isLayout:i,isOptional:o}=n,s=i?this.getLayoutProperty(e):this.getPaintProperty(e);t=s?.interpolator?2:s?.isDataDriven?1:o&&!s?3:0}o|=t<<i,i+=2}return o<<3|e}}function m(e){const r=e?.getGeometry();if(null==r)return null;let n=1/0,i=1/0,o=-1/0,s=-1/0;for(const e of r)if(e)for(const t of e)n=Math.min(n,t.x),i=Math.min(i,t.y),o=Math.max(o,t.x),s=Math.max(s,t.y);return t.fromValues(n,i,o,s)}e.BackgroundStyleLayer=class extends y{constructor(e,t,r,i){super(e,t,r,i),this.backgroundMaterial=new o.VTLBackgroundMaterial(this.computeAttributesKey(n.ShaderProgramType.BACKGROUND,o.VTLBackgroundMaterial.ATTRIBUTES,o.VTLBackgroundMaterial.ATTRIBUTES_INFO))}},e.CircleStyleLayer=class extends y{constructor(e,t,r,i){super(e,t,r,i),this.circleMaterial=new s.VTLCircleMaterial(this.computeAttributesKey(n.ShaderProgramType.CIRCLE,s.VTLCircleMaterial.ATTRIBUTES,s.VTLCircleMaterial.ATTRIBUTES_INFO))}getFeatureInflatedBounds(e,t,n,i){const o=m(e);if(!o)return null;const s=this.getPaintValue("circle-translate",t,e),a=Math.max(s[0],s[1]);o[0]-=a,o[2]-=a,o[1]+=a,o[3]+=a;const l=i*(r.tilePixelRatio*(this.getPaintValue("circle-radius",t,e)+this.getPaintValue("circle-stroke-width",t,e))/2);return o[0]-=l,o[1]-=l,o[2]+=l,o[3]+=l,o}isIntersectingFeature(e,t,n,o,s,a,l){const c=o.getGeometry();if(!c)return!1;const u=r.tilePixelRatio/l.normalizationRatio;e=e/l.normalizationRatio+l.normalizationOffsetX,t=t/l.normalizationRatio+l.normalizationOffsetY,n*=u;const d=i.translateAnchor(this.getPaintValue("circle-translate",s,o),this.getPaintValue("circle-translate-anchor",s,o),a,u),f=u*(this.getPaintValue("circle-radius",s,o)+this.getPaintValue("circle-stroke-width",s,o));let h,p;for(const r of c)if(r)for(const i of r)if(h=i.x+d.x,p=i.y+d.y,Math.sqrt((e-h)*(e-h)+(t-p)*(t-p))-n<=f)return!0;return!1}},e.FillStyleLayer=class extends y{constructor(e,t,r,i){super(e,t,r,i);const o=this.getPaintProperty("fill-color"),s=this.getPaintProperty("fill-opacity"),l=this.getPaintProperty("fill-pattern");this.hasDataDrivenColor=o?.isDataDriven,this.hasDataDrivenOpacity=s?.isDataDriven,this.hasDataDrivenFill=this.hasDataDrivenColor||this.hasDataDrivenOpacity||l?.isDataDriven;const c=this.getPaintProperty("fill-outline-color");this.outlineUsesFillColor=!c,this.hasDataDrivenOutlineColor=c?.isDataDriven,this.hasDataDrivenOutline=c?c.isDataDriven:!!o&&o.isDataDriven,this.hasDataDrivenOutline=(c?this.hasDataDrivenOutlineColor:this.hasDataDrivenColor)||this.hasDataDrivenOpacity,this.fillMaterial=new a.VTLFillMaterial(this.computeAttributesKey(n.ShaderProgramType.FILL,a.VTLFillMaterial.ATTRIBUTES,a.VTLFillMaterial.ATTRIBUTES_INFO)),this.outlineMaterial=new a.VTLOutlineMaterial(this.computeAttributesKey(n.ShaderProgramType.OUTLINE,this.outlineUsesFillColor?a.VTLOutlineMaterial.ATTRIBUTES_FILL:a.VTLOutlineMaterial.ATTRIBUTES_OUTLINE,this.outlineUsesFillColor?a.VTLOutlineMaterial.ATTRIBUTES_INFO_FILL:a.VTLOutlineMaterial.ATTRIBUTES_INFO_OUTLINE),this.outlineUsesFillColor)}getFeatureInflatedBounds(e,t,r,n){const i=m(e);if(!i)return null;const o=this.getPaintValue("fill-translate",t,e),s=n*Math.max(o[0],o[1]);return i[0]-=s,i[2]-=s,i[1]+=s,i[3]+=s,i}isIntersectingFeature(e,t,n,o,s,a,l){const c=o.getGeometry();if(!c)return!1;const u=r.tilePixelRatio/l.normalizationRatio;e=e/l.normalizationRatio+l.normalizationOffsetX,t=t/l.normalizationRatio+l.normalizationOffsetY;const d=i.translateAnchor(this.getPaintValue("fill-translate",s,o),this.getPaintValue("fill-translate-anchor",s,o),a,r.tilePixelRatio);return e-=u*d.x,t-=u*d.y,!!i.pointInPolygon(e,t,c)||i.distanceFromToPolylineWithinThreshold(e,t,c,u*n)}},e.IconLayout=class{constructor(e,t,r){let n;this.allowOverlap=e.getLayoutValue("icon-allow-overlap",t),this.ignorePlacement=e.getLayoutValue("icon-ignore-placement",t),this.keepUpright=e.getLayoutValue("icon-keep-upright",t),this.optional=e.getLayoutValue("icon-optional",t),this.rotationAlignment=e.getLayoutValue("icon-rotation-alignment",t),this.rotationAlignment===d.RotationAlignment.AUTO&&(this.rotationAlignment=r?d.RotationAlignment.MAP:d.RotationAlignment.VIEWPORT),n=e.getLayoutProperty("icon-anchor"),n?.isDataDriven?this._anchorProp=n:this.anchor=e.getLayoutValue("icon-anchor",t),n=e.getLayoutProperty("icon-offset"),n?.isDataDriven?this._offsetProp=n:this.offset=e.getLayoutValue("icon-offset",t),n=e.getLayoutProperty("icon-padding"),n?.isDataDriven?this._paddingProp=n:this.padding=e.getLayoutValue("icon-padding",t),n=e.getLayoutProperty("icon-rotate"),n?.isDataDriven?this._rotateProp=n:this.rotate=e.getLayoutValue("icon-rotate",t),n=e.getLayoutProperty("icon-size"),n?.isDataDriven?this._sizeProp=n:this.size=e.getLayoutValue("icon-size",t)}update(e,t){this._anchorProp&&(this.anchor=this._anchorProp.getValue(e,t)),this._offsetProp&&(this.offset=this._offsetProp.getValue(e,t)),this._paddingProp&&(this.padding=this._paddingProp.getValue(e,t)),this._rotateProp&&(this.rotate=this._rotateProp.getValue(e,t)),this._sizeProp&&(this.size=this._sizeProp.getValue(e,t))}},e.IndexItem=class{constructor(e,t,r,n,i,o){this.layer=e,this.feature=t,this.bounds=r,this.normalizationRatio=n,this.normalizationOffsetX=i,this.normalizationOffsetY=o}},e.LineStyleLayer=class extends y{constructor(e,t,r,i){super(e,t,r,i);const o=this.getPaintProperty("line-pattern");if(this.lineMaterial=new l.VTLLineMaterial(this.computeAttributesKey(n.ShaderProgramType.LINE,l.VTLLineMaterial.ATTRIBUTES,l.VTLLineMaterial.ATTRIBUTES_INFO,o?"line-dasharray":"")),this.hasDataDrivenLine=this.getPaintProperty("line-blur")?.isDataDriven||this.getPaintProperty("line-color")?.isDataDriven||this.getPaintProperty("line-gap-width")?.isDataDriven||this.getPaintProperty("line-offset")?.isDataDriven||this.getPaintProperty("line-opacity")?.isDataDriven||this.getPaintProperty("line-pattern")?.isDataDriven||this.getPaintProperty("line-dasharray")?.isDataDriven||this.getLayoutProperty("line-cap")?.isDataDriven||this.getPaintProperty("line-width")?.isDataDriven,this.canUseThinTessellation=!1,!this.hasDataDrivenLine){const e=this.getPaintProperty("line-width");if(!e||"number"==typeof e&&.5*e<h.thinLineHalfWidthThreshold){const e=this.getPaintProperty("line-offset");(!e||"number"==typeof e&&0===e)&&(this.canUseThinTessellation=!0)}}}getDashKey(t,r){let n;switch(r){case e.CapType.BUTT:n="Butt";break;case e.CapType.ROUND:n="Round";break;case e.CapType.SQUARE:n="Square";break;default:n="Butt"}return`dasharray-[${t.toString()}]-${n}`}getFeatureInflatedBounds(e,t,r,n){const i=m(e);if(!i)return null;const o=this.getPaintValue("line-translate",t,e),s=n*Math.max(o[0],o[1]);i[0]-=s,i[2]-=s,i[1]+=s,i[3]+=s;const a=n*Math.abs(this.getPaintValue("line-offset",t,e)||0),l=n*(this.getPaintValue("line-width",t,e)/2);return i[0]-=a+l,i[1]-=a+l,i[2]+=a+l,i[3]+=a+l,i}isIntersectingFeature(e,t,n,o,s,a,l){let c=o.getGeometry();if(!c)return!1;const u=r.tilePixelRatio/l.normalizationRatio;e=e/l.normalizationRatio+l.normalizationOffsetX,t=t/l.normalizationRatio+l.normalizationOffsetY;const d=i.translateAnchor(this.getPaintValue("line-translate",s,o),this.getPaintValue("line-translate-anchor",s,o),a,r.tilePixelRatio);e-=u*d.x,t-=u*d.y;const f=u*this.getPaintValue("line-offset",s,o)||0;0!==f&&(c=i.offsetLine(c,-f));const h=this.getPaintValue("line-width",s,o)/2;return i.distanceFromToPolylineWithinThreshold(e,t,c,u*(n+h))}},e.StyleLayer=y,e.SymbolStyleLayer=class extends y{constructor(e,t,r,i){super(e,t,r,i),this.iconMaterial=new c.VTLIconMaterial(this.computeAttributesKey(n.ShaderProgramType.ICON,c.VTLIconMaterial.ATTRIBUTES,c.VTLIconMaterial.ATTRIBUTES_INFO)),this.textMaterial=new c.VTLTextMaterial(this.computeAttributesKey(n.ShaderProgramType.TEXT,c.VTLTextMaterial.ATTRIBUTES,c.VTLTextMaterial.ATTRIBUTES_INFO)),this.hasDataDrivenIcon=this.getPaintProperty("icon-color")?.isDataDriven||this.getPaintProperty("icon-halo-blur")?.isDataDriven||this.getPaintProperty("icon-halo-color")?.isDataDriven||this.getPaintProperty("icon-halo-width")?.isDataDriven||this.getPaintProperty("icon-opacity")?.isDataDriven||this.getLayoutProperty("icon-size")?.isDataDriven,this.hasDataDrivenText=this.getPaintProperty("text-color")?.isDataDriven||this.getPaintProperty("text-halo-blur")?.isDataDriven||this.getPaintProperty("text-halo-color")?.isDataDriven||this.getPaintProperty("text-halo-width")?.isDataDriven||this.getPaintProperty("text-opacity")?.isDataDriven||this.getLayoutProperty("text-size")?.isDataDriven}},e.TextLayout=class{constructor(e,t,r){let n;this.allowOverlap=e.getLayoutValue("text-allow-overlap",t),this.ignorePlacement=e.getLayoutValue("text-ignore-placement",t),this.keepUpright=e.getLayoutValue("text-keep-upright",t),this.optional=e.getLayoutValue("text-optional",t),this.rotationAlignment=e.getLayoutValue("text-rotation-alignment",t),this.rotationAlignment===d.RotationAlignment.AUTO&&(this.rotationAlignment=r?d.RotationAlignment.MAP:d.RotationAlignment.VIEWPORT),n=e.getLayoutProperty("text-anchor"),n?.isDataDriven?this._anchorProp=n:this.anchor=e.getLayoutValue("text-anchor",t),n=e.getLayoutProperty("text-justify"),n?.isDataDriven?this._justifyProp=n:this.justify=e.getLayoutValue("text-justify",t),n=e.getLayoutProperty("text-letter-spacing"),n?.isDataDriven?this._letterSpacingProp=n:this.letterSpacing=e.getLayoutValue("text-letter-spacing",t),n=e.getLayoutProperty("text-line-height"),n?.isDataDriven?this._lineHeightProp=n:this.lineHeight=e.getLayoutValue("text-line-height",t),n=e.getLayoutProperty("text-max-angle"),n?.isDataDriven?this._maxAngleProp=n:this.maxAngle=e.getLayoutValue("text-max-angle",t),n=e.getLayoutProperty("text-max-width"),n?.isDataDriven?this._maxWidthProp=n:this.maxWidth=e.getLayoutValue("text-max-width",t),n=e.getLayoutProperty("text-offset"),n?.isDataDriven?this._offsetProp=n:this.offset=e.getLayoutValue("text-offset",t),n=e.getLayoutProperty("text-padding"),n?.isDataDriven?this._paddingProp=n:this.padding=e.getLayoutValue("text-padding",t),n=e.getLayoutProperty("text-rotate"),n?.isDataDriven?this._rotateProp=n:this.rotate=e.getLayoutValue("text-rotate",t),n=e.getLayoutProperty("text-size"),n?.isDataDriven?this._sizeProp=n:this.size=e.getLayoutValue("text-size",t),n=e.getLayoutProperty("text-writing-mode"),n?.isDataDriven?this._writingModeProp=n:this.writingMode=e.getLayoutValue("text-writing-mode",t)}update(e,t){this._anchorProp&&(this.anchor=this._anchorProp.getValue(e,t)),this._justifyProp&&(this.justify=this._justifyProp.getValue(e,t)),this._letterSpacingProp&&(this.letterSpacing=this._letterSpacingProp.getValue(e,t)),this._lineHeightProp&&(this.lineHeight=this._lineHeightProp.getValue(e,t)),this._maxAngleProp&&(this.maxAngle=this._maxAngleProp.getValue(e,t)),this._maxWidthProp&&(this.maxWidth=this._maxWidthProp.getValue(e,t)),this._offsetProp&&(this.offset=this._offsetProp.getValue(e,t)),this._paddingProp&&(this.padding=this._paddingProp.getValue(e,t)),this._rotateProp&&(this.rotate=this._rotateProp.getValue(e,t)),this._sizeProp&&(this.size=this._sizeProp.getValue(e,t)),this._writingModeProp&&(this.writingMode=this._writingModeProp.getValue(e,t))}},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/views/2d/engine/vectorTiles/shaders/VTLBackgroundMaterial":function(){define(["exports","./VTLMaterial","../../../../webgl/enums","../../../../webgl/VertexElementDescriptor"],(function(e,t,r,n){"use strict";class i extends t.VTLMaterial{static{this.ATTRIBUTES=[]}static{this.GEOMETRY_LAYOUT=[new n.VertexElementDescriptor("a_pos",2,r.DataType.BYTE,0,2)]}static{this.ATTRIBUTES_INFO={}}constructor(e){super(e)}geometryInfo(){return i.GEOMETRY_LAYOUT}opacityInfo(){return null}attributes(){return i.ATTRIBUTES}attributesInfo(){return i.ATTRIBUTES_INFO}}e.VTLBackgroundMaterial=i,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/views/2d/engine/vectorTiles/shaders/VTLMaterial":function(){define(["exports","../MemoryBuffer","./enums","../../../../webgl/enums","../../../../webgl/VertexElementDescriptor"],(function(e,t,r,n,i){"use strict";class o{constructor(e){this._locations=new Map,this._key=e}get key(){return this._key}get type(){return 7&this._key}defines(){return[]}getStride(){return this._layout||this._buildAttributesInfo(),this._stride}getAttributeLocations(){return 0===this._locations.size&&this._buildAttributesInfo(),this._locations}getLayoutInfo(){return this._layout||this._buildAttributesInfo(),this._layout}getEncodingInfos(){return this._propertyEncodingInfo||this._buildAttributesInfo(),this._propertyEncodingInfo}getUniforms(){return this._uniforms||this._buildAttributesInfo(),this._uniforms}getShaderHeader(){return this._shaderHeader||this._buildAttributesInfo(),this._shaderHeader}getShaderMain(){return this._shaderMain||this._buildAttributesInfo(),this._shaderMain}setDataUniforms(e,t,r,n,i){const o=this.getUniforms();for(const s of o){const{name:o,type:a,getValue:l}=s,c=l(r,t,n,i);if(null!==c)switch(a){case"float":e.setUniform1f(o,c);break;case"vec2":e.setUniform2fv(o,c);break;case"vec4":e.setUniform4fv(o,c)}}}encodeAttributes(e,t,n,i){const o=this.attributesInfo(),s=this.getEncodingInfos(),a=[];let l=0,c=0;for(const u of Object.keys(s)){const d=s[u],{type:f,precisionFactor:h,isLayout:p}=o[u],y=p?n.getLayoutProperty(u):n.getPaintProperty(u),m=y.interpolator?.getInterpolationRange(t);let g=0;for(const n of d){const{offset:o,bufferElementsToAdd:s}=n;if(s>0){for(let e=0;e<s;e++)a.push(0);l+=c,c=n.bufferElementsToAdd}const u=i??y.getValue(m?m[g]:t,e);switch(f){case r.EncodingType.R8_SIGNED:case r.EncodingType.R8_UNSIGNED:a[l]|=this._encodeByte(u*(h||1),8*o);break;case r.EncodingType.R16_SIGNED:case r.EncodingType.R16_UNSIGNED:a[l]|=this._encodeShort(u*(h||1),8*o);break;case r.EncodingType.R8G8_SIGNED:case r.EncodingType.R8G8_UNSIGNED:a[l]|=this._encodeByte(u*(h||1),8*o),a[l]|=this._encodeByte(u*(h||1),8*o+8);break;case r.EncodingType.R16G16_SIGNED:case r.EncodingType.R16G16_UNSIGNED:a[l]|=this._encodeShort(u*(h||1),8*o),a[l]|=this._encodeShort(u*(h||1),8*o+16);break;case r.EncodingType.R8G8B8A8_SIGNED:case r.EncodingType.R8G8B8A8_UNSIGNED:a[l]|=this._encodeByte(u*(h||1),8*o),a[l]|=this._encodeByte(u*(h||1),8*o+8),a[l]|=this._encodeByte(u*(h||1),8*o+16),a[l]|=this._encodeByte(u*(h||1),8*o+24);break;case r.EncodingType.R8G8B8A8_COLOR:a[l]=this._encodeColor(u);break;case r.EncodingType.R16G16B16A16_DASHARRAY:case r.EncodingType.R16G16B16A16_PATTERN:this._encodePattern(l,a,u);break;default:throw new Error("Unsupported encoding type")}g++}}return a}getAtributeState(e){let t=0;const r=3+2*e;return t|=this._bit(r),t|=this._bit(r+1)<<1,t}static{this._encodingInfo={[r.EncodingType.R8_SIGNED]:{dataType:n.DataType.BYTE,bytesPerElement:1,count:1,normalized:!1},[r.EncodingType.R8_UNSIGNED]:{dataType:n.DataType.UNSIGNED_BYTE,bytesPerElement:1,count:1,normalized:!1},[r.EncodingType.R16_SIGNED]:{dataType:n.DataType.SHORT,bytesPerElement:2,count:1,normalized:!1},[r.EncodingType.R16_UNSIGNED]:{dataType:n.DataType.UNSIGNED_SHORT,bytesPerElement:2,count:1,normalized:!1},[r.EncodingType.R8G8_SIGNED]:{dataType:n.DataType.BYTE,bytesPerElement:1,count:2,normalized:!1},[r.EncodingType.R8G8_UNSIGNED]:{dataType:n.DataType.UNSIGNED_BYTE,bytesPerElement:1,count:2,normalized:!1},[r.EncodingType.R16G16_SIGNED]:{dataType:n.DataType.SHORT,bytesPerElement:2,count:2,normalized:!1},[r.EncodingType.R16G16_UNSIGNED]:{dataType:n.DataType.UNSIGNED_SHORT,bytesPerElement:2,count:2,normalized:!1},[r.EncodingType.R8G8B8A8_SIGNED]:{dataType:n.DataType.BYTE,bytesPerElement:1,count:4,normalized:!1},[r.EncodingType.R8G8B8A8_UNSIGNED]:{dataType:n.DataType.UNSIGNED_BYTE,bytesPerElement:1,count:4,normalized:!1},[r.EncodingType.R8G8B8A8_COLOR]:{dataType:n.DataType.UNSIGNED_BYTE,bytesPerElement:1,count:4,normalized:!0},[r.EncodingType.R16G16B16A16_DASHARRAY]:{dataType:n.DataType.UNSIGNED_SHORT,bytesPerElement:2,count:4,normalized:!1},[r.EncodingType.R16G16B16A16_PATTERN]:{dataType:n.DataType.UNSIGNED_SHORT,bytesPerElement:2,count:4,normalized:!1}}}_buildAttributesInfo(){const e=[],t={},i={};let s=-1;const a=this.attributesInfo(),l=this.attributes();let c=-1;for(const n of l){c++;const l=this.getAtributeState(c);if(l===r.AttributeStatus.UNIFORM||l===r.AttributeStatus.UNUSED)continue;const u=a[n],d=[];t[n]=d;const f=u.type;for(let t=0;t<l;t++){const{dataType:t,bytesPerElement:r,count:n,normalized:a}=o._encodingInfo[f],l=r*n,c=`${t}-${!0===a}`;let u=i[c],h=0;if(!u||u.count+n>4)s++,u={dataIndex:s,count:0,offset:0},4!==n&&(i[c]=u),e.push({location:-1,name:"a_data_"+s,count:n,type:t,normalized:a}),h=Math.ceil(Math.max(l/4,1));else{const t=e[u.dataIndex];t.count+=n,h=Math.ceil(Math.max(t.count*r/4,1))-Math.ceil(Math.max(u.offset/4,1))}d.push({dataIndex:u.dataIndex,offset:u.offset,bufferElementsToAdd:h}),u.offset+=l,u.count+=n}}for(const t of e)switch(t.type){case n.DataType.BYTE:case n.DataType.UNSIGNED_BYTE:t.count=4;break;case n.DataType.SHORT:case n.DataType.UNSIGNED_SHORT:t.count+=t.count%2}this._buildVertexBufferLayout(e);let u=0;const d=this._layout.get("geometry");for(const e of d)this._locations.set(e.name,u++);const f=this._layout.get("opacity");if(f)for(const e of f)this._locations.set(e.name,u++);this._buildShaderInfo(e,t),this._propertyEncodingInfo=t}_buildVertexBufferLayout(e){const t=new Map,r=this.geometryInfo();let n=r[0].stride;if(0===e.length)t.set("geometry",r);else{const o=[];let a=n;for(const t of e)n+=s(t.type)*t.count;for(const e of r)o.push(new i.VertexElementDescriptor(e.name,e.count,e.type,e.offset,n,e.normalized));for(const t of e)o.push(new i.VertexElementDescriptor(t.name,t.count,t.type,a,n,t.normalized)),a+=s(t.type)*t.count;t.set("geometry",o)}const o=this.opacityInfo();o&&t.set("opacity",o),this._layout=t,this._stride=n}_buildShaderInfo(e,t){let n="\n",i="\n";const s=[];for(const t of e)n+=`attribute ${this._getType(t.count)} ${t.name};\n`;const l=this.attributes(),c=this.attributesInfo();let u=-1;for(const e of l){u++;const{name:l,type:d,precisionFactor:f,isLayout:h}=c[e],p=f&&1!==f?" * "+1/f:"",{bytesPerElement:y,count:m}=o._encodingInfo[d],g=e=>`a_data_${e.dataIndex}${a(m,e.offset,y)}`;switch(this.getAtributeState(u)){case r.AttributeStatus.UNIFORM:{const t=this._getType(m),o=`u_${l}`;s.push({name:o,type:t,getValue:(t,n,i,o)=>{const s=h?t.getLayoutValue(e,n):t.getPaintValue(e,n);if(d===r.EncodingType.R16G16B16A16_DASHARRAY){const e=t.getDashKey(s,t.getLayoutValue("line-cap",n)),r=o.getMosaicItemPosition(e,!1);if(null==r)return null;const{tl:i,br:a}=r;return[i[0],a[1],a[0],i[1]]}if(d===r.EncodingType.R16G16B16A16_PATTERN){const t=o.getMosaicItemPosition(s,!e.includes("line-"));if(null==t)return null;const{tl:r,br:n}=t;return[r[0],n[1],n[0],r[1]]}if(d===r.EncodingType.R8G8B8A8_COLOR){const e=s[3];return[e*s[0],e*s[1],e*s[2],e]}return s}}),n+=`uniform ${t} ${o};\n`,i+=`${t} ${l} = ${o};\n`}break;case r.AttributeStatus.DATA_DRIVEN:{const r=g(t[e][0]);i+=`${this._getType(m)} ${l} = ${r}${p};\n`}break;case r.AttributeStatus.INTERPOLATED_DATA_DRIVEN:{const r=`u_t_${l}`;s.push({name:r,type:"float",getValue:(t,r,n,i)=>(h?t.getLayoutProperty(e):t.getPaintProperty(e)).interpolator.interpolationUniformValue(n,r)}),n+=`uniform float ${r};\n`;const o=g(t[e][0]),a=g(t[e][1]);i+=`${this._getType(m)} ${l} = mix(${o}${p}, ${a}${p}, ${r});\n`}}}this._shaderHeader=n,this._shaderMain=i,this._uniforms=s}_bit(e){return(this._key&1<<e)>>e}_getType(e){switch(e){case 1:return"float";case 2:return"vec2";case 3:return"vec3";case 4:return"vec4"}throw new Error("Invalid count")}_encodeColor(e){const r=255*e[3];return t.i8888to32(e[0]*r,e[1]*r,e[2]*r,r)}_encodePattern(e,t,r){if(!r?.rect)return;const n=r.rect,i=r.width,o=r.height;t[e]=this._encodeShort(n.x+2,0),t[e]|=this._encodeShort(n.y+2+o,16),t[e+1]=this._encodeShort(n.x+2+i,0),t[e+1]|=this._encodeShort(n.y+2,16)}_encodeByte(e,t){return(255&e)<<t}_encodeShort(e,t){return(65535&e)<<t}}const s=e=>{switch(e){case n.DataType.FLOAT:case n.DataType.INT:case n.DataType.UNSIGNED_INT:return 4;case n.DataType.SHORT:case n.DataType.UNSIGNED_SHORT:case n.DataType.HALF_FLOAT:return 2;case n.DataType.BYTE:case n.DataType.UNSIGNED_BYTE:return 1}},a=(e,t,r)=>{const n=t/r;if(1===e)switch(n){case 0:return".x";case 1:return".y";case 2:return".z";case 3:return".w"}else if(2===e)switch(n){case 0:return".xy";case 1:return".yz";case 2:return".zw"}else if(3===e)switch(n){case 0:return".xyz";case 1:return".yzw"}return""};e.VTLMaterial=o,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/views/2d/engine/vectorTiles/shaders/enums":function(){define(["exports"],(function(e){"use strict";var t,r;e.EncodingType=void 0,(t=e.EncodingType||(e.EncodingType={}))[t.R8_SIGNED=0]="R8_SIGNED",t[t.R8_UNSIGNED=1]="R8_UNSIGNED",t[t.R16_SIGNED=2]="R16_SIGNED",t[t.R16_UNSIGNED=3]="R16_UNSIGNED",t[t.R8G8_SIGNED=4]="R8G8_SIGNED",t[t.R8G8_UNSIGNED=5]="R8G8_UNSIGNED",t[t.R16G16_SIGNED=6]="R16G16_SIGNED",t[t.R16G16_UNSIGNED=7]="R16G16_UNSIGNED",t[t.R8G8B8A8_SIGNED=8]="R8G8B8A8_SIGNED",t[t.R8G8B8A8_UNSIGNED=9]="R8G8B8A8_UNSIGNED",t[t.R8G8B8A8_COLOR=10]="R8G8B8A8_COLOR",t[t.R16G16B16A16_DASHARRAY=11]="R16G16B16A16_DASHARRAY",t[t.R16G16B16A16_PATTERN=12]="R16G16B16A16_PATTERN",e.AttributeStatus=void 0,(r=e.AttributeStatus||(e.AttributeStatus={}))[r.UNIFORM=0]="UNIFORM",r[r.DATA_DRIVEN=1]="DATA_DRIVEN",r[r.INTERPOLATED_DATA_DRIVEN=2]="INTERPOLATED_DATA_DRIVEN",r[r.UNUSED=3]="UNUSED",Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/views/webgl/enums":function(){define(["exports"],(function(e){"use strict";var t,r,n,i,o,s,a,l,c,u,d,f,h,p,y,m,g,_,T,S,x,b,E,v,w,P,A,M,I,O,R,D,N,C,L,k;e.FramebufferBit=void 0,(t=e.FramebufferBit||(e.FramebufferBit={}))[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t[t.COLOR=16384]="COLOR",e.BufferContent=void 0,(r=e.BufferContent||(e.BufferContent={}))[r.COLOR=6144]="COLOR",r[r.DEPTH=6145]="DEPTH",r[r.STENCIL=6146]="STENCIL",r[r.DEPTH_STENCIL=34041]="DEPTH_STENCIL",e.PrimitiveType=void 0,(n=e.PrimitiveType||(e.PrimitiveType={}))[n.POINTS=0]="POINTS",n[n.LINES=1]="LINES",n[n.LINE_LOOP=2]="LINE_LOOP",n[n.LINE_STRIP=3]="LINE_STRIP",n[n.TRIANGLES=4]="TRIANGLES",n[n.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",n[n.TRIANGLE_FAN=6]="TRIANGLE_FAN",e.BlendFactor=void 0,(i=e.BlendFactor||(e.BlendFactor={}))[i.ZERO=0]="ZERO",i[i.ONE=1]="ONE",i[i.SRC_COLOR=768]="SRC_COLOR",i[i.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",i[i.SRC_ALPHA=770]="SRC_ALPHA",i[i.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",i[i.DST_ALPHA=772]="DST_ALPHA",i[i.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",i[i.DST_COLOR=774]="DST_COLOR",i[i.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",i[i.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",i[i.CONSTANT_COLOR=32769]="CONSTANT_COLOR",i[i.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",i[i.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",i[i.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",e.BlendOperation=void 0,(o=e.BlendOperation||(e.BlendOperation={}))[o.ADD=32774]="ADD",o[o.MIN=32775]="MIN",o[o.MAX=32776]="MAX",o[o.SUBTRACT=32778]="SUBTRACT",o[o.REVERSE_SUBTRACT=32779]="REVERSE_SUBTRACT",e.BufferType=void 0,(s=e.BufferType||(e.BufferType={}))[s.ARRAY_BUFFER=34962]="ARRAY_BUFFER",s[s.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",s[s.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",s[s.PIXEL_PACK_BUFFER=35051]="PIXEL_PACK_BUFFER",s[s.PIXEL_UNPACK_BUFFER=35052]="PIXEL_UNPACK_BUFFER",s[s.COPY_READ_BUFFER=36662]="COPY_READ_BUFFER",s[s.COPY_WRITE_BUFFER=36663]="COPY_WRITE_BUFFER",s[s.TRANSFORM_FEEDBACK_BUFFER=35982]="TRANSFORM_FEEDBACK_BUFFER",e.Face=void 0,(a=e.Face||(e.Face={}))[a.FRONT=1028]="FRONT",a[a.BACK=1029]="BACK",a[a.FRONT_AND_BACK=1032]="FRONT_AND_BACK",e.CullMode=void 0,(l=e.CullMode||(e.CullMode={}))[l.CW=2304]="CW",l[l.CCW=2305]="CCW",e.DataType=void 0,(c=e.DataType||(e.DataType={}))[c.BYTE=5120]="BYTE",c[c.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",c[c.SHORT=5122]="SHORT",c[c.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",c[c.INT=5124]="INT",c[c.UNSIGNED_INT=5125]="UNSIGNED_INT",c[c.FLOAT=5126]="FLOAT",c[c.HALF_FLOAT=5131]="HALF_FLOAT",e.CompareFunction=void 0,(u=e.CompareFunction||(e.CompareFunction={}))[u.NEVER=512]="NEVER",u[u.LESS=513]="LESS",u[u.EQUAL=514]="EQUAL",u[u.LEQUAL=515]="LEQUAL",u[u.GREATER=516]="GREATER",u[u.NOTEQUAL=517]="NOTEQUAL",u[u.GEQUAL=518]="GEQUAL",u[u.ALWAYS=519]="ALWAYS",e.StencilOperation=void 0,(d=e.StencilOperation||(e.StencilOperation={}))[d.ZERO=0]="ZERO",d[d.KEEP=7680]="KEEP",d[d.REPLACE=7681]="REPLACE",d[d.INCR=7682]="INCR",d[d.DECR=7683]="DECR",d[d.INVERT=5386]="INVERT",d[d.INCR_WRAP=34055]="INCR_WRAP",d[d.DECR_WRAP=34056]="DECR_WRAP",e.TextureSamplingMode=void 0,(f=e.TextureSamplingMode||(e.TextureSamplingMode={}))[f.NEAREST=9728]="NEAREST",f[f.LINEAR=9729]="LINEAR",f[f.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",f[f.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",f[f.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",f[f.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR",e.TextureWrapMode=void 0,(h=e.TextureWrapMode||(e.TextureWrapMode={}))[h.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",h[h.REPEAT=10497]="REPEAT",h[h.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",e.TextureType=void 0,(p=e.TextureType||(e.TextureType={}))[p.TEXTURE_2D=3553]="TEXTURE_2D",p[p.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",p[p.TEXTURE_3D=32879]="TEXTURE_3D",p[p.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",p[p.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",p[p.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",p[p.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",p[p.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",p[p.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",p[p.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e.TextureConstants=void 0,(y=e.TextureConstants||(e.TextureConstants={}))[y.MIN_LOD=33082]="MIN_LOD",y[y.MAX_LOD=33083]="MAX_LOD",y[y.BASE_LEVEL=33084]="BASE_LEVEL",y[y.MAX_LEVEL=33085]="MAX_LEVEL",y[y.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE",e.PixelFormat=void 0,(m=e.PixelFormat||(e.PixelFormat={}))[m.ALPHA=6406]="ALPHA",m[m.RGB=6407]="RGB",m[m.RGBA=6408]="RGBA",m[m.LUMINANCE=6409]="LUMINANCE",m[m.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",m[m.RED=6403]="RED",m[m.RG=33319]="RG",m[m.RED_INTEGER=36244]="RED_INTEGER",m[m.RG_INTEGER=33320]="RG_INTEGER",m[m.RGB_INTEGER=36248]="RGB_INTEGER",m[m.RGBA_INTEGER=36249]="RGBA_INTEGER",e.SizedPixelFormat=void 0,(g=e.SizedPixelFormat||(e.SizedPixelFormat={}))[g.RGBA4=32854]="RGBA4",g[g.R16F=33325]="R16F",g[g.RG16F=33327]="RG16F",g[g.RGB32F=34837]="RGB32F",g[g.RGBA16F=34842]="RGBA16F",g[g.R32F=33326]="R32F",g[g.RG32F=33328]="RG32F",g[g.RGBA32F=34836]="RGBA32F",g[g.R11F_G11F_B10F=35898]="R11F_G11F_B10F",g[g.RGB8=32849]="RGB8",g[g.RGBA8=32856]="RGBA8",g[g.RGB5_A1=32855]="RGB5_A1",g[g.R8=33321]="R8",g[g.RG8=33323]="RG8",g[g.R8I=33329]="R8I",g[g.R8UI=33330]="R8UI",g[g.R16I=33331]="R16I",g[g.R16UI=33332]="R16UI",g[g.R32I=33333]="R32I",g[g.R32UI=33334]="R32UI",g[g.RG8I=33335]="RG8I",g[g.RG8UI=33336]="RG8UI",g[g.RG16I=33337]="RG16I",g[g.RG16UI=33338]="RG16UI",g[g.RG32I=33339]="RG32I",g[g.RG32UI=33340]="RG32UI",g[g.RGB16F=34843]="RGB16F",g[g.RGB9_E5=35901]="RGB9_E5",g[g.SRGB8=35905]="SRGB8",g[g.SRGB8_ALPHA8=35907]="SRGB8_ALPHA8",g[g.RGB565=36194]="RGB565",g[g.RGBA32UI=36208]="RGBA32UI",g[g.RGB32UI=36209]="RGB32UI",g[g.RGBA16UI=36214]="RGBA16UI",g[g.RGB16UI=36215]="RGB16UI",g[g.RGBA8UI=36220]="RGBA8UI",g[g.RGB8UI=36221]="RGB8UI",g[g.RGBA32I=36226]="RGBA32I",g[g.RGB32I=36227]="RGB32I",g[g.RGBA16I=36232]="RGBA16I",g[g.RGB16I=36233]="RGB16I",g[g.RGBA8I=36238]="RGBA8I",g[g.RGB8I=36239]="RGB8I",g[g.R8_SNORM=36756]="R8_SNORM",g[g.RG8_SNORM=36757]="RG8_SNORM",g[g.RGB8_SNORM=36758]="RGB8_SNORM",g[g.RGBA8_SNORM=36759]="RGBA8_SNORM",g[g.RGB10_A2=32857]="RGB10_A2",g[g.RGB10_A2UI=36975]="RGB10_A2UI",e.UnsizedDepthFormat=void 0,(_=e.UnsizedDepthFormat||(e.UnsizedDepthFormat={}))[_.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",_[_.DEPTH_STENCIL=34041]="DEPTH_STENCIL",e.SizedDepthStencilFormat=void 0,(T=e.SizedDepthStencilFormat||(e.SizedDepthStencilFormat={}))[T.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8",T[T.DEPTH32F_STENCIL8=36013]="DEPTH32F_STENCIL8",e.SizedDepthFormat=void 0,(S=e.SizedDepthFormat||(e.SizedDepthFormat={}))[S.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",S[S.DEPTH_COMPONENT24=33190]="DEPTH_COMPONENT24",S[S.DEPTH_COMPONENT32F=36012]="DEPTH_COMPONENT32F",e.SizedStencilFormat=void 0,(x=e.SizedStencilFormat||(e.SizedStencilFormat={}))[x.STENCIL_INDEX8=36168]="STENCIL_INDEX8",e.PixelType=void 0,(b=e.PixelType||(e.PixelType={}))[b.FLOAT=5126]="FLOAT",b[b.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",b[b.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",b[b.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",b[b.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",b[b.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",b[b.BYTE=5120]="BYTE",b[b.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",b[b.SHORT=5122]="SHORT",b[b.UNSIGNED_INT=5125]="UNSIGNED_INT",b[b.INT=5124]="INT",b[b.HALF_FLOAT=5131]="HALF_FLOAT",b[b.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",b[b.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",b[b.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",b[b.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e.Usage=void 0,(E=e.Usage||(e.Usage={}))[E.STATIC_DRAW=35044]="STATIC_DRAW",E[E.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",E[E.STREAM_DRAW=35040]="STREAM_DRAW",E[E.STATIC_READ=35045]="STATIC_READ",E[E.DYNAMIC_READ=35049]="DYNAMIC_READ",E[E.STREAM_READ=35041]="STREAM_READ",E[E.STATIC_COPY=35046]="STATIC_COPY",E[E.DYNAMIC_COPY=35050]="DYNAMIC_COPY",E[E.STREAM_COPY=35042]="STREAM_COPY",e.ShaderType=void 0,(v=e.ShaderType||(e.ShaderType={}))[v.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",v[v.VERTEX_SHADER=35633]="VERTEX_SHADER",e.FramebufferTarget=void 0,(w=e.FramebufferTarget||(e.FramebufferTarget={}))[w.FRAMEBUFFER=36160]="FRAMEBUFFER",w[w.READ_FRAMEBUFFER=36008]="READ_FRAMEBUFFER",w[w.DRAW_FRAMEBUFFER=36009]="DRAW_FRAMEBUFFER",e.ResourceType=void 0,(P=e.ResourceType||(e.ResourceType={}))[P.Texture=0]="Texture",P[P.TileTexture=1]="TileTexture",P[P.BufferObject=2]="BufferObject",P[P.VertexArrayObject=3]="VertexArrayObject",P[P.Shader=4]="Shader",P[P.Program=5]="Program",P[P.FramebufferObject=6]="FramebufferObject",P[P.Renderbuffer=7]="Renderbuffer",P[P.TransformFeedback=8]="TransformFeedback",P[P.Sync=9]="Sync",P[P.UNCOUNTED=10]="UNCOUNTED",P[P.LinesOfCode=10]="LinesOfCode",P[P.Uniform=11]="Uniform",P[P.COUNT=12]="COUNT",e.SpecialDrawBuffers=void 0,(A=e.SpecialDrawBuffers||(e.SpecialDrawBuffers={}))[A.NONE=0]="NONE",A[A.BACK=1029]="BACK",e.CompressedTextureFormat=void 0,(M=e.CompressedTextureFormat||(e.CompressedTextureFormat={}))[M.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",M[M.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",M[M.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",M[M.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",M[M.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",M[M.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",M[M.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",M[M.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",M[M.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",M[M.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",M[M.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",M[M.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",M[M.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",M[M.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",e.UniformType=void 0,(I=e.UniformType||(e.UniformType={}))[I.FLOAT=5126]="FLOAT",I[I.FLOAT_VEC2=35664]="FLOAT_VEC2",I[I.FLOAT_VEC3=35665]="FLOAT_VEC3",I[I.FLOAT_VEC4=35666]="FLOAT_VEC4",I[I.INT=5124]="INT",I[I.INT_VEC2=35667]="INT_VEC2",I[I.INT_VEC3=35668]="INT_VEC3",I[I.INT_VEC4=35669]="INT_VEC4",I[I.BOOL=35670]="BOOL",I[I.BOOL_VEC2=35671]="BOOL_VEC2",I[I.BOOL_VEC3=35672]="BOOL_VEC3",I[I.BOOL_VEC4=35673]="BOOL_VEC4",I[I.FLOAT_MAT2=35674]="FLOAT_MAT2",I[I.FLOAT_MAT3=35675]="FLOAT_MAT3",I[I.FLOAT_MAT4=35676]="FLOAT_MAT4",I[I.SAMPLER_2D=35678]="SAMPLER_2D",I[I.SAMPLER_CUBE=35680]="SAMPLER_CUBE",I[I.UNSIGNED_INT=5125]="UNSIGNED_INT",I[I.UNSIGNED_INT_VEC2=36294]="UNSIGNED_INT_VEC2",I[I.UNSIGNED_INT_VEC3=36295]="UNSIGNED_INT_VEC3",I[I.UNSIGNED_INT_VEC4=36296]="UNSIGNED_INT_VEC4",I[I.FLOAT_MAT2x3=35685]="FLOAT_MAT2x3",I[I.FLOAT_MAT2x4=35686]="FLOAT_MAT2x4",I[I.FLOAT_MAT3x2=35687]="FLOAT_MAT3x2",I[I.FLOAT_MAT3x4=35688]="FLOAT_MAT3x4",I[I.FLOAT_MAT4x2=35689]="FLOAT_MAT4x2",I[I.FLOAT_MAT4x3=35690]="FLOAT_MAT4x3",I[I.SAMPLER_3D=35679]="SAMPLER_3D",I[I.SAMPLER_2D_SHADOW=35682]="SAMPLER_2D_SHADOW",I[I.SAMPLER_2D_ARRAY=36289]="SAMPLER_2D_ARRAY",I[I.SAMPLER_2D_ARRAY_SHADOW=36292]="SAMPLER_2D_ARRAY_SHADOW",I[I.SAMPLER_CUBE_SHADOW=36293]="SAMPLER_CUBE_SHADOW",I[I.INT_SAMPLER_2D=36298]="INT_SAMPLER_2D",I[I.INT_SAMPLER_3D=36299]="INT_SAMPLER_3D",I[I.INT_SAMPLER_CUBE=36300]="INT_SAMPLER_CUBE",I[I.INT_SAMPLER_2D_ARRAY=36303]="INT_SAMPLER_2D_ARRAY",I[I.UNSIGNED_INT_SAMPLER_2D=36306]="UNSIGNED_INT_SAMPLER_2D",I[I.UNSIGNED_INT_SAMPLER_3D=36307]="UNSIGNED_INT_SAMPLER_3D",I[I.UNSIGNED_INT_SAMPLER_CUBE=36308]="UNSIGNED_INT_SAMPLER_CUBE",I[I.UNSIGNED_INT_SAMPLER_2D_ARRAY=36311]="UNSIGNED_INT_SAMPLER_2D_ARRAY",e.SyncParameter=void 0,(O=e.SyncParameter||(e.SyncParameter={}))[O.OBJECT_TYPE=37138]="OBJECT_TYPE",O[O.SYNC_CONDITION=37139]="SYNC_CONDITION",O[O.SYNC_STATUS=37140]="SYNC_STATUS",O[O.SYNC_FLAGS=37141]="SYNC_FLAGS",e.SyncStatus=void 0,(R=e.SyncStatus||(e.SyncStatus={}))[R.UNSIGNALED=37144]="UNSIGNALED",R[R.SIGNALED=37145]="SIGNALED",e.ClientWaitSyncStatus=void 0,(D=e.ClientWaitSyncStatus||(e.ClientWaitSyncStatus={}))[D.ALREADY_SIGNALED=37146]="ALREADY_SIGNALED",D[D.TIMEOUT_EXPIRED=37147]="TIMEOUT_EXPIRED",D[D.CONDITION_SATISFIED=37148]="CONDITION_SATISFIED",D[D.WAIT_FAILED=37149]="WAIT_FAILED",e.SyncCondition=void 0,(N=e.SyncCondition||(e.SyncCondition={}))[N.SYNC_GPU_COMMANDS_COMPLETE=37143]="SYNC_GPU_COMMANDS_COMPLETE",e.SyncFlag=void 0,(C=e.SyncFlag||(e.SyncFlag={}))[C.SYNC_FLUSH_COMMANDS_BIT=1]="SYNC_FLUSH_COMMANDS_BIT",e.ErrorConstant=void 0,(L=e.ErrorConstant||(e.ErrorConstant={}))[L.INVALID_ENUM=1280]="INVALID_ENUM",L[L.INVALID_VALUE=1281]="INVALID_VALUE",L[L.INVALID_OPERATION=1282]="INVALID_OPERATION",L[L.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",L[L.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",L[L.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL",e.Extension=void 0,(k=e.Extension||(e.Extension={}))[k.COMPLETION_STATUS_KHR=37297]="COMPLETION_STATUS_KHR",e.ColorAttachment0=36064,e.ColorAttachment1=36065,e.ColorAttachment10=36074,e.ColorAttachment11=36075,e.ColorAttachment12=36076,e.ColorAttachment13=36077,e.ColorAttachment14=36078,e.ColorAttachment15=36079,e.ColorAttachment2=36066,e.ColorAttachment3=36067,e.ColorAttachment4=36068,e.ColorAttachment5=36069,e.ColorAttachment6=36070,e.ColorAttachment7=36071,e.ColorAttachment8=36072,e.ColorAttachment9=36073,e.DepthAttachment=36096,e.DepthStencilAttachment=33306,e.StencilAttachment=36128,e.baseTextureUnit=33984,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/views/webgl/VertexElementDescriptor":function(){define(["exports"],(function(e){"use strict";e.VertexElementDescriptor=class{constructor(e,t,r,n,i,o=!1,s=0){this.name=e,this.count=t,this.type=r,this.offset=n,this.stride=i,this.normalized=o,this.divisor=s}},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/views/2d/engine/vectorTiles/shaders/VTLCircleMaterial":function(){define(["exports","./enums","./VTLMaterial","../../../../webgl/enums","../../../../webgl/VertexElementDescriptor"],(function(e,t,r,n,i){"use strict";class o extends r.VTLMaterial{static{this.ATTRIBUTES=["circle-radius","circle-color","circle-opacity","circle-stroke-width","circle-stroke-color","circle-stroke-opacity","circle-blur"]}static{this.GEOMETRY_LAYOUT=[new i.VertexElementDescriptor("a_pos",2,n.DataType.SHORT,0,4)]}static{this.ATTRIBUTES_INFO={"circle-radius":{name:"radius",type:t.EncodingType.R8_UNSIGNED},"circle-color":{name:"color",type:t.EncodingType.R8G8B8A8_COLOR},"circle-opacity":{name:"opacity",type:t.EncodingType.R8_UNSIGNED,precisionFactor:100},"circle-stroke-width":{name:"stroke_width",type:t.EncodingType.R8_UNSIGNED,precisionFactor:4},"circle-stroke-color":{name:"stroke_color",type:t.EncodingType.R8G8B8A8_COLOR},"circle-stroke-opacity":{name:"stroke_opacity",type:t.EncodingType.R8_UNSIGNED,precisionFactor:100},"circle-blur":{name:"blur",type:t.EncodingType.R8_UNSIGNED,precisionFactor:32}}}constructor(e){super(e)}geometryInfo(){return o.GEOMETRY_LAYOUT}opacityInfo(){return null}attributes(){return o.ATTRIBUTES}attributesInfo(){return o.ATTRIBUTES_INFO}}e.VTLCircleMaterial=o,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/views/2d/engine/vectorTiles/shaders/VTLFillMaterial":function(){define(["exports","./enums","./VTLMaterial","../../../../webgl/enums","../../../../webgl/VertexElementDescriptor"],(function(e,t,r,n,i){"use strict";class o extends r.VTLMaterial{static{this.ATTRIBUTES=["fill-color","fill-opacity","fill-pattern"]}static{this.GEOMETRY_LAYOUT=[new i.VertexElementDescriptor("a_pos",2,n.DataType.SHORT,0,4)]}static{this.ATTRIBUTES_INFO={"fill-color":{name:"color",type:t.EncodingType.R8G8B8A8_COLOR},"fill-opacity":{name:"opacity",type:t.EncodingType.R8_UNSIGNED,precisionFactor:100},"fill-pattern":{name:"tlbr",type:t.EncodingType.R16G16B16A16_PATTERN,isOptional:!0}}}constructor(e){super(e)}geometryInfo(){return o.GEOMETRY_LAYOUT}opacityInfo(){return null}attributes(){return o.ATTRIBUTES}attributesInfo(){return o.ATTRIBUTES_INFO}}class s extends r.VTLMaterial{static{this.ATTRIBUTES_OUTLINE=["fill-outline-color","fill-opacity"]}static{this.ATTRIBUTES_FILL=["fill-color","fill-opacity"]}static{this.GEOMETRY_LAYOUT=[new i.VertexElementDescriptor("a_pos",2,n.DataType.SHORT,0,8),new i.VertexElementDescriptor("a_offset",2,n.DataType.BYTE,4,8),new i.VertexElementDescriptor("a_xnormal",2,n.DataType.BYTE,6,8)]}static{this.ATTRIBUTES_INFO_OUTLINE={"fill-outline-color":{name:"color",type:t.EncodingType.R8G8B8A8_COLOR},"fill-opacity":{name:"opacity",type:t.EncodingType.R8_UNSIGNED,precisionFactor:100}}}static{this.ATTRIBUTES_INFO_FILL={"fill-color":{name:"color",type:t.EncodingType.R8G8B8A8_COLOR},"fill-opacity":{name:"opacity",type:t.EncodingType.R8_UNSIGNED,precisionFactor:100}}}constructor(e,t){super(e),this._usefillColor=t}geometryInfo(){return s.GEOMETRY_LAYOUT}opacityInfo(){return null}attributes(){return this._usefillColor?s.ATTRIBUTES_FILL:s.ATTRIBUTES_OUTLINE}attributesInfo(){return this._usefillColor?s.ATTRIBUTES_INFO_FILL:s.ATTRIBUTES_INFO_OUTLINE}}e.VTLFillMaterial=o,e.VTLOutlineMaterial=s,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/views/2d/engine/vectorTiles/shaders/VTLLineMaterial":function(){define(["exports","./enums","./VTLMaterial","../../../../webgl/enums","../../../../webgl/VertexElementDescriptor"],(function(e,t,r,n,i){"use strict";class o extends r.VTLMaterial{static{this.ATTRIBUTES=["line-blur","line-color","line-gap-width","line-offset","line-opacity","line-width","line-pattern","line-dasharray"]}static{this.GEOMETRY_LAYOUT=[new i.VertexElementDescriptor("a_pos",2,n.DataType.SHORT,0,16),new i.VertexElementDescriptor("a_extrude_offset",4,n.DataType.BYTE,4,16),new i.VertexElementDescriptor("a_dir_normal",4,n.DataType.BYTE,8,16),new i.VertexElementDescriptor("a_accumulatedDistance",2,n.DataType.UNSIGNED_SHORT,12,16)]}static{this.ATTRIBUTES_INFO={"line-width":{name:"width",type:t.EncodingType.R8_UNSIGNED,precisionFactor:2},"line-gap-width":{name:"gap_width",type:t.EncodingType.R8_UNSIGNED,precisionFactor:2},"line-offset":{name:"offset",type:t.EncodingType.R8_SIGNED,precisionFactor:2},"line-color":{name:"color",type:t.EncodingType.R8G8B8A8_COLOR},"line-opacity":{name:"opacity",type:t.EncodingType.R8_UNSIGNED,precisionFactor:100},"line-blur":{name:"blur",type:t.EncodingType.R8_UNSIGNED,precisionFactor:4},"line-pattern":{name:"tlbr",type:t.EncodingType.R16G16B16A16_PATTERN,isOptional:!0},"line-dasharray":{name:"tlbr",type:t.EncodingType.R16G16B16A16_DASHARRAY,isOptional:!0}}}constructor(e){super(e)}geometryInfo(){return o.GEOMETRY_LAYOUT}opacityInfo(){return null}attributes(){return o.ATTRIBUTES}attributesInfo(){return o.ATTRIBUTES_INFO}}e.VTLLineMaterial=o,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/views/2d/engine/vectorTiles/shaders/VTLSymbolMaterial":function(){define(["exports","./enums","./VTLMaterial","../../../../webgl/enums","../../../../webgl/VertexElementDescriptor"],(function(e,t,r,n,i){"use strict";const o=[new i.VertexElementDescriptor("a_pos",2,n.DataType.SHORT,0,16),new i.VertexElementDescriptor("a_vertexOffset",2,n.DataType.SHORT,4,16),new i.VertexElementDescriptor("a_texAngleRange",4,n.DataType.UNSIGNED_BYTE,8,16),new i.VertexElementDescriptor("a_levelInfo",4,n.DataType.UNSIGNED_BYTE,12,16)],s=[new i.VertexElementDescriptor("a_opacityInfo",1,n.DataType.UNSIGNED_BYTE,0,1)];class a extends r.VTLMaterial{static{this.ATTRIBUTES=["icon-color","icon-opacity","icon-halo-blur","icon-halo-color","icon-halo-width","icon-size"]}static{this.ATTRIBUTES_INFO={"icon-color":{name:"color",type:t.EncodingType.R8G8B8A8_COLOR},"icon-opacity":{name:"opacity",type:t.EncodingType.R8_UNSIGNED,precisionFactor:100},"icon-halo-color":{name:"halo_color",type:t.EncodingType.R8G8B8A8_COLOR},"icon-halo-width":{name:"halo_width",type:t.EncodingType.R8_UNSIGNED,precisionFactor:4},"icon-halo-blur":{name:"halo_blur",type:t.EncodingType.R8_UNSIGNED,precisionFactor:4},"icon-size":{name:"size",type:t.EncodingType.R8_UNSIGNED,precisionFactor:32,isLayout:!0}}}constructor(e){super(e)}geometryInfo(){return o}opacityInfo(){return s}attributes(){return a.ATTRIBUTES}attributesInfo(){return a.ATTRIBUTES_INFO}}class l extends r.VTLMaterial{static{this.ATTRIBUTES=["text-color","text-opacity","text-halo-blur","text-halo-color","text-halo-width","text-size"]}static{this.ATTRIBUTES_INFO={"text-color":{name:"color",type:t.EncodingType.R8G8B8A8_COLOR},"text-opacity":{name:"opacity",type:t.EncodingType.R8_UNSIGNED,precisionFactor:100},"text-halo-color":{name:"halo_color",type:t.EncodingType.R8G8B8A8_COLOR},"text-halo-width":{name:"halo_width",type:t.EncodingType.R8_UNSIGNED,precisionFactor:4},"text-halo-blur":{name:"halo_blur",type:t.EncodingType.R8_UNSIGNED,precisionFactor:4},"text-size":{name:"size",type:t.EncodingType.R8_UNSIGNED,isLayout:!0}}}constructor(e){super(e)}geometryInfo(){return o}opacityInfo(){return s}attributes(){return l.ATTRIBUTES}attributesInfo(){return l.ATTRIBUTES_INFO}}e.VTLIconMaterial=a,e.VTLTextMaterial=l,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/views/2d/engine/vectorTiles/style/Filter":function(){define(["../expression/expression","../expression/types"],(function(e,t){"use strict";class r{constructor(e){this._expression=e}filter(e,t){if(!this._expression)return!0;try{return this._expression.evaluate(e,t)}catch(e){return console.log(e.message),!0}}static createFilter(n){if(!n)return null;this.isLegacyFilter(n)&&(n=this.convertLegacyFilter(n));try{const i=e.createExpression(n,null,t.booleanType);return new r(i)}catch(e){return console.log(e.message),null}}static isLegacyFilter(e){if(!Array.isArray(e))return!0;if(0===e.length)return!0;switch(e[0]){case"==":case"!=":case">":case"<":case">=":case"<=":return 3===e.length&&"string"==typeof e[1]&&!Array.isArray(e[2]);case"in":return e.length>=3&&"string"==typeof e[1]&&!Array.isArray(e[2]);case"!in":case"none":case"!has":return!0;case"any":case"all":for(let t=1;t<e.length;t++)if(this.isLegacyFilter(e[t]))return!0;return!1;case"has":return 2===e.length&&("$id"===e[1]||"$type"===e[1]);default:return!1}}static convertLegacyFilter(e){if(!Array.isArray(e)||0===e.length)return!0;const t=e[0];if(1===e.length)return"any"!==t;switch(t){case"==":return r.convertComparison("==",e[1],e[2]);case"!=":return r.negate(r.convertComparison("==",e[1],e[2]));case">":case"<":case">=":case"<=":return r.convertComparison(t,e[1],e[2]);case"in":return r.convertIn(e[1],e.slice(2));case"!in":return r.negate(r.convertIn(e[1],e.slice(2)));case"any":case"all":case"none":return r.convertCombining(t,e.slice(1));case"has":return r.convertHas(e[1]);case"!has":return r.negate(r.convertHas(e[1]));default:throw new Error("Unexpected legacy filter.")}}static convertComparison(e,t,r){switch(t){case"$type":return[e,["geometry-type"],r];case"$id":return[e,["id"],r];default:return[e,["get",t],r]}}static convertIn(e,t){switch(e){case"$type":return["in",["geometry-type"],["literal",t]];case"$id":return["in",["id"],["literal",t]];default:return["in",["get",e],["literal",t]]}}static convertHas(e){switch(e){case"$type":return!0;case"$id":return["has-id"];default:return["has",e]}}static convertCombining(e,t){return[e].concat(t.map(this.convertLegacyFilter))}static negate(e){return["!",e]}}return r}))},"esri/views/2d/engine/vectorTiles/expression/expression":function(){define(["exports","../../../../../Color","../../../../../core/colorUtils","../../../../../geometry/support/TileClipper","../../../unitBezier","../GeometryUtils","./types"],(function(e,t,r,n,i,o,s){"use strict";class a{constructor(e){this._parent=e,this._vars={}}add(e,t){this._vars[e]=t}get(e){return this._vars[e]?this._vars[e]:this._parent?this._parent.get(e):null}}class l{constructor(){this.type=s.valueType}static parse(e){if(e.length>1)throw new Error('"id" does not expect arguments');return new l}evaluate(e,t){return e?.id}}class c{constructor(){this.type=s.stringType}static parse(e){if(e.length>1)throw new Error('"geometry-type" does not expect arguments');return new c}evaluate(e,t){if(!e)return null;switch(e.type){case n.GeometryType.Point:return"Point";case n.GeometryType.LineString:return"LineString";case n.GeometryType.Polygon:return"Polygon";default:return null}}}class u{constructor(){this.type=s.objectType}static parse(e){if(e.length>1)throw new Error('"properties" does not expect arguments');return new u}evaluate(e,t){return e?.values}}class d{constructor(){this.type=s.numberType}static parse(e){if(e.length>1)throw new Error('"zoom" does not expect arguments');return new d}evaluate(e,t){return t}}class f{constructor(e,t,r){this._lhs=e,this._rhs=t,this._compare=r,this.type=s.booleanType}static parse(e,t,r){if(3!==e.length&&4!==e.length)throw new Error(`"${e[0]}" expects 2 or 3 arguments`);if(4===e.length)throw new Error(`"${e[0]}" collator not supported`);return new f(te(e[1],t),te(e[2],t),r)}evaluate(e,t){return this._compare(this._lhs.evaluate(e,t),this._rhs.evaluate(e,t))}}class h extends f{static parse(e,t){return f.parse(e,t,((e,t)=>e===t))}}class p extends f{static parse(e,t){return f.parse(e,t,((e,t)=>e!==t))}}class y extends f{static parse(e,t){return f.parse(e,t,((e,t)=>e<t))}}class m extends f{static parse(e,t){return f.parse(e,t,((e,t)=>e<=t))}}class g extends f{static parse(e,t){return f.parse(e,t,((e,t)=>e>t))}}class _ extends f{static parse(e,t){return f.parse(e,t,((e,t)=>e>=t))}}class T{constructor(e){this._arg=e,this.type=s.booleanType}static parse(e,t){if(2!==e.length)throw new Error('"!" expects 1 argument');return new T(te(e[1],t))}evaluate(e,t){return!this._arg.evaluate(e,t)}}class S{constructor(e){this._args=e,this.type=s.booleanType}static parse(e,t){const r=[];for(let n=1;n<e.length;n++)r.push(te(e[n],t));return new S(r)}evaluate(e,t){for(const r of this._args)if(!r.evaluate(e,t))return!1;return!0}}class x{constructor(e){this._args=e,this.type=s.booleanType}static parse(e,t){const r=[];for(let n=1;n<e.length;n++)r.push(te(e[n],t));return new x(r)}evaluate(e,t){for(const r of this._args)if(r.evaluate(e,t))return!0;return!1}}class b{constructor(e){this._args=e,this.type=s.booleanType}static parse(e,t){const r=[];for(let n=1;n<e.length;n++)r.push(te(e[n],t));return new b(r)}evaluate(e,t){for(const r of this._args)if(r.evaluate(e,t))return!1;return!0}}class E{constructor(e,t,r){this.type=e,this._args=t,this._fallback=r}static parse(e,t,r){if(e.length<4)throw new Error('"case" expects at least 3 arguments');if(e.length%2==1)throw new Error('"case" expects an odd number of arguments');let n;const i=[];for(let o=1;o<e.length-1;o+=2){const s=te(e[o],t),a=te(e[o+1],t,r);n||(n=a.type),i.push({condition:s,output:a})}const o=te(e[e.length-1],t,r);return n||(n=o.type),new E(n,i,o)}evaluate(e,t){for(const r of this._args)if(r.condition.evaluate(e,t))return r.output.evaluate(e,t);return this._fallback.evaluate(e,t)}}class v{constructor(e,t){this.type=e,this._args=t}static parse(e,t){if(e.length<2)throw new Error('"coalesce" expects at least 1 argument');let r;const n=[];for(let i=1;i<e.length;i++){const o=te(e[i],t);r||(r=o.type),n.push(o)}return new v(r,n)}evaluate(e,t){for(const r of this._args){const n=r.evaluate(e,t);if(null!==n)return n}return null}}class w{constructor(e,t,r,n,i){this.type=e,this._input=t,this._labels=r,this._outputs=n,this._fallback=i}static parse(e,t){if(e.length<3)throw new Error('"match" expects at least 3 arguments');if(e.length%2==0)throw new Error('"case" expects an even number of arguments');let r;const n=te(e[1],t),i=[],o={};let s;for(let n=2;n<e.length-1;n+=2){let a=e[n];Array.isArray(a)||(a=[a]);for(const e of a){const t=typeof e;if("string"!==t&&"number"!==t)throw new Error('"match" requires string or number literal as labels');if(s){if(t!==s)throw new Error('"match" requires labels to have the same type')}else s=t;o[e]=i.length}const l=te(e[n+1],t);r||(r=l.type),i.push(l)}return new w(r,n,o,i,te(e[e.length-1],t))}evaluate(e,t){const r=this._input.evaluate(e,t);return(this._outputs[this._labels[r]]||this._fallback).evaluate(e,t)}}class P{constructor(e,t,r,n,i){this._operator=e,this.type=t,this.interpolation=r,this.input=n,this._stops=i}static parse(e,t,r){const n=e[0];if(e.length<5)throw new Error(`"${n}" expects at least 4 arguments`);const i=e[1];if(!Array.isArray(i)||0===i.length)throw new Error(`"${i}" is not a valid interpolation`);switch(i[0]){case"linear":if(1!==i.length)throw new Error("Linear interpolation cannot have parameters");break;case"exponential":if(2!==i.length||"number"!=typeof i[1])throw new Error("Exponential interpolation requires one numeric argument");break;case"cubic-bezier":if(5!==i.length)throw new Error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1");for(let e=1;e<5;e++){const t=i[e];if("number"!=typeof t||t<0||t>1)throw new Error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1")}break;default:throw new Error(`"${e[0]}" unknown interpolation type "${i[0]}"`)}if(e.length%2!=1)throw new Error(`"${n}" expects an even number of arguments`);const o=te(e[2],t,s.numberType);let a;"interpolate-hcl"===n||"interpolate-lab"===n?a=s.colorType:r&&"value"!==r.kind&&(a=r);const l=[];for(let r=3;r<e.length;r+=2){const i=e[r];if("number"!=typeof i)throw new Error(`"${n}" requires stop inputs as literal numbers`);if(l.length&&l[l.length-1][0]>=i)throw new Error(`"${n}" requires strictly ascending stop inputs`);const o=te(e[r+1],t,a);a||(a=o.type),l.push([i,o])}if(a&&a!==s.colorType&&a!==s.numberType&&("array"!==a.kind||a.itemType!==s.numberType))throw new Error(`"${n}" cannot interpolate type ${s.typeToString(a)}`);return new P(n,a,i,o,l)}evaluate(e,n){const i=this._stops;if(1===i.length)return i[0][1].evaluate(e,n);const a=this.input.evaluate(e,n);if(a<=i[0][0])return i[0][1].evaluate(e,n);if(a>=i[i.length-1][0])return i[i.length-1][1].evaluate(e,n);let l=0;for(;++l<i.length&&!(a<i[l][0]););const c=i[l-1][0],u=i[l][0],d=P.interpolationRatio(this.interpolation,a,c,u),f=i[l-1][1].evaluate(e,n),h=i[l][1].evaluate(e,n);if("interpolate"===this._operator){if("array"===this.type.kind&&Array.isArray(f)&&Array.isArray(h))return f.map(((e,t)=>o.interpolate(e,h[t],d)));if("color"===this.type.kind&&f instanceof t&&h instanceof t){const e=new t(f),r=new t(h);return new t([o.interpolate(e.r,r.r,d),o.interpolate(e.g,r.g,d),o.interpolate(e.b,r.b,d),o.interpolate(e.a,r.a,d)])}if("number"===this.type.kind&&"number"==typeof f&&"number"==typeof h)return o.interpolate(f,h,d);throw new Error(`"${this._operator}" cannot interpolate type ${s.typeToString(this.type)}`)}if("interpolate-hcl"===this._operator){const e=r.toLCH(f),n=r.toLCH(h),i=n.h-e.h,s=r.toRGB({h:e.h+d*(i>180||i<-180?i-360*Math.round(i/360):i),c:o.interpolate(e.c,n.c,d),l:o.interpolate(e.l,n.l,d)});return new t({a:o.interpolate(f.a,h.a,d),...s})}if("interpolate-lab"===this._operator){const e=r.toLAB(f),n=r.toLAB(h),i=r.toRGB({l:o.interpolate(e.l,n.l,d),a:o.interpolate(e.a,n.a,d),b:o.interpolate(e.b,n.b,d)});return new t({a:o.interpolate(f.a,h.a,d),...i})}throw new Error(`Unexpected operator "${this._operator}"`)}interpolationUniformValue(e,t){const r=this._stops;if(1===r.length)return 0;if(e>=r[r.length-1][0])return 0;let n=0;for(;++n<r.length&&!(e<r[n][0]););const i=r[n-1][0],o=r[n][0];return P.interpolationRatio(this.interpolation,t,i,o)}getInterpolationRange(e){const t=this._stops;if(1===t.length){const e=t[0][0];return[e,e]}const r=t[t.length-1][0];if(e>=r)return[r,r];let n=0;for(;++n<t.length&&!(e<t[n][0]););return[t[n-1][0],t[n][0]]}static interpolationRatio(e,t,r,n){let o=0;return"linear"===e[0]?o=P._exponentialInterpolationRatio(t,1,r,n):"exponential"===e[0]?o=P._exponentialInterpolationRatio(t,e[1],r,n):"cubic-bezier"===e[0]&&(o=i.unitBezier(e[1],e[2],e[3],e[4])(P._exponentialInterpolationRatio(t,1,r,n),1e-5)),o<0?o=0:o>1&&(o=1),o}static _exponentialInterpolationRatio(e,t,r,n){const i=n-r;if(0===i)return 0;const o=e-r;return 1===t?o/i:(t**o-1)/(t**i-1)}}class A{constructor(e,t,r){this.type=e,this._input=t,this._stops=r}static parse(e,t){if(e.length<5)throw new Error('"step" expects at least 4 arguments');if(e.length%2!=1)throw new Error('"step" expects an even number of arguments');const r=te(e[1],t,s.numberType);let n;const i=[];i.push([-1/0,te(e[2],t)]);for(let r=3;r<e.length;r+=2){const o=e[r];if("number"!=typeof o)throw new Error('"step" requires stop inputs as literal numbers');if(i.length&&i[i.length-1][0]>=o)throw new Error('"step" requires strictly ascending stop inputs');const s=te(e[r+1],t);n||(n=s.type),i.push([o,s])}return new A(n,r,i)}evaluate(e,t){const r=this._stops;if(1===r.length)return r[0][1].evaluate(e,t);const n=this._input.evaluate(e,t);let i=0;for(;++i<r.length&&!(n<r[i][0]););return this._stops[i-1][1].evaluate(e,t)}}class M{constructor(e,t){this.type=e,this._output=t}static parse(e,t,r){if(e.length<4)throw new Error('"let" expects at least 3 arguments');if(e.length%2==1)throw new Error('"let" expects an odd number of arguments');const n=new a(t);for(let r=1;r<e.length-1;r+=2){const i=e[r];if("string"!=typeof i)throw new Error(`"let" requires a string to define variable names - found ${i}`);n.add(i,te(e[r+1],t))}const i=te(e[e.length-1],n,r);return new M(i.type,i)}evaluate(e,t){return this._output.evaluate(e,t)}}class I{constructor(e,t){this.type=e,this.output=t}static parse(e,t,r){if(2!==e.length||"string"!=typeof e[1])throw new Error('"var" requires just one literal string argument');const n=t.get(e[1]);if(!n)throw new Error(`${e[1]} must be defined before being used in a "var" expression`);return new I(r||s.valueType,n)}evaluate(e,t){return this.output.evaluate(e,t)}}class O{constructor(e,t,r){this.type=e,this._index=t,this._array=r}static parse(e,t){if(3!==e.length)throw new Error('"at" expects 2 arguments');const r=te(e[1],t,s.numberType),n=te(e[2],t);return new O(n.type.itemType,r,n)}evaluate(e,t){const r=this._index.evaluate(e,t),n=this._array.evaluate(e,t);if(r<0||r>=n.length)throw new Error('"at" index out of bounds');if(r!==Math.floor(r))throw new Error('"at" index must be an integer');return n[r]}}class R{constructor(e,t){this._key=e,this._obj=t,this.type=s.valueType}static parse(e,t){let r,n;switch(e.length){case 2:return r=te(e[1],t),new R(r);case 3:return r=te(e[1],t),n=te(e[2],t),new R(r,n);default:throw new Error('"get" expects 1 or 2 arguments')}}evaluate(e,t){const r=this._key.evaluate(e,t);return this._obj?this._obj.evaluate(e,t)[r]:e?.values[r]}}class D{constructor(e,t){this._key=e,this._obj=t,this.type=s.booleanType}static parse(e,t){let r,n;switch(e.length){case 2:return r=te(e[1],t),new D(r);case 3:return r=te(e[1],t),n=te(e[2],t),new D(r,n);default:throw new Error('"has" expects 1 or 2 arguments')}}evaluate(e,t){const r=this._key.evaluate(e,t);return this._obj?r in this._obj.evaluate(e,t):!!e?.values[r]}}class N{constructor(e,t){this._key=e,this._vals=t,this.type=s.booleanType}static parse(e,t){if(3!==e.length)throw new Error('"in" expects 2 arguments');return new N(te(e[1],t),te(e[2],t))}evaluate(e,t){const r=this._key.evaluate(e,t);return this._vals.evaluate(e,t).includes(r)}}class C{constructor(e,t,r){this._item=e,this._array=t,this._from=r,this.type=s.numberType}static parse(e,t){if(e.length<3||e.length>4)throw new Error('"index-of" expects 3 or 4 arguments');const r=te(e[1],t),n=te(e[2],t);if(4===e.length){const i=te(e[3],t,s.numberType);return new C(r,n,i)}return new C(r,n)}evaluate(e,t){const r=this._item.evaluate(e,t),n=this._array.evaluate(e,t);if(this._from){const i=this._from.evaluate(e,t);if(i!==Math.floor(i))throw new Error('"index-of" index must be an integer');return n.indexOf(r,i)}return n.indexOf(r)}}class L{constructor(e){this._arg=e,this.type=s.numberType}static parse(e,t){if(2!==e.length)throw new Error('"length" expects 2 arguments');const r=te(e[1],t);return new L(r)}evaluate(e,t){const r=this._arg.evaluate(e,t);if("string"==typeof r)return r.length;if(Array.isArray(r))return r.length;throw new Error('"length" expects string or array')}}class k{constructor(e,t,r,n){this.type=e,this._array=t,this._from=r,this._to=n}static parse(e,t){if(e.length<3||e.length>4)throw new Error('"slice" expects 2 or 3 arguments');const r=te(e[1],t),n=te(e[2],t,s.numberType);if(n.type!==s.numberType)throw new Error('"slice" index must return a number');if(4===e.length){const i=te(e[3],t,s.numberType);if(i.type!==s.numberType)throw new Error('"slice" index must return a number');return new k(r.type,r,n,i)}return new k(r.type,r,n)}evaluate(e,t){const r=this._array.evaluate(e,t);if(!Array.isArray(r)&&"string"!=typeof r)throw new Error('"slice" input must be an array or a string');const n=this._from.evaluate(e,t);if(n<0||n>=r.length)throw new Error('"slice" index out of bounds');if(n!==Math.floor(n))throw new Error('"slice" index must be an integer');if(this._to){const i=this._to.evaluate(e,t);if(i<0||i>=r.length)throw new Error('"slice" index out of bounds');if(i!==Math.floor(i))throw new Error('"slice" index must be an integer');return r.slice(n,i)}return r.slice(n)}}class U{constructor(){this.type=s.booleanType}static parse(e){if(1!==e.length)throw new Error('"has-id" expects no arguments');return new U}evaluate(e,t){return void 0!==e?.id}}class F{constructor(e,t){this._args=e,this._calculate=t,this.type=s.numberType}static parse(e,t,r){const n=e.slice(1).map((e=>te(e,t)));return new F(n,r)}evaluate(e,t){let r;return this._args&&(r=this._args.map((r=>r.evaluate(e,t)))),this._calculate(r)}}class G extends F{static parse(e,t){switch(e.length){case 2:return F.parse(e,t,(e=>-e[0]));case 3:return F.parse(e,t,(e=>e[0]-e[1]));default:throw new Error('"-" expects 1 or 2 arguments')}}}class B extends F{static parse(e,t){return F.parse(e,t,(e=>{let t=1;for(const r of e)t*=r;return t}))}}class j extends F{static parse(e,t){if(3===e.length)return F.parse(e,t,(e=>e[0]/e[1]));throw new Error('"/" expects 2 arguments')}}class V extends F{static parse(e,t){if(3===e.length)return F.parse(e,t,(e=>e[0]%e[1]));throw new Error('"%" expects 2 arguments')}}class z extends F{static parse(e,t){if(3===e.length)return F.parse(e,t,(e=>e[0]**e[1]));throw new Error('"^" expects 1 or 2 arguments')}}class W extends F{static parse(e,t){return F.parse(e,t,(e=>{let t=0;for(const r of e)t+=r;return t}))}}class q{constructor(e,t){this._args=e,this._calculate=t,this.type=s.numberType}static{this.ops={abs:e=>Math.abs(e[0]),acos:e=>Math.acos(e[0]),asin:e=>Math.asin(e[0]),atan:e=>Math.atan(e[0]),ceil:e=>Math.ceil(e[0]),cos:e=>Math.cos(e[0]),e:()=>Math.E,floor:e=>Math.floor(e[0]),ln:e=>Math.log(e[0]),ln2:()=>Math.LN2,log10:e=>Math.log(e[0])/Math.LN10,log2:e=>Math.log(e[0])/Math.LN2,max:e=>Math.max(...e),min:e=>Math.min(...e),pi:()=>Math.PI,round:e=>Math.round(e[0]),sin:e=>Math.sin(e[0]),sqrt:e=>Math.sqrt(e[0]),tan:e=>Math.tan(e[0])}}static parse(e,t){const r=e.slice(1).map((e=>te(e,t)));return new q(r,q.ops[e[0]])}evaluate(e,t){let r;return this._args&&(r=this._args.map((r=>r.evaluate(e,t)))),this._calculate(r)}}class H{constructor(e){this._args=e,this.type=s.stringType}static parse(e,t){return new H(e.slice(1).map((e=>te(e,t))))}evaluate(e,t){return this._args.map((r=>r.evaluate(e,t))).join("")}}class ${constructor(e,t){this._arg=e,this._calculate=t,this.type=s.stringType}static{this.ops={downcase:e=>e.toLowerCase(),upcase:e=>e.toUpperCase()}}static parse(e,t){if(2!==e.length)throw new Error(`${e[0]} expects 1 argument`);const r=te(e[1],t);return new $(r,$.ops[e[0]])}evaluate(e,t){return this._calculate(this._arg.evaluate(e,t))}}class Z{constructor(e){this._args=e,this.type=s.colorType}static parse(e,t){if(4!==e.length)throw new Error('"rgb" expects 3 arguments');const r=e.slice(1).map((e=>te(e,t)));return new Z(r)}evaluate(e,r){const n=this._validate(this._args[0].evaluate(e,r)),i=this._validate(this._args[1].evaluate(e,r)),o=this._validate(this._args[2].evaluate(e,r));return new t({r:n,g:i,b:o})}_validate(e){if("number"!=typeof e||e<0||e>255)throw new Error(`${e}: invalid color component`);return Math.round(e)}}class Y{constructor(e){this._args=e,this.type=s.colorType}static parse(e,t){if(5!==e.length)throw new Error('"rgba" expects 4 arguments');const r=e.slice(1).map((e=>te(e,t)));return new Y(r)}evaluate(e,r){const n=this._validate(this._args[0].evaluate(e,r)),i=this._validate(this._args[1].evaluate(e,r)),o=this._validate(this._args[2].evaluate(e,r)),s=this._validateAlpha(this._args[3].evaluate(e,r));return new t({r:n,g:i,b:o,a:s})}_validate(e){if("number"!=typeof e||e<0||e>255)throw new Error(`${e}: invalid color component`);return Math.round(e)}_validateAlpha(e){if("number"!=typeof e||e<0||e>1)throw new Error(`${e}: invalid alpha color component`);return e}}class J{constructor(e){this._color=e,this.type=s.arrayType(s.numberType,4)}static parse(e,t){if(2!==e.length)throw new Error('"to-rgba" expects 1 argument');const r=te(e[1],t);return new J(r)}evaluate(e,r){return new t(this._color.evaluate(e,r)).toRgba()}}class K{constructor(e,t){this.type=e,this._args=t}static parse(e,t){const r=e[0];if(e.length<2)throw new Error(`${r} expects at least one argument`);let n,i=1;if("array"===r){if(e.length>2){switch(e[1]){case"string":n=s.stringType;break;case"number":n=s.numberType;break;case"boolean":n=s.booleanType;break;default:throw new Error('"array" type argument must be string, number or boolean')}i++}else n=s.valueType;let t;if(e.length>3){if(t=e[2],null!==t&&("number"!=typeof t||t<0||t!==Math.floor(t)))throw new Error('"array" length argument must be a positive integer literal');i++}n=s.arrayType(n,t)}else switch(r){case"string":n=s.stringType;break;case"number":n=s.numberType;break;case"boolean":n=s.booleanType;break;case"object":n=s.objectType}const o=[];for(;i<e.length;i++){const r=te(e[i],t);o.push(r)}return new K(n,o)}evaluate(e,t){let r;for(const n of this._args){const i=n.evaluate(e,t);if(r=s.getType(i),s.matchType(r,this.type))return i}throw new Error(`Expected ${s.typeToString(this.type)} but got ${s.typeToString(r)}`)}}class X{static{this.types={"to-boolean":s.booleanType,"to-color":s.colorType,"to-number":s.numberType,"to-string":s.stringType}}constructor(e,t){this.type=e,this._args=t}static parse(e,t){const r=e[0],n=X.types[r];if(n===s.booleanType||n===s.stringType){if(2!==e.length)throw new Error(`${r} expects one argument`)}else if(e.length<2)throw new Error(`${r} expects at least one argument`);const i=[];for(let r=1;r<e.length;r++){const n=te(e[r],t);i.push(n)}return new X(n,i)}evaluate(e,r){if(this.type===s.booleanType)return Boolean(this._args[0].evaluate(e,r));if(this.type===s.stringType)return s.valueToString(this._args[0].evaluate(e,r));if(this.type===s.numberType){for(const t of this._args){const n=Number(t.evaluate(e,r));if(!isNaN(n))return n}return null}if(this.type===s.colorType){for(const n of this._args)try{const i=X.toColor(n.evaluate(e,r));if(i instanceof t)return i}catch{}return null}}static toBoolean(e){return Boolean(e)}static toString(e){return s.valueToString(e)}static toNumber(e){const t=Number(e);if(isNaN(t))throw new Error(`"${e}" is not a number`);return t}static toColor(e){if(e instanceof t)return e;if("string"==typeof e){const r=t.fromString(e);if(r)return r;throw new Error(`"${e}" is not a color`)}if(Array.isArray(e))return t.fromArray(e);throw new Error(`"${e}" is not a color`)}}class Q{constructor(e){this._val=e,this.type=s.getType(e)}static parse(e){if(2!==e.length)throw new Error('"literal" expects 1 argument');return new Q(e[1])}evaluate(e,t){return this._val}}class ee{constructor(e){this._arg=e,this.type=s.stringType}static parse(e,t){if(2!==e.length)throw new Error('"typeof" expects 1 argument');return new ee(te(e[1],t))}evaluate(e,t){return s.typeToString(s.getType(this._arg.evaluate(e,t)))}}function te(e,t,r){const n=typeof e;if("string"===n||"boolean"===n||"number"===n||null===e){if(r)switch(r.kind){case"string":"string"!==n&&(e=X.toString(e));break;case"number":"number"!==n&&(e=X.toNumber(e));break;case"color":e=X.toColor(e)}e=["literal",e]}if(!Array.isArray(e)||0===e.length)throw new Error("Expression must be a non empty array");const i=e[0];if("string"!=typeof i)throw new Error("First element of expression must be a string");const o=re[i];if(void 0===o)throw new Error(`Invalid expression operator "${i}"`);if(!o)throw new Error(`Unimplemented expression operator "${i}"`);return o.parse(e,t,r)}const re={array:K,boolean:K,collator:null,format:null,image:null,literal:Q,number:K,"number-format":null,object:K,string:K,"to-boolean":X,"to-color":X,"to-number":X,"to-string":X,typeof:ee,accumulated:null,"feature-state":null,"geometry-type":c,id:l,"line-progress":null,properties:u,at:O,get:R,has:D,in:N,"index-of":C,length:L,slice:k,"!":T,"!=":p,"<":y,"<=":m,"==":h,">":g,">=":_,all:S,any:x,case:E,coalesce:v,match:w,within:null,interpolate:P,"interpolate-hcl":P,"interpolate-lab":P,step:A,let:M,var:I,concat:H,downcase:$,"is-supported-script":null,"resolved-locale":null,upcase:$,rgb:Z,rgba:Y,"to-rgba":J,"-":G,"*":B,"/":j,"%":V,"^":z,"+":W,abs:q,acos:q,asin:q,atan:q,ceil:q,cos:q,e:q,floor:q,ln:q,ln2:q,log10:q,log2:q,max:q,min:q,pi:q,round:q,sin:q,sqrt:q,tan:q,zoom:d,"heatmap-density":null,"has-id":U,none:b};e.ALL=S,e.ANY=x,e.Add=W,e.Assert=K,e.At=O,e.Calculate=q,e.Case=E,e.Coalesce=v,e.Coerce=X,e.Concat=H,e.Div=j,e.EQ=h,e.GE=_,e.GT=g,e.GeomType=c,e.Get=R,e.Has=D,e.HasID=U,e.ID=l,e.In=N,e.IndexOf=C,e.Interpolate=P,e.LE=m,e.LT=y,e.Length=L,e.Let=M,e.Literal=Q,e.Match=w,e.Mod=V,e.Mul=B,e.NE=p,e.NONE=b,e.NOT=T,e.Pow=z,e.Properties=u,e.Rgb=Z,e.Rgba=Y,e.Slice=k,e.Step=A,e.String=$,e.Sub=G,e.ToRgba=J,e.TypeOf=ee,e.Var=I,e.Zoom=d,e.createExpression=te,e.ops=re,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/Color":function(){define(["./colorUtils","./core/mathUtils","./core/accessorSupport/ensureType"],(function(e,t,r){"use strict";function n(e){return t.clamp(r.ensureInteger(e),0,255)}function i(e,t){const r=e.toString(16).padStart(2,"0");return t?r.slice(0,1):r}class o{static blendColors(e,t,r,n=new o){return n.r=Math.round(e.r+(t.r-e.r)*r),n.g=Math.round(e.g+(t.g-e.g)*r),n.b=Math.round(e.b+(t.b-e.b)*r),n.a=e.a+(t.a-e.a)*r,n._sanitize()}static fromRgb(t,r){const n=e.cssToRgba(t);return n?o.fromArray(n,r):null}static fromHex(t,r=new o){const n=e.cssHexToRgba(t);return n?o.fromArray(n,r):null}static fromArray(e,t=new o){return t._set(Number(e[0]),Number(e[1]),Number(e[2]),Number(e[3])),isNaN(t.a)&&(t.a=1),t._sanitize()}static fromString(t,r){const n=e.parseRgba(t);return n?o.fromArray(n,r):null}static fromJSON(e){return null!=e?new o([e[0],e[1],e[2],(e[3]??255)/255]):void 0}static toUnitRGB(e){return null!=e?[e.r/255,e.g/255,e.b/255]:null}static toUnitRGBA(e){return null!=e?[e.r/255,e.g/255,e.b/255,null!=e.a?e.a:1]:null}constructor(e){this.r=255,this.g=255,this.b=255,this.a=1,e&&this.setColor(e)}get isBright(){return.299*this.r+.587*this.g+.114*this.b>=127}setColor(e){return"string"==typeof e?o.fromString(e,this):Array.isArray(e)?o.fromArray(e,this):(this._set(e.r??0,e.g??0,e.b??0,e.a??1),e instanceof o||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(e){const t=e?.capitalize??!1,r=e?.digits??6,n=3===r||4===r,o=4===r||8===r,s=`#${i(this.r,n)}${i(this.g,n)}${i(this.b,n)}${o?i(Math.round(255*this.a),n):""}`;return t?s.toUpperCase():s}toCss(e=!1){const t=this.r+", "+this.g+", "+this.b;return e?`rgba(${t}, ${this.a})`:`rgb(${t})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(e=o.AlphaMode.ALWAYS){const t=n(this.r),r=n(this.g),i=n(this.b);return e===o.AlphaMode.ALWAYS||1!==this.a?[t,r,i,n(255*this.a)]:[t,r,i]}clone(){return new o(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(e){return null!=e&&e.r===this.r&&e.g===this.g&&e.b===this.b&&e.a===this.a}_sanitize(){return this.r=e.sanitizeRgbComponent(this.r),this.g=e.sanitizeRgbComponent(this.g),this.b=e.sanitizeRgbComponent(this.b),this.a=e.sanitizeAlpha(this.a),this}_set(e,t,r,n){this.r=e,this.g=t,this.b=r,this.a=n}}return o.prototype.declaredClass="esri.Color",function(e){var t;(t=e.AlphaMode||(e.AlphaMode={}))[t.ALWAYS=0]="ALWAYS",t[t.UNLESS_OPAQUE=1]="UNLESS_OPAQUE"}(o||(o={})),o}))},"esri/colorUtils":function(){define(["exports"],(function(e){"use strict";const t={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function r(e){return!!t[e]||!!t[e.toLowerCase()]}function n(e){return t[e]??t[e.toLowerCase()]}function i(e,t,r){r<0&&++r,r>1&&--r;const n=6*r;return n<1?e+(t-e)*n:2*r<1?t:3*r<2?e+(t-e)*(2/3-r)*6:e}function o(e,t,r,n=1){const o=(e%360+360)%360/360,s=r<=.5?r*(t+1):r+t-r*t,a=2*r-s;return[Math.round(255*i(a,s,o+1/3)),Math.round(255*i(a,s,o)),Math.round(255*i(a,s,o-1/3)),n]}function s(e){if("#"!==e[0]||isNaN(Number(`0x${e.slice(1)}`)))return null;switch(e.length){case 4:case 5:{const t=parseInt(e.slice(1,2),16),r=parseInt(e.slice(2,3),16),n=parseInt(e.slice(3,4),16),i=4===e.length?15:parseInt(e.slice(4),16);return[t+16*t,r+16*r,n+16*n,(i+16*i)/255]}case 7:case 9:return[parseInt(e.slice(1,3),16),parseInt(e.slice(3,5),16),parseInt(e.slice(5,7),16),(7===e.length?255:parseInt(e.slice(7),16))/255];default:return null}}function a(e){const t=e.toLowerCase().match(/^(rgba?|hsla?)\(([\s.\-,%0-9]+)\)/);if(t){const e=t[2].split(/\s*,\s*/),r=t[1];if("rgb"===r&&3===e.length||"rgba"===r&&4===e.length){const t=e[0];if("%"===t.charAt(t.length-1)){const t=e.map((e=>2.56*parseFloat(e)));return 4===e.length&&(t[3]=parseFloat(e[3])),l(t)}return l(e.map((e=>parseFloat(e))))}if("hsl"===r&&3===e.length||"hsla"===r&&4===e.length)return o(parseFloat(e[0]),parseFloat(e[1])/100,parseFloat(e[2])/100,parseFloat(e[3]??"1"))}return null}function l(e){return e[0]=d(e[0]),e[1]=d(e[1]),e[2]=d(e[2]),e[3]=4===e.length?u(e[3]):1,e}function c(e){let t=r(e)?n(e):null;return t??=a(e),t??=s(e),t}function u(e){return f(e,0,1)}function d(e){return Math.round(f(e,0,255))}function f(e,t,r){return e=Number(e),isNaN(e)?r:e<t?t:e>r?r:e}e.colorGamma=2.2,e.cssHexToRgba=s,e.cssToRgba=a,e.getNamedColor=n,e.getNamedColorCopy=function(e){return[...n(e)]},e.hexToRgba=function(e){const t=e.length>5,r=t?8:4,n=(1<<r)-1,i=t?1:17,o=t?9===e.length:5===e.length;let s=Number("0x"+e.slice(1));if(isNaN(s))return null;const a=[0,0,0,1];let l;return o&&(l=s&n,s>>=r,a[3]=i*l/255),l=s&n,s>>=r,a[2]=i*l,l=s&n,s>>=r,a[1]=i*l,l=s&n,s>>=r,a[0]=i*l,a},e.hslaToRgba=o,e.isNamedColor=r,e.parseRgba=c,e.parseToUnitRgba=function(e){const t=c(e);return null!=t?[t[0]/255,t[1]/255,t[2]/255,t[3]]:null},e.sanitizeAlpha=u,e.sanitizeRgbComponent=d,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/core/colorUtils":function(){define(["exports","../Color","./arrayUtils","./lang","./mathUtils","../chunks/vec42","./libs/gl-matrix-2/factories/vec4f64"],(function(e,t,r,n,i,o,s){"use strict";function a(e){return"r"in e&&"g"in e&&"b"in e}function l(e){return"h"in e&&"s"in e&&"v"in e}function c(e){return"l"in e&&"a"in e&&"b"in e}function u(e){return"l"in e&&"c"in e&&"h"in e}const d=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],f=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];function h(e,t){const r=[];let n,i;if(e[0].length!==t.length)throw new Error("dimensions do not match");const o=e.length,s=e[0].length;let a=0;for(n=0;n<o;n++){for(a=0,i=0;i<s;i++)a+=e[n][i]*t[i];r.push(a)}return r}function p(e){const t=[e.r/255,e.g/255,e.b/255].map((e=>e<=.04045?e/12.92:((e+.055)/1.055)**2.4)),r=h(d,t);return{x:100*r[0],y:100*r[1],z:100*r[2]}}function y(e){const t=h(f,[e.x/100,e.y/100,e.z/100]).map((e=>{const t=e<=.0031308?12.92*e:1.055*e**(1/2.4)-.055;return Math.min(1,Math.max(t,0))}));return{r:Math.round(255*t[0]),g:Math.round(255*t[1]),b:Math.round(255*t[2])}}function m(e){const t=[e.x/95.047,e.y/100,e.z/108.883].map((e=>e>(6/29)**3?e**(1/3):1/3*(29/6)**2*e+4/29));return{l:116*t[1]-16,a:500*(t[0]-t[1]),b:200*(t[1]-t[2])}}function g(e){const t=e.l,r=[(t+16)/116+e.a/500,(t+16)/116,(t+16)/116-e.b/200].map((e=>e>6/29?e**3:3*(6/29)**2*(e-4/29)));return{x:95.047*r[0],y:100*r[1],z:108.883*r[2]}}function _(e){return a(e)?e:u(e)?function(e){return y(g(function(e){const t=e.l,r=e.c,n=e.h;return{l:t,a:r*Math.cos(n),b:r*Math.sin(n)}}(e)))}(e):c(e)?function(e){return y(g(e))}(e):function(e){return"x"in e&&"y"in e&&"z"in e}(e)?y(e):l(e)?function(e){const t=(e.h+360)%360/60,r=e.s/100,n=e.v/100*255,i=n*r,o=i*(1-Math.abs(t%2-1));let s;switch(Math.floor(t)){case 0:s={r:i,g:o,b:0};break;case 1:s={r:o,g:i,b:0};break;case 2:s={r:0,g:i,b:o};break;case 3:s={r:0,g:o,b:i};break;case 4:s={r:o,g:0,b:i};break;case 5:case 6:s={r:i,g:0,b:o};break;default:s={r:0,g:0,b:0}}return s.r=Math.round(s.r+n-i),s.g=Math.round(s.g+n-i),s.b=Math.round(s.b+n-i),s}(e):e}function T(e){return l(e)?e:function(e){const t=e.r,r=e.g,n=e.b,i=Math.max(t,r,n),o=i-Math.min(t,r,n);let s=i,a=0===o?0:i===t?(r-n)/o%6:i===r?(n-t)/o+2:(t-r)/o+4,l=0===o?0:o/s;return a<0&&(a+=6),a*=60,l*=100,s*=100/255,{h:a,s:l,v:s}}(_(e))}function S(e){return c(e)?e:function(e){return m(p(e))}(_(e))}function x(e){let{r,g:n,b:i,a:o}=e;return o<1&&(r=Math.round(o*r+255*(1-o)),n=Math.round(o*n+255*(1-o)),i=Math.round(o*i+255*(1-o))),new t({r,g:n,b:i})}function b(e,t){const{r,g:n,b:i}=t?.ignoreAlpha?e:x(e);return.2126*r+.7152*n+.0722*i}var E;function v(e){return e[0]??=0,e[1]??=0,e[2]??=0,e}e.BrightnessThreshold=void 0,(E=e.BrightnessThreshold||(e.BrightnessThreshold={}))[E.Low=160]="Low",E[E.High=225]="High";const w=(e,t)=>{const r=Math.floor(10*t())-5;return Math.min(255,Math.max(0,e+r))};function P(e,n,i,o={}){const s=e.r,a=e.g,l=e.b,c=n.r,u=n.g,d=n.b,f=Math.round(s+(c-s)*i),h=Math.round(a+(u-a)*i),p=Math.round(l+(d-l)*i);if(!o.offset)return new t([f,h,p]);const y=r.getRandomNumberGenerator(o.seed);return new t([w(f,y),w(h,y),w(p,y)])}e.colorEquals=function(e,t){return e===t||null!=e&&e.equals(t)},e.colorVectorEquals=function(e,t){return e===t||null!=e&&null!=t&&o.equals(e,t)},e.colorVectorToColorAndOpacity=function(e){return s.fromValues(e[0],e[1],e[2],e.length>3?e[3]:1)},e.createUniqueColors=function(e,i,o={}){if(0===e.length||i<=0)return[];if(1===(e=e.map((e=>"string"==typeof e?new t(e):e))).length||1===i){const t=[],r=e[0];for(let e=0;e<i;e++)t.push(r.clone());return t}if(o.shuffle&&(e=r.shuffle(n.clone(e),o.seed)),e.length>=i){const t=[],r=(e.length-1)/(i-1);for(let n=0;n<i;n++){const i=Math.round(n*r);t.push(e[i].clone())}return t}return function(e,t,n={}){const i=[],o=e.length-1,s=Math.ceil((t-e.length)/o);e:for(let r=0;r<o;r++){const o=e[r],a=e[r+1];for(let r=1;r<=s;r++){const l=r/(s+1);if(i.push(P(o,a,l,n)),i.length+e.length===t)break e}}return[...e.map((e=>e.clone())),...r.shuffle(i,n.seed??1)]}(e,i,o)},e.darken=function(e,t){const r=S(e);r.l*=1-t;const n=_(r),i=e.clone();return i.setColor(n),i.a=e.a,i},e.desaturate=function(e,t){const r=T(e);r.s*=t;const n=_(r),i=e.clone();return i.setColor(n),i.a=e.a,i},e.getColorLuminance=b,e.getColorTheme=function(e){return x(e).isBright?"light":"dark"},e.getContrast=function(r,n=e.BrightnessThreshold.High){return b(r,{ignoreAlpha:!0})>n?new t([0,0,0,r.a]):new t([255,255,255,r.a])},e.isRGB=a,e.multiplyOpacity=function(e,t){const r=e.clone();return r.a*=t,r},e.multiplyOpacityToUnitRGBA=function(e,r){const n=t.toUnitRGBA(e);return n[3]*=r,n},e.toHSV=T,e.toLAB=S,e.toLCH=function(e){return u(e)?e:function(e){return function(e){const t=e.l,r=e.a,n=e.b,i=Math.sqrt(r*r+n*n);let o=Math.atan2(n,r);return o=o>0?o:o+2*Math.PI,{l:t,c:i,h:o}}(m(p(e)))}(_(e))},e.toRGB=_,e.unitRGBAFromColor=function(e){return t.toUnitRGBA(e)},e.validateColor=v,e.validateColorAndOpacity=function(e){return e.length=4,v(e),e[3]??=1,i.clamp(e[3],0,1),e},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/chunks/vec42":function(){define(["exports","../core/libs/gl-matrix-2/math/common"],(function(e,t){"use strict";function r(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function n(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function i(e,t,r,n,i){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e}function o(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e}function s(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e}function a(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e[3]=t[3]*r[3],e}function l(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e[3]=t[3]/r[3],e}function c(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e}function u(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e}function d(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e[3]=Math.min(t[3],r[3]),e}function f(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e[3]=Math.max(t[3],r[3]),e}function h(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e}function p(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e}function y(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e}function m(e,t){const r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2],o=t[3]-e[3];return Math.sqrt(r*r+n*n+i*i+o*o)}function g(e,t){const r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2],o=t[3]-e[3];return r*r+n*n+i*i+o*o}function _(e){const t=e[0],r=e[1],n=e[2],i=e[3];return Math.sqrt(t*t+r*r+n*n+i*i)}function T(e){const t=e[0],r=e[1],n=e[2],i=e[3];return t*t+r*r+n*n+i*i}function S(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}function x(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e}function b(e,t){const r=t[0],n=t[1],i=t[2],o=t[3];let s=r*r+n*n+i*i+o*o;return s>0&&(s=1/Math.sqrt(s),e[0]=r*s,e[1]=n*s,e[2]=i*s,e[3]=o*s),e}function E(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function v(e,t,r,n){const i=t[0],o=t[1],s=t[2],a=t[3];return e[0]=i+n*(r[0]-i),e[1]=o+n*(r[1]-o),e[2]=s+n*(r[2]-s),e[3]=a+n*(r[3]-a),e}function w(e,r=1){const n=t.RANDOM;let i,o,s,a,l,c;do{i=2*n()-1,o=2*n()-1,l=i*i+o*o}while(l>=1);do{s=2*n()-1,a=2*n()-1,c=s*s+a*a}while(c>=1);const u=Math.sqrt((1-l)/c);return e[0]=r*i,e[1]=r*o,e[2]=r*s*u,e[3]=r*a*u,e}function P(e,t,r){const n=t[0],i=t[1],o=t[2],s=t[3];return e[0]=r[0]*n+r[4]*i+r[8]*o+r[12]*s,e[1]=r[1]*n+r[5]*i+r[9]*o+r[13]*s,e[2]=r[2]*n+r[6]*i+r[10]*o+r[14]*s,e[3]=r[3]*n+r[7]*i+r[11]*o+r[15]*s,e}function A(e,t,r){const n=t[0],i=t[1],o=t[2],s=r[0],a=r[1],l=r[2],c=r[3],u=c*n+a*o-l*i,d=c*i+l*n-s*o,f=c*o+s*i-a*n,h=-s*n-a*i-l*o;return e[0]=u*c+h*-s+d*-l-f*-a,e[1]=d*c+h*-a+f*-s-u*-l,e[2]=f*c+h*-l+u*-a-d*-s,e[3]=t[3],e}function M(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function I(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function O(e,r){const n=e[0],i=e[1],o=e[2],s=e[3],a=r[0],l=r[1],c=r[2],u=r[3],d=t.getEpsilon();return Math.abs(n-a)<=d*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(i-l)<=d*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(o-c)<=d*Math.max(1,Math.abs(o),Math.abs(c))&&Math.abs(s-u)<=d*Math.max(1,Math.abs(s),Math.abs(u))}const R=s,D=a,N=l,C=m,L=g,k=_,U=T,F=Object.freeze(Object.defineProperty({__proto__:null,add:o,ceil:c,copy:r,copyVec3:n,dist:C,distance:m,div:N,divide:l,dot:E,equals:O,exactEquals:I,floor:u,inverse:x,len:k,length:_,lerp:v,max:f,min:d,mul:D,multiply:a,negate:S,normalize:b,random:w,round:h,scale:p,scaleAndAdd:y,set:i,sqrDist:L,sqrLen:U,squaredDistance:g,squaredLength:T,str:M,sub:R,subtract:s,transformMat4:P,transformQuat:A},Symbol.toStringTag,{value:"Module"}));e.add=o,e.ceil=c,e.copy=r,e.copyVec3=n,e.dist=C,e.distance=m,e.div=N,e.divide=l,e.dot=E,e.equals=O,e.exactEquals=I,e.floor=u,e.inverse=x,e.len=k,e.length=_,e.lerp=v,e.max=f,e.min=d,e.mul=D,e.multiply=a,e.negate=S,e.normalize=b,e.random=w,e.round=h,e.scale=p,e.scaleAndAdd=y,e.set=i,e.sqrDist=L,e.sqrLen=U,e.squaredDistance=g,e.squaredLength=T,e.str=M,e.sub=R,e.subtract=s,e.transformMat4=P,e.transformQuat=A,e.vec4=F}))},"esri/core/libs/gl-matrix-2/math/common":function(){define(["exports"],(function(e){"use strict";let t=1e-6;function r(){return t}function n(e){t=e}const i=Math.random,o=Math.PI/180,s=180/Math.PI;function a(e){return e*o}function l(e){return e*s}function c(e,r){return Math.abs(e-r)<=t*Math.max(1,Math.abs(e),Math.abs(r))}const u=Object.freeze(Object.defineProperty({__proto__:null,RANDOM:i,equals:c,getEpsilon:r,setEpsilon:n,toDegree:l,toRadian:a},Symbol.toStringTag,{value:"Module"}));e.RANDOM=i,e.common=u,e.equals=c,e.getEpsilon=r,e.setEpsilon=n,e.toDegree=l,e.toRadian=a,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/core/libs/gl-matrix-2/factories/vec4f64":function(){define(["exports"],(function(e){"use strict";function t(){return[0,0,0,0]}function r(e){return[e[0],e[1],e[2],e[3]]}function n(e,t,r,n){return[e,t,r,n]}function i(e,t,r,n){return[e,t,r,n]}function o(e,t=[0,0,0,0]){const r=Math.min(4,e.length);for(let n=0;n<r;++n)t[n]=e[n];return t}function s(){return[0,0,0,0]}function a(){return n(1,1,1,1)}function l(){return n(1,0,0,0)}function c(){return n(0,1,0,0)}function u(){return n(0,0,1,0)}function d(){return n(0,0,0,1)}const f=[0,0,0,0],h=a(),p=l(),y=c(),m=u(),g=d(),_=Object.freeze(Object.defineProperty({__proto__:null,ONES:h,UNIT_W:g,UNIT_X:p,UNIT_Y:y,UNIT_Z:m,ZEROS:f,clone:r,create:t,freeze:i,fromArray:o,fromValues:n,ones:a,unitW:d,unitX:l,unitY:c,unitZ:u,zeros:s},Symbol.toStringTag,{value:"Module"}));e.ONES=h,e.UNIT_W=g,e.UNIT_X=p,e.UNIT_Y=y,e.UNIT_Z=m,e.ZEROS=f,e.clone=r,e.create=t,e.freeze=i,e.fromArray=o,e.fromValues=n,e.ones=a,e.unitW=d,e.unitX=l,e.unitY=c,e.unitZ=u,e.vec4f64=_,e.zeros=s,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/views/2d/unitBezier":function(){define(["exports"],(function(e){"use strict";function t(e,t,r,n){const i=3*e,o=3*(r-e)-i,s=1-i-o,a=3*t,l=3*(n-t)-a,c=1-a-l;function u(e){return((s*e+o)*e+i)*e}return function(e,t=1e-6){return r=function(e,t){let r,n,a,l,c,d;for(a=e,d=0;d<8;d++){if(l=u(a)-e,Math.abs(l)<t)return a;if(c=(3*s*(f=a)+2*o)*f+i,Math.abs(c)<1e-6)break;a-=l/c}var f;if(r=0,n=1,a=e,a<r)return r;if(a>n)return n;for(;r<n;){if(l=u(a),Math.abs(l-e)<t)return a;e>l?r=a:n=a,a=.5*(n-r)+r}return a}(e,t),((c*r+l)*r+a)*r;var r}}const r=/^cubic-bezier\((.*)\)/,n={};n.ease=t(.25,.1,.25,1),n.linear=t(0,0,1,1),n.easeIn=n["ease-in"]=t(.42,0,1,1),n.easeOut=n["ease-out"]=t(0,0,.58,1),n.easeInOut=n["ease-in-out"]=t(.42,0,.58,1),e.easingFunctions=n,e.parse=function(e){let i=n[e]||null;if(!i){const n=r.exec(e);if(n){const e=n[1].split(",").map((e=>parseFloat(e.trim())));4!==e.length||e.some((e=>isNaN(e)))||(i=t.apply(t,e))}}return i},e.unitBezier=t,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/views/2d/engine/vectorTiles/expression/types":function(){define(["exports","../../../../../Color"],(function(e,t){"use strict";const r={kind:"null"},n={kind:"number"},i={kind:"string"},o={kind:"boolean"},s={kind:"color"},a={kind:"object"},l={kind:"value"};function c(e,t){return{kind:"array",itemType:e,n:t}}const u=[r,n,i,o,s,a,c(l)];e.arrayType=c,e.booleanType=o,e.colorType=s,e.getType=function e(u){if(null===u)return r;if("string"==typeof u)return i;if("boolean"==typeof u)return o;if("number"==typeof u)return n;if(u instanceof t)return s;if(Array.isArray(u)){let t;for(const r of u){const n=e(r);if(t){if(t!==n){t=l;break}}else t=n}return c(t||l,u.length)}return"object"==typeof u?a:l},e.matchType=function e(t,r){if("array"===r.kind)return"array"===t.kind&&(0===t.n&&"value"===t.itemType.kind||e(t.itemType,r.itemType))&&("number"!=typeof r.n||r.n===t.n);if("value"===r.kind)for(const r of u)if(e(t,r))return!0;return r.kind===t.kind},e.nullType=r,e.numberType=n,e.objectType=a,e.stringType=i,e.typeToString=function e(t){if("array"===t.kind){const r=e(t.itemType);return"number"==typeof t.n?`array<${r}, ${t.n}>`:"value"===t.itemType.kind?"array":`array<${r}>`}return t.kind},e.valueToString=function(e){if(null===e)return"";const r=typeof e;return"string"===r?e:"number"===r||"boolean"===r?String(e):e instanceof t?e.toString():JSON.stringify(e)},e.valueType=l,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/views/2d/engine/vectorTiles/style/StyleProperty":function(){define(["../../../../../Color","../../../../../colorUtils","../GeometryUtils","../expression/expression","../expression/types"],(function(e,t,r,n,i){"use strict";class o{constructor(e,t){let r;switch(this.isDataDriven=!1,this.interpolator=null,e.type){case"number":case"color":r=!0;break;case"array":r="number"===e.value;break;default:r=!1}if((null==t||""===t&&"color"===e.type)&&(t=e.default),Array.isArray(t)&&t.length>0&&n.ops[t[0]]){const r={number:i.numberType,color:i.colorType,string:i.stringType,boolean:i.booleanType,enum:i.stringType};try{const o="array"===e.type?i.arrayType(r[e.value]||i.valueType,e.length):r[e.type],s=n.createExpression(t,null,o);this.getValue=this._buildExpression(s,e),this.isDataDriven=!0,s instanceof n.Interpolate&&s.input instanceof n.Zoom&&(this.interpolator=s)}catch(t){console.log(t.message),this.getValue=this._buildSimple(e.default)}return}r&&"interval"===t.type&&(r=!1);const o=t?.stops&&t.stops.length>0;if(o)for(const r of t.stops)r[1]=this._validate(r[1],e);if(this.isDataDriven=!!t&&!!t.property,this.isDataDriven)if(void 0!==t.default&&(t.default=this._validate(t.default,e)),o)switch(t.type){case"identity":this.getValue=this._buildIdentity(t,e);break;case"categorical":this.getValue=this._buildCategorical(t,e);break;default:this.getValue=r?this._buildInterpolate(t,e):this._buildInterval(t,e)}else this.getValue=this._buildIdentity(t,e);else o?this.getValue=r?this._buildZoomInterpolate(t):this._buildZoomInterval(t):(t=this._validate(t,e),this.getValue=this._buildSimple(t))}_validate(e,t){if("number"===t.type){if(null!=t.minimum&&e<t.minimum)return t.minimum;if(null!=t.maximum&&e>t.maximum)return t.maximum}else"color"===t.type?e=o._parseColor(e):"enum"===t.type?"string"==typeof e&&(e=t.values.indexOf(e)):"array"===t.type&&"enum"===t.value?e=e.map((e=>"string"==typeof e?t.values.indexOf(e):e)):"string"===t.type&&(e=i.valueToString(e));return e}_buildSimple(e){return()=>e}_buildExpression(e,t){return(r,n)=>{try{const i=e.evaluate(n,r);return void 0===i?t.default:this._validate(i,t)}catch(e){return console.log(e.message),t.default}}}_buildIdentity(e,t){return(r,n)=>{let i;return n&&(i=n.values[e.property]),void 0!==i&&(i=this._validate(i,t)),null!=i?i:void 0!==e.default?e.default:t.default}}_buildCategorical(e,t){return(r,n)=>{let i;return n&&(i=n.values[e.property]),i=this._categorical(i,e.stops),void 0!==i?i:void 0!==e.default?e.default:t.default}}_buildInterval(e,t){return(r,n)=>{let i;return n&&(i=n.values[e.property]),"number"==typeof i?this._interval(i,e.stops):void 0!==e.default?e.default:t.default}}_buildInterpolate(e,t){return(r,n)=>{let i;return n&&(i=n.values[e.property]),"number"==typeof i?this._interpolate(i,e.stops,e.base||1):void 0!==e.default?e.default:t.default}}_buildZoomInterpolate(e){return t=>this._interpolate(t,e.stops,e.base||1)}_buildZoomInterval(e){return t=>this._interval(t,e.stops)}_categorical(e,t){const r=t.length;for(let n=0;n<r;n++)if(t[n][0]===e)return t[n][1]}_interval(e,t){const r=t.length;let n=0;for(let i=0;i<r&&t[i][0]<=e;i++)n=i;return t[n][1]}_interpolate(e,t,n){let i,o;const s=t.length;for(let r=0;r<s;r++){const n=t[r];if(!(n[0]<=e)){o=n;break}i=n}if(i&&o){const t=o[0]-i[0],s=e-i[0],a=1===n?s/t:(n**s-1)/(n**t-1);if(Array.isArray(i[1])){const e=i[1],t=o[1],n=[];for(let i=0;i<e.length;i++)n.push(r.interpolate(e[i],t[i],a));return n}return r.interpolate(i[1],o[1],a)}return i?i[1]:o?o[1]:void 0}static _isEmpty(e){for(const t in e)if(e.hasOwnProperty(t))return!1;return!0}static _parseColor(r){return Array.isArray(r)?r:"string"==typeof r?t.parseToUnitRgba(r)??void 0:r instanceof e&&!this._isEmpty(r)?e.toUnitRGBA(r):void 0}}return o}))},"esri/views/2d/tiling/enums":function(){define(["exports"],(function(e){"use strict";var t;e.TileStatus=void 0,(t=e.TileStatus||(e.TileStatus={}))[t.INITIALIZED=0]="INITIALIZED",t[t.NO_DATA=1]="NO_DATA",t[t.READY=2]="READY",t[t.MODIFIED=3]="MODIFIED",t[t.INVALID=4]="INVALID",Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/views/2d/engine/vectorTiles/style/StyleRepository":function(){define(["../../../../../core/lang","./StyleDefinition","./StyleLayer"],(function(e,t,r){"use strict";class n{constructor(r,n=!0){if(this.backgroundBucketIds=[],this._uidToLayer=new Map,this._layerByName={},this._runningId=0,this._style=n?e.clone(r):r,this._style.layers||(this._style.layers=[]),this.version=parseFloat(this._style.version),this.layers=this._style.layers.map(((e,t,r)=>this._create(e,t,r))).filter((e=>!!e)),this.layers)for(let e=0;e<this.layers.length;e++){const r=this.layers[e];this._layerByName[r.id]=r,this._uidToLayer.set(r.uid,r),r.type===t.StyleLayerType.BACKGROUND&&this.backgroundBucketIds.push(r.id)}this._identifyRefLayers()}getLayerStyleProperties(e,r){const n=this.getStyleLayerByUID(e),i=n?.getLayoutValue("symbol-placement",r)!==t.SymbolPlacement.POINT;let o=n?.getLayoutValue("icon-rotation-alignment",r);o===t.RotationAlignment.AUTO&&(o=i?t.RotationAlignment.MAP:t.RotationAlignment.VIEWPORT);let s=n?.getLayoutValue("text-rotation-alignment",r);s===t.RotationAlignment.AUTO&&(s=i?t.RotationAlignment.MAP:t.RotationAlignment.VIEWPORT);const a=n?.getPaintValue("icon-translate",r),l=n?.getPaintValue("icon-translate-anchor",r),c=n?.getPaintValue("text-translate",r),u=n?.getPaintValue("text-translate-anchor",r);return{geometryType:null,iconAllowOverlap:n?.getLayoutValue("icon-allow-overlap",r),iconIgnorePlacement:n?.getLayoutValue("icon-ignore-placement",r),textAllowOverlap:n?.getLayoutValue("text-allow-overlap",r),textIgnorePlacement:n?.getLayoutValue("text-ignore-placement",r),iconRotationAlignment:o,textRotationAlignment:s,iconTranslateAnchor:l,iconTranslate:a,textTranslateAnchor:u,textTranslate:c}}isPainterDataDriven(e){const t=this._layerByName[e];return!!t&&t.isPainterDataDriven()}getStyleLayerId(e){return e>=this.layers.length?null:this.layers[e].id}getStyleLayerByUID(e){return this._uidToLayer.get(e)??null}getStyleLayerIndex(e){const t=this._layerByName[e];return t?this.layers.indexOf(t):-1}setStyleLayer(e,t){if(!e?.id)return;const r=this._style;null!=t&&t>=this.layers.length&&(t=this.layers.length-1);let i,o=!0;const s=this._layerByName[e.id];if(s){const a=this.layers.indexOf(s);t||(t=a),t===a?(o=!1,i=n._recreateLayer(e,s),this.layers[t]=i,r.layers[t]=e):(this.layers.splice(a,1),r.layers.splice(a,1),i=this._create(e,t,this.layers),this.layers.splice(t,0,i),r.layers.splice(t,0,e))}else i=this._create(e,t,this.layers),!t||t>=this.layers.length?(this.layers.push(i),r.layers.push(e)):(this.layers.splice(t,0,i),r.layers.splice(t,0,e));this._layerByName[e.id]=i,this._uidToLayer.set(i.uid,i),o&&this._recomputeZValues(),this._identifyRefLayers()}getStyleLayer(e){const t=this._layerByName[e];return t?{type:t.typeName,id:t.id,source:t.source,"source-layer":t.sourceLayer,minzoom:t.minzoom,maxzoom:t.maxzoom,filter:t.filter,layout:t.layout,paint:t.paint}:null}deleteStyleLayer(e){const t=this._layerByName[e];if(t){delete this._layerByName[e],this._uidToLayer.delete(t.uid);const r=this.layers.indexOf(t);this.layers.splice(r,1),this._style.layers.splice(r,1),this._recomputeZValues(),this._identifyRefLayers()}}getLayerById(e){return this._layerByName[e]}getLayoutProperties(e){const t=this._layerByName[e];return t?t.layout:null}getPaintProperties(e){const t=this._layerByName[e];return t?t.paint:null}setPaintProperties(e,t){const r=this._layerByName[e];if(!r)return;const i={type:r.typeName,id:r.id,source:r.source,"source-layer":r.sourceLayer,minzoom:r.minzoom,maxzoom:r.maxzoom,filter:r.filter,layout:r.layout,paint:t},o=n._recreateLayer(i,r),s=this.layers.indexOf(r);this.layers[s]=o,this._style.layers[s].paint=t,this._layerByName[r.id]=o,this._uidToLayer.set(r.uid,o)}setLayoutProperties(e,t){const r=this._layerByName[e];if(!r)return;const i={type:r.typeName,id:r.id,source:r.source,"source-layer":r.sourceLayer,minzoom:r.minzoom,maxzoom:r.maxzoom,filter:r.filter,layout:t,paint:r.paint},o=n._recreateLayer(i,r),s=this.layers.indexOf(r);this.layers[s]=o,this._style.layers[s].layout=t,this._layerByName[r.id]=o,this._uidToLayer.set(r.uid,o)}setStyleLayerVisibility(e,t){const r=this._layerByName[e];if(!r)return;const i=r.layout||{};i.visibility=t;const o={type:r.typeName,id:r.id,source:r.source,"source-layer":r.sourceLayer,minzoom:r.minzoom,maxzoom:r.maxzoom,filter:r.filter,layout:i,paint:r.paint},s=n._recreateLayer(o,r),a=this.layers.indexOf(r);this.layers[a]=s,this._style.layers[a].layout=i,this._layerByName[r.id]=s,this._uidToLayer.set(r.uid,s)}getStyleLayerVisibility(e){const t=this._layerByName[e];if(!t)return"none";const r=t.layout;return r?.visibility??"visible"}_recomputeZValues(){const e=this.layers,t=1/(e.length+1);for(let r=0;r<e.length;r++)e[r].z=1-(1+r)*t}_identifyRefLayers(){const e=[],r=[];let n=0;for(const i of this.layers){const o=i.layout;if(i.type===t.StyleLayerType.FILL){const t=i;let r=i.source+"|"+i.sourceLayer;r+="|"+(o?.visibility??""),r+="|"+i.minzoom,r+="|"+i.maxzoom,r+="|"+JSON.stringify(i.filter),(t.hasDataDrivenFill||t.hasDataDrivenOutline)&&(r+="|"+n),e.push({key:r,layer:i})}else if(i.type===t.StyleLayerType.LINE){const e=i,t=i.paint,s=null!=t&&(null!=t["line-pattern"]||null!=t["line-dasharray"]);let a=i.source+"|"+i.sourceLayer;a+="|"+(o?.visibility??""),a+="|"+i.minzoom,a+="|"+i.maxzoom,a+="|"+JSON.stringify(i.filter),a+="|"+(void 0!==o?o["line-cap"]:""),a+="|"+(void 0!==o?o["line-join"]:""),(e.hasDataDrivenLine||s)&&(a+="|"+n),r.push({key:a,layer:i})}++n}this._assignRefLayers(e),this._assignRefLayers(r)}_assignRefLayers(e){let r,n;e.sort(((e,t)=>e.key<t.key?-1:e.key>t.key?1:0));const i=e.length;for(let o=0;o<i;o++){const s=e[o];if(s.key===r)s.layer.refLayerId=n;else if(r=s.key,n=s.layer.id,s.layer.type===t.StyleLayerType.FILL){if(!s.layer.getPaintProperty("fill-outline-color"))for(let t=o+1;t<i;t++){const i=e[t];if(i.key!==r)break;if(i.layer.getPaintProperty("fill-outline-color")){e[o]=i,e[t]=s,n=i.layer.id;break}}}else if(s.layer.type===t.StyleLayerType.LINE){let t=s.layer;for(let a=o+1;a<i;a++){const i=e[a];if(i.key!==r)break;const l=i.layer;(t.canUseThinTessellation&&!l.canUseThinTessellation||!t.canUseThinTessellation&&(l.getPaintProperty("line-pattern")||l.getPaintProperty("line-dasharray")))&&(t=l,e[o]=i,e[a]=s,n=i.layer.id)}}}}_create(e,n,i){const o=1-(1+n)*(1/(i.length+1)),s=this._runningId++;switch(e.type){case"background":return new r.BackgroundStyleLayer(t.StyleLayerType.BACKGROUND,e,o,s);case"fill":return new r.FillStyleLayer(t.StyleLayerType.FILL,e,o,s);case"line":return new r.LineStyleLayer(t.StyleLayerType.LINE,e,o,s);case"symbol":return new r.SymbolStyleLayer(t.StyleLayerType.SYMBOL,e,o,s);case"raster":return console.warn(`Unsupported vector tile raster layer ${e.id}`),null;case"circle":return new r.CircleStyleLayer(t.StyleLayerType.CIRCLE,e,o,s)}return null}static _recreateLayer(e,n){switch(e.type){case"background":return new r.BackgroundStyleLayer(t.StyleLayerType.BACKGROUND,e,n.z,n.uid);case"fill":return new r.FillStyleLayer(t.StyleLayerType.FILL,e,n.z,n.uid);case"line":return new r.LineStyleLayer(t.StyleLayerType.LINE,e,n.z,n.uid);case"symbol":return new r.SymbolStyleLayer(t.StyleLayerType.SYMBOL,e,n.z,n.uid);case"raster":return console.warn(`Unsupported vector tile raster layer ${e.id}`),null;case"circle":return new r.CircleStyleLayer(t.StyleLayerType.CIRCLE,e,n.z,n.uid)}return null}}return n}))},"esri/rest/support/Query":function(){define(["exports","../../chunks/tslib.es6","../../core/jsonMap","../../core/JSONSupport","../../core/lang","../../core/accessorSupport/decorators/property","../../core/accessorSupport/decorators/cast","../../core/accessorSupport/decorators/enumeration","../../core/accessorSupport/decorators/subclass","../../core/accessorSupport/decorators/writer","../../core/accessorSupport/ensureType","../../geometry/Point","../../geometry/SpatialReference","../../geometry/support/jsonUtils","../../geometry/support/typeUtils","../../layers/support/source/DataLayerSource","./FullTextSearch","./QuantizationParameters","./spatialRelationships","./StatisticDefinition","../../chunks/TimeExtent"],(function(e,t,r,n,i,o,s,a,l,c,u,d,f,h,p,y,m,g,_,T,S){"use strict";var x;const b=new r.JSONMap({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});return e.default=class extends n{static{x=this}static from(e){return u.ensureClass(x,e)}constructor(e){super(e),this.aggregateIds=null,this.cacheHint=void 0,this.compactGeometryEnabled=!1,this.datumTransformation=null,this.defaultSpatialReferenceEnabled=!1,this.distance=void 0,this.dynamicDataSource=void 0,this.formatOf3DObjects=null,this.fullText=null,this.gdbVersion=null,this.geometry=null,this.geometryPrecision=void 0,this.groupByFieldsForStatistics=null,this.having=null,this.historicMoment=null,this.maxAllowableOffset=void 0,this.maxRecordCountFactor=1,this.multipatchOption=null,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.outStatistics=null,this.parameterValues=null,this.pixelSize=null,this.quantizationParameters=null,this.rangeValues=null,this.relationParameter=null,this.resultType=null,this.returnCentroid=!1,this.returnDistinctValues=!1,this.returnExceededLimitFeatures=!0,this.returnGeometry=!1,this.returnQueryGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.returnTrueCurves=void 0,this.sourceSpatialReference=null,this.spatialRelationship="intersects",this.start=void 0,this.sqlFormat=null,this.text=null,this.timeExtent=null,this.timeReferenceUnknownClient=!1,this.units=null,this.where=null}castDatumTransformation(e){return"number"==typeof e||"object"==typeof e?e:null}writeHistoricMoment(e,t){t.historicMoment=e&&e.getTime()}writeParameterValues(e,t){if(e){const r={};for(const t in e){const n=e[t];Array.isArray(n)?r[t]=n.map((e=>e instanceof Date?e.getTime():e)):n instanceof Date?r[t]=n.getTime():r[t]=n}t.parameterValues=r}}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10,t.where="1=1"}writeWhere(e,t){t.where=e||"1=1"}clone(){return new x(i.clone({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,compactGeometryEnabled:this.compactGeometryEnabled,datumTransformation:this.datumTransformation,defaultSpatialReferenceEnabled:this.defaultSpatialReferenceEnabled,distance:this.distance,fullText:this.fullText,formatOf3DObjects:this.formatOf3DObjects,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:null!=this.historicMoment?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,returnTrueCurves:this.returnTrueCurves,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,timeReferenceUnknownClient:this.timeReferenceUnknownClient,units:this.units,where:this.where}))}static{this.MAX_MAX_RECORD_COUNT_FACTOR=5}},t.__decorate([o.property({json:{write:!0}})],e.default.prototype,"aggregateIds",void 0),t.__decorate([o.property({type:Boolean,json:{write:!0}})],e.default.prototype,"cacheHint",void 0),t.__decorate([o.property({type:Boolean,json:{default:!1,write:!0}})],e.default.prototype,"compactGeometryEnabled",void 0),t.__decorate([o.property({json:{write:!0}})],e.default.prototype,"datumTransformation",void 0),t.__decorate([s.cast("datumTransformation")],e.default.prototype,"castDatumTransformation",null),t.__decorate([o.property({type:Boolean,json:{default:!1,write:!0}})],e.default.prototype,"defaultSpatialReferenceEnabled",void 0),t.__decorate([o.property({type:Number,json:{write:!0}})],e.default.prototype,"distance",void 0),t.__decorate([o.property({type:y.DataLayerSource,json:{write:!0}})],e.default.prototype,"dynamicDataSource",void 0),t.__decorate([o.property({type:String,json:{write:!0}})],e.default.prototype,"formatOf3DObjects",void 0),t.__decorate([o.property({type:[m],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.fullText&&this.fullText.length>0}}}}})],e.default.prototype,"fullText",void 0),t.__decorate([o.property({type:String,json:{write:!0}})],e.default.prototype,"gdbVersion",void 0),t.__decorate([o.property({types:p.geometryTypes,json:{read:h.fromJSON,write:!0}})],e.default.prototype,"geometry",void 0),t.__decorate([o.property({type:Number,json:{write:!0}})],e.default.prototype,"geometryPrecision",void 0),t.__decorate([o.property({type:[String],json:{write:!0}})],e.default.prototype,"groupByFieldsForStatistics",void 0),t.__decorate([o.property({type:String,json:{write:!0}})],e.default.prototype,"having",void 0),t.__decorate([o.property({type:Date})],e.default.prototype,"historicMoment",void 0),t.__decorate([c.writer("historicMoment")],e.default.prototype,"writeHistoricMoment",null),t.__decorate([o.property({type:Number,json:{write:!0}})],e.default.prototype,"maxAllowableOffset",void 0),t.__decorate([o.property({type:Number,cast:t=>t<1?1:t>e.default.MAX_MAX_RECORD_COUNT_FACTOR?e.default.MAX_MAX_RECORD_COUNT_FACTOR:t,json:{write:{overridePolicy:e=>({enabled:e>1})}}})],e.default.prototype,"maxRecordCountFactor",void 0),t.__decorate([o.property({type:["xyFootprint"],json:{write:!0}})],e.default.prototype,"multipatchOption",void 0),t.__decorate([o.property({type:Number,json:{read:{source:"resultRecordCount"}}})],e.default.prototype,"num",void 0),t.__decorate([o.property({json:{write:!0}})],e.default.prototype,"objectIds",void 0),t.__decorate([o.property({type:[String],json:{write:!0}})],e.default.prototype,"orderByFields",void 0),t.__decorate([o.property({type:[String],json:{write:!0}})],e.default.prototype,"outFields",void 0),t.__decorate([o.property({type:f,json:{name:"outSR",write:!0}})],e.default.prototype,"outSpatialReference",void 0),t.__decorate([o.property({type:[T],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.outStatistics&&this.outStatistics.length>0}}}}})],e.default.prototype,"outStatistics",void 0),t.__decorate([o.property({json:{write:!0}})],e.default.prototype,"parameterValues",void 0),t.__decorate([c.writer("parameterValues")],e.default.prototype,"writeParameterValues",null),t.__decorate([o.property({type:d,json:{write:!0}})],e.default.prototype,"pixelSize",void 0),t.__decorate([o.property({type:g,json:{write:!0}})],e.default.prototype,"quantizationParameters",void 0),t.__decorate([o.property({type:[Object],json:{write:!0}})],e.default.prototype,"rangeValues",void 0),t.__decorate([o.property({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy(){return{enabled:"relation"===this.spatialRelationship}}}}})],e.default.prototype,"relationParameter",void 0),t.__decorate([o.property({type:String,json:{write:!0}})],e.default.prototype,"resultType",void 0),t.__decorate([o.property({type:Boolean,json:{default:!1,write:!0}})],e.default.prototype,"returnCentroid",void 0),t.__decorate([o.property({type:Boolean,json:{default:!1,write:!0}})],e.default.prototype,"returnDistinctValues",void 0),t.__decorate([o.property({type:Boolean,json:{default:!0,write:!0}})],e.default.prototype,"returnExceededLimitFeatures",void 0),t.__decorate([o.property({type:Boolean,json:{write:!0}})],e.default.prototype,"returnGeometry",void 0),t.__decorate([o.property({type:Boolean,json:{default:!1,write:!0}})],e.default.prototype,"returnQueryGeometry",void 0),t.__decorate([o.property({type:Boolean,json:{default:!1,write:!0}})],e.default.prototype,"returnM",void 0),t.__decorate([o.property({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],e.default.prototype,"returnZ",void 0),t.__decorate([o.property({type:Boolean,json:{write:!0}})],e.default.prototype,"returnTrueCurves",void 0),t.__decorate([o.property({type:f,json:{write:!0}})],e.default.prototype,"sourceSpatialReference",void 0),t.__decorate([a.enumeration(_.spatialRelKebabDict,{ignoreUnknown:!1,name:"spatialRel"})],e.default.prototype,"spatialRelationship",void 0),t.__decorate([o.property({type:Number,json:{read:{source:"resultOffset"}}})],e.default.prototype,"start",void 0),t.__decorate([c.writer("start"),c.writer("num")],e.default.prototype,"writeStart",null),t.__decorate([o.property({type:String,json:{write:!0}})],e.default.prototype,"sqlFormat",void 0),t.__decorate([o.property({type:String,json:{write:!0}})],e.default.prototype,"text",void 0),t.__decorate([o.property({type:S.TimeExtent,json:{write:!0}})],e.default.prototype,"timeExtent",void 0),t.__decorate([o.property({type:Boolean,json:{default:!1,write:!0}})],e.default.prototype,"timeReferenceUnknownClient",void 0),t.__decorate([a.enumeration(b,{ignoreUnknown:!1}),o.property({json:{write:{overridePolicy(e){return{enabled:!!e&&null!=this.distance}}}}})],e.default.prototype,"units",void 0),t.__decorate([o.property({type:String,json:{write:{overridePolicy(e){return{enabled:null!=e||null!=this.start&&this.start>0}}}}})],e.default.prototype,"where",void 0),t.__decorate([c.writer("where")],e.default.prototype,"writeWhere",null),e.default=x=t.__decorate([l.subclass("esri.rest.support.Query")],e.default),e.default}))},"esri/core/accessorSupport/decorators/enumeration":function(){define(["exports","../../jsonMap","./property"],(function(e,t,r){"use strict";e.enumeration=function(e,n={}){const i=e instanceof t.JSONMap?e:new t.JSONMap(e,n),{alwaysWriteDefaults:o,default:s,ignoreUnknown:a=!0,name:l,nonNullable:c,readOnly:u=!1}=n;return r.property({type:a?i.apiValues:String,json:{type:i.jsonValues,default:s,name:l,read:!u&&{reader:i.read},write:{writer:i.write,alwaysWriteDefaults:o}},nonNullable:c,readOnly:u})},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/geometry/support/jsonUtils":function(){define(["exports","../Extent","../Geometry","../Multipoint","../Point","../Polygon","../Polyline"],(function(e,t,r,n,i,o,s){"use strict";function a(e){return void 0!==e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax}function l(e){return void 0!==e.points}function c(e){return void 0!==e.x&&void 0!==e.y}function u(e){return void 0!==e.paths||void 0!==e.curvePaths}function d(e){return void 0!==e.rings||void 0!==e.curveRings}const f={esriGeometryPoint:i,esriGeometryPolyline:s,esriGeometryPolygon:o,esriGeometryEnvelope:t,esriGeometryMultipoint:n,esriGeometryMultiPatch:o};e.fromJSON=function(e){return null==e?null:e instanceof r?e:c(e)?i.fromJSON(e):u(e)?s.fromJSON(e):d(e)?o.fromJSON(e):l(e)?n.fromJSON(e):a(e)?t.fromJSON(e):null},e.getGeometryType=function(e){return e&&f[e]||null},e.getJsonType=function(e){return e?c(e)?"esriGeometryPoint":u(e)?"esriGeometryPolyline":d(e)?"esriGeometryPolygon":a(e)?"esriGeometryEnvelope":l(e)?"esriGeometryMultipoint":null:null},e.isExtent=a,e.isMultipoint=l,e.isPoint=c,e.isPolygon=d,e.isPolyline=u,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/geometry/support/typeUtils":function(){define(["exports","../../core/jsonMap","../Extent","../Geometry","../Multipoint","../Point","../Polygon","../Polyline"],(function(e,t,r,n,i,o,s,a){"use strict";const l=t.strict()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),c=t.strict()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"}),u={base:n,key:"type",typeMap:{extent:r,multipoint:i,point:o,polyline:a,polygon:s}};e.featureGeometryTypeKebabDictionary=l,e.geometryTypes=u,e.isMultipoint=function(e){return"multipoint"===e.type},e.isPoint=function(e){return"point"===e.type},e.isPolygon=function(e){return"polygon"===e.type},e.isPolyline=function(e){return"polyline"===e.type},e.typeKebabDictionary=c,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/layers/support/source/DataLayerSource":function(){define(["exports","../../../chunks/tslib.es6","../../../core/jsonMap","../../../core/JSONSupport","../../../core/accessorSupport/decorators/property","../../../core/accessorSupport/decorators/cast","../../../core/accessorSupport/decorators/enumeration","../../../core/accessorSupport/decorators/reader","../../../core/accessorSupport/decorators/subclass","../../../core/accessorSupport/ensureType","../../../core/accessorSupport/extensions/serializableProperty/reader","../Field","./MapLayerSource","./QueryTableDataSource","./RasterDataSource","./TableDataSource"],(function(e,t,r,n,i,o,s,a,l,c,u,d,f,h,p,y){"use strict";var m,g;const _=r.strict()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});e.JoinTableDataSource=m=class extends n{constructor(e){super(e),this.type="join-table"}readLeftTableSource(e,t,r){return S()(e,t,r)}castLeftTableSource(e){return c.ensureOneOfType(b(),e)}readRightTableSource(e,t,r){return S()(e,t,r)}castRightTableSource(e){return c.ensureOneOfType(b(),e)}clone(){const{leftTableKey:e,rightTableKey:t,leftTableSource:r,rightTableSource:n,joinType:i}=this,o={leftTableKey:e,rightTableKey:t,leftTableSource:r?.clone()??void 0,rightTableSource:n?.clone()??void 0,joinType:i};return new m(o)}},t.__decorate([s.enumeration({joinTable:"join-table"}),i.property({json:{write:{isRequired:!0}}})],e.JoinTableDataSource.prototype,"type",void 0),t.__decorate([i.property({type:String,json:{write:!0}})],e.JoinTableDataSource.prototype,"leftTableKey",void 0),t.__decorate([i.property({type:String,json:{write:!0}})],e.JoinTableDataSource.prototype,"rightTableKey",void 0),t.__decorate([i.property({json:{write:!0}})],e.JoinTableDataSource.prototype,"leftTableSource",void 0),t.__decorate([a.reader("leftTableSource")],e.JoinTableDataSource.prototype,"readLeftTableSource",null),t.__decorate([o.cast("leftTableSource")],e.JoinTableDataSource.prototype,"castLeftTableSource",null),t.__decorate([i.property({json:{write:!0}})],e.JoinTableDataSource.prototype,"rightTableSource",void 0),t.__decorate([a.reader("rightTableSource")],e.JoinTableDataSource.prototype,"readRightTableSource",null),t.__decorate([o.cast("rightTableSource")],e.JoinTableDataSource.prototype,"castRightTableSource",null),t.__decorate([s.enumeration(_)],e.JoinTableDataSource.prototype,"joinType",void 0),e.JoinTableDataSource=m=t.__decorate([l.subclass("esri.layers.support.source.JoinTableDataSource")],e.JoinTableDataSource);let T=null;function S(){return T||(T=u.createTypeReader({types:b()})),T}let x=null;function b(){return x||(x={key:"type",base:null,typeMap:{"data-layer":e.DataLayerSource,"map-layer":f.MapLayerSource}}),x}const E={key:"type",base:null,typeMap:{"join-table":e.JoinTableDataSource,"query-table":h.QueryTableDataSource,raster:p.RasterDataSource,table:y.TableDataSource}};e.DataLayerSource=class extends n{static{g=this}constructor(e){super(e),this.type="data-layer"}clone(){const{fields:e,dataSource:t}=this;return new g({fields:e,dataSource:t})}},t.__decorate([s.enumeration({dataLayer:"data-layer"}),i.property({json:{write:{isRequired:!0}}})],e.DataLayerSource.prototype,"type",void 0),t.__decorate([i.property({type:[d],json:{write:!0}})],e.DataLayerSource.prototype,"fields",void 0),t.__decorate([i.property({types:E,json:{write:!0}})],e.DataLayerSource.prototype,"dataSource",void 0),e.DataLayerSource=g=t.__decorate([l.subclass("esri.layers.support.source.DataLayerSource")],e.DataLayerSource),e.DataLayerSource.from=c.ensureType(e.DataLayerSource),Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/layers/support/Field":function(){define(["exports","../../chunks/tslib.es6","../../core/jsonMap","../../core/JSONSupport","../../core/accessorSupport/decorators/property","../../core/accessorSupport/ensureType","../../core/has","../../core/RandomLCG","../../core/accessorSupport/decorators/enumeration","../../core/accessorSupport/decorators/reader","../../core/accessorSupport/decorators/subclass","./domains","./fieldType"],(function(e,t,r,n,i,o,s,a,l,c,u,d,f){"use strict";var h;const p=new r.JSONMap({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});return e.default=class extends n{static{h=this}constructor(e){super(e),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=void 0,this.name=null,this.nullable=!0,this.type=null,this.valueType=null,this.visible=!0}readDescription(e,{description:t}){let r=null;try{r=t?JSON.parse(t):null}catch(e){}return r?.value??null}readValueType(e,{description:t}){let r=null;try{r=t?JSON.parse(t):null}catch(e){}return r?p.fromJSON(r.fieldValueType):null}clone(){return new h({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain?.clone()??null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType,visible:this.visible})}},t.__decorate([i.property({type:String,json:{write:!0}})],e.default.prototype,"alias",void 0),t.__decorate([i.property({type:[String,Number],json:{write:{allowNull:!0}}})],e.default.prototype,"defaultValue",void 0),t.__decorate([i.property()],e.default.prototype,"description",void 0),t.__decorate([c.reader("description")],e.default.prototype,"readDescription",null),t.__decorate([i.property({types:d.types,json:{read:{reader:d.fromJSON},write:!0}})],e.default.prototype,"domain",void 0),t.__decorate([i.property({type:Boolean,json:{write:!0}})],e.default.prototype,"editable",void 0),t.__decorate([i.property({type:o.Integer,json:{write:{overridePolicy:e=>({enabled:Number.isFinite(e)})}}})],e.default.prototype,"length",void 0),t.__decorate([i.property({type:String,json:{write:!0}})],e.default.prototype,"name",void 0),t.__decorate([i.property({type:Boolean,json:{write:!0}})],e.default.prototype,"nullable",void 0),t.__decorate([l.enumeration(f.kebabDict)],e.default.prototype,"type",void 0),t.__decorate([i.property()],e.default.prototype,"valueType",void 0),t.__decorate([c.reader("valueType",["description"])],e.default.prototype,"readValueType",null),t.__decorate([i.property({type:Boolean,json:{read:!1}})],e.default.prototype,"visible",void 0),e.default=h=t.__decorate([u.subclass("esri.layers.support.Field")],e.default),e.default}))},"esri/layers/support/domains":function(){define(["exports","../../core/has","./CodedValueDomain","./Domain","./InheritedDomain","./RangeDomain"],(function(e,t,r,n,i,o){"use strict";const s={key:"type",base:n,typeMap:{range:o,"coded-value":r,inherited:i}};Object.defineProperty(e,"CodedValueDomain",{enumerable:!0,get:()=>r}),Object.defineProperty(e,"DomainBase",{enumerable:!0,get:()=>n}),Object.defineProperty(e,"InheritedDomain",{enumerable:!0,get:()=>i}),Object.defineProperty(e,"RangeDomain",{enumerable:!0,get:()=>o}),e.fromJSON=function(e){if(!e?.type)return null;switch(e.type){case"range":return o.fromJSON(e);case"codedValue":return r.fromJSON(e);case"inherited":return i.fromJSON(e)}return null},e.types=s,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/layers/support/CodedValueDomain":function(){define(["exports","../../chunks/tslib.es6","../../core/lang","../../core/accessorSupport/decorators/property","../../core/has","../../core/Logger","../../core/accessorSupport/decorators/enumeration","../../core/accessorSupport/decorators/subclass","./CodedValue","./Domain"],(function(e,t,r,n,i,o,s,a,l,c){"use strict";var u;return e.default=class extends c{static{u=this}constructor(e){super(e),this.codedValues=null,this.type="coded-value"}getName(e){let t=null;if(this.codedValues){const r=String(e);this.codedValues.some((e=>(String(e.code)===r&&(t=e.name),!!t)))}return t}clone(){return new u({codedValues:r.clone(this.codedValues),name:this.name})}},t.__decorate([n.property({type:[l.CodedValue],json:{write:{isRequired:!0}}})],e.default.prototype,"codedValues",void 0),t.__decorate([s.enumeration({codedValue:"coded-value"})],e.default.prototype,"type",void 0),e.default=u=t.__decorate([a.subclass("esri.layers.support.CodedValueDomain")],e.default),e.default}))},"esri/layers/support/CodedValue":function(){define(["exports","../../chunks/tslib.es6","../../core/JSONSupport","../../core/accessorSupport/decorators/property","../../core/has","../../core/Logger","../../core/RandomLCG","../../core/accessorSupport/decorators/subclass"],(function(e,t,r,n,i,o,s,a){"use strict";var l;e.CodedValue=l=class extends r{constructor(e){super(e),this.name=null,this.code=null}clone(){return new l({name:this.name,code:this.code})}},t.__decorate([n.property({type:String,json:{write:{isRequired:!0}}})],e.CodedValue.prototype,"name",void 0),t.__decorate([n.property({type:[String,Number],json:{write:{isRequired:!0}}})],e.CodedValue.prototype,"code",void 0),e.CodedValue=l=t.__decorate([a.subclass("esri.layers.support.CodedValue")],e.CodedValue),Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/layers/support/Domain":function(){define(["exports","../../chunks/tslib.es6","../../core/jsonMap","../../core/JSONSupport","../../core/accessorSupport/decorators/property","../../core/has","../../core/Logger","../../core/RandomLCG","../../core/accessorSupport/decorators/enumeration","../../core/accessorSupport/decorators/subclass"],(function(e,t,r,n,i,o,s,a,l,c){"use strict";const u=new r.JSONMap({inherited:"inherited",codedValue:"coded-value",range:"range"});return e.default=class extends n{constructor(e){super(e),this.name=null,this.type=null}},t.__decorate([i.property({type:String,json:{write:!0}})],e.default.prototype,"name",void 0),t.__decorate([l.enumeration(u),i.property({json:{write:{isRequired:!0}}})],e.default.prototype,"type",void 0),e.default=t.__decorate([c.subclass("esri.layers.support.Domain")],e.default),e.default}))},"esri/layers/support/InheritedDomain":function(){define(["exports","../../chunks/tslib.es6","../../core/Logger","../../core/has","../../core/RandomLCG","../../core/Error","../../core/accessorSupport/decorators/enumeration","../../core/accessorSupport/decorators/subclass","./Domain"],(function(e,t,r,n,i,o,s,a,l){"use strict";var c;return e.default=class extends l{static{c=this}constructor(e){super(e),this.type="inherited"}clone(){return new c}},t.__decorate([s.enumeration({inherited:"inherited"})],e.default.prototype,"type",void 0),e.default=c=t.__decorate([a.subclass("esri.layers.support.InheritedDomain")],e.default),e.default}))},"esri/layers/support/RangeDomain":function(){define(["exports","../../chunks/tslib.es6","../../core/accessorSupport/decorators/property","../../core/has","../../core/Logger","../../core/RandomLCG","../../core/accessorSupport/decorators/enumeration","../../core/accessorSupport/decorators/subclass","./Domain"],(function(e,t,r,n,i,o,s,a,l){"use strict";var c;return e.default=class extends l{static{c=this}constructor(e){super(e),this.maxValue=null,this.minValue=null,this.type="range"}clone(){return new c({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}},t.__decorate([r.property({json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range?.[1]},write:{enabled:!1,overridePolicy(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",writer(e,t,r){t[r]=[this.minValue||0,e]},isRequired:!0}}})],e.default.prototype,"maxValue",void 0),t.__decorate([r.property({json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range?.[0]},write:{target:"range",writer(e,t,r){t[r]=[e,this.maxValue||0]},isRequired:!0}}})],e.default.prototype,"minValue",void 0),t.__decorate([s.enumeration({range:"range"})],e.default.prototype,"type",void 0),e.default=c=t.__decorate([a.subclass("esri.layers.support.RangeDomain")],e.default),e.default}))},"esri/layers/support/fieldType":function(){define(["exports","../../core/jsonMap"],(function(e,t){"use strict";const r=new t.JSONMap({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml",esriFieldTypeBigInteger:"big-integer",esriFieldTypeDateOnly:"date-only",esriFieldTypeTimeOnly:"time-only",esriFieldTypeTimestampOffset:"timestamp-offset"});e.kebabDict=r,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/layers/support/source/MapLayerSource":function(){define(["exports","../../../chunks/tslib.es6","../../../core/JSONSupport","../../../core/accessorSupport/decorators/property","../../../core/accessorSupport/ensureType","../../../core/has","../../../core/RandomLCG","../../../core/accessorSupport/decorators/enumeration","../../../core/accessorSupport/decorators/subclass"],(function(e,t,r,n,i,o,s,a,l){"use strict";var c;e.MapLayerSource=c=class extends r{constructor(e){super(e),this.type="map-layer"}clone(){const{mapLayerId:e,gdbVersion:t}=this;return new c({mapLayerId:e,gdbVersion:t})}},t.__decorate([a.enumeration({mapLayer:"map-layer"}),n.property({json:{write:{isRequired:!0}}})],e.MapLayerSource.prototype,"type",void 0),t.__decorate([n.property({type:i.Integer,json:{write:{isRequired:!0}}})],e.MapLayerSource.prototype,"mapLayerId",void 0),t.__decorate([n.property({type:String,json:{write:!0}})],e.MapLayerSource.prototype,"gdbVersion",void 0),e.MapLayerSource=c=t.__decorate([l.subclass("esri.layers.support.source.MapLayerSource")],e.MapLayerSource),Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/layers/support/source/QueryTableDataSource":function(){define(["exports","../../../chunks/tslib.es6","../../../core/JSONSupport","../../../core/accessorSupport/decorators/property","../../../core/has","../../../core/Logger","../../../core/RandomLCG","../../../core/accessorSupport/decorators/enumeration","../../../core/accessorSupport/decorators/subclass","../../../geometry/SpatialReference","../../../geometry/support/typeUtils"],(function(e,t,r,n,i,o,s,a,l,c,u){"use strict";var d;e.QueryTableDataSource=d=class extends r{constructor(e){super(e),this.type="query-table"}clone(){const{workspaceId:e,query:t,oidFields:r,spatialReference:n,geometryType:i}=this,o={workspaceId:e,query:t,oidFields:r,spatialReference:n?.clone()??void 0,geometryType:i};return new d(o)}},t.__decorate([a.enumeration({queryTable:"query-table"}),n.property({json:{write:{isRequired:!0}}})],e.QueryTableDataSource.prototype,"type",void 0),t.__decorate([n.property({type:String,json:{write:!0}})],e.QueryTableDataSource.prototype,"workspaceId",void 0),t.__decorate([n.property({type:String,json:{write:!0}})],e.QueryTableDataSource.prototype,"query",void 0),t.__decorate([n.property({type:String,json:{write:!0}})],e.QueryTableDataSource.prototype,"oidFields",void 0),t.__decorate([n.property({type:c,json:{write:!0}})],e.QueryTableDataSource.prototype,"spatialReference",void 0),t.__decorate([a.enumeration(u.featureGeometryTypeKebabDictionary)],e.QueryTableDataSource.prototype,"geometryType",void 0),e.QueryTableDataSource=d=t.__decorate([l.subclass("esri.layers.support.source.QueryTableDataSource")],e.QueryTableDataSource),Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/layers/support/source/RasterDataSource":function(){define(["exports","../../../chunks/tslib.es6","../../../core/JSONSupport","../../../core/accessorSupport/decorators/property","../../../core/has","../../../core/Logger","../../../core/RandomLCG","../../../core/accessorSupport/decorators/enumeration","../../../core/accessorSupport/decorators/subclass"],(function(e,t,r,n,i,o,s,a,l){"use strict";var c;e.RasterDataSource=c=class extends r{constructor(e){super(e),this.type="raster"}clone(){const{workspaceId:e,dataSourceName:t}=this;return new c({workspaceId:e,dataSourceName:t})}},t.__decorate([a.enumeration({raster:"raster"}),n.property({json:{write:{isRequired:!0}}})],e.RasterDataSource.prototype,"type",void 0),t.__decorate([n.property({type:String,json:{write:!0}})],e.RasterDataSource.prototype,"dataSourceName",void 0),t.__decorate([n.property({type:String,json:{write:!0}})],e.RasterDataSource.prototype,"workspaceId",void 0),e.RasterDataSource=c=t.__decorate([l.subclass("esri.layers.support.source.RasterDataSource")],e.RasterDataSource),Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/layers/support/source/TableDataSource":function(){define(["exports","../../../chunks/tslib.es6","../../../core/JSONSupport","../../../core/accessorSupport/decorators/property","../../../core/has","../../../core/Logger","../../../core/RandomLCG","../../../core/accessorSupport/decorators/enumeration","../../../core/accessorSupport/decorators/subclass"],(function(e,t,r,n,i,o,s,a,l){"use strict";var c;e.TableDataSource=c=class extends r{constructor(e){super(e),this.type="table"}clone(){const{workspaceId:e,gdbVersion:t,dataSourceName:r}=this;return new c({workspaceId:e,gdbVersion:t,dataSourceName:r})}},t.__decorate([a.enumeration({table:"table"}),n.property({json:{write:{isRequired:!0}}})],e.TableDataSource.prototype,"type",void 0),t.__decorate([n.property({type:String,json:{write:!0}})],e.TableDataSource.prototype,"workspaceId",void 0),t.__decorate([n.property({type:String,json:{write:!0}})],e.TableDataSource.prototype,"gdbVersion",void 0),t.__decorate([n.property({type:String,json:{write:!0}})],e.TableDataSource.prototype,"dataSourceName",void 0),e.TableDataSource=c=t.__decorate([l.subclass("esri.layers.support.source.TableDataSource")],e.TableDataSource),Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/rest/support/FullTextSearch":function(){define(["../../chunks/tslib.es6","../../core/Clonable","../../core/JSONSupport","../../core/accessorSupport/decorators/property","../../core/has","../../core/Logger","../../core/RandomLCG","../../core/accessorSupport/decorators/subclass"],(function(e,t,r,n,i,o,s,a){"use strict";let l=class extends(t.ClonableMixin(r)){constructor(e){super(e),this.onFields=null,this.operator=null,this.searchTerm=null,this.searchType=null}};return e.__decorate([n.property({type:[String],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.onFields&&this.onFields.length>0}}}}})],l.prototype,"onFields",void 0),e.__decorate([n.property({type:String,json:{write:!0}})],l.prototype,"operator",void 0),e.__decorate([n.property({type:String,json:{write:!0}})],l.prototype,"searchTerm",void 0),e.__decorate([n.property({type:String,json:{write:!0}})],l.prototype,"searchType",void 0),l=e.__decorate([a.subclass("esri.rest.support.FullTextSearch")],l),l}))},"esri/core/Clonable":function(){define(["../chunks/tslib.es6","./Accessor","./has","./lang","./Logger","./maybe","./accessorSupport/PropertyOrigin","./accessorSupport/utils","./accessorSupport/decorators/subclass"],(function(e,t,r,n,i,o,s,a,l){"use strict";const c=t=>{let r=class extends t{clone(){const e=a.getProperties(this);o.assertIsSome(e,"unable to clone instance of non-accessor class");const t=e.metadata,r=e.store,i={},l=new Map;for(const e in t){const o=t[e],a=r?.originOf(e),c=o.clonable;if(o.readOnly||!1===c||a!==s.OriginId.USER&&a!==s.OriginId.DEFAULTS&&a!==s.OriginId.WEB_MAP&&a!==s.OriginId.WEB_SCENE)continue;const u=this[e];let d=null;d="function"==typeof c?c(u):"reference"===c?u:n.tryClone(u),null!=u&&null==d||(a===s.OriginId.DEFAULTS?l.set(e,d):i[e]=d)}const c=new(0,Object.getPrototypeOf(this).constructor)(i);if(l.size){const e=a.getProperties(c)?.store;if(e)for(const[t,r]of l)e.set(t,r,s.OriginId.DEFAULTS)}return c}};return r=e.__decorate([l.subclass("esri.core.Clonable")],r),r};let u=class extends(c(t)){};return u=e.__decorate([l.subclass("esri.core.Clonable")],u),function(e){e.ClonableMixin=c}(u||(u={})),u}))},"esri/rest/support/QuantizationParameters":function(){define(["exports","../../chunks/tslib.es6","../../core/jsonMap","../../core/JSONSupport","../../core/lang","../../core/accessorSupport/decorators/property","../../core/has","../../core/Logger","../../core/accessorSupport/decorators/subclass","../../geometry/Extent"],(function(e,t,r,n,i,o,s,a,l,c){"use strict";var u;const d=new r.JSONMap({upperLeft:"upper-left",lowerLeft:"lower-left"});return e.default=u=class extends n{constructor(e){super(e),this.extent=null,this.mode="view",this.originPosition="upper-left",this.tolerance=1}clone(){return new u(i.clone({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))}},t.__decorate([o.property({type:c,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],e.default.prototype,"extent",void 0),t.__decorate([o.property({type:["view","edit"],json:{write:!0}})],e.default.prototype,"mode",void 0),t.__decorate([o.property({type:String,json:{read:d.read,write:d.write}})],e.default.prototype,"originPosition",void 0),t.__decorate([o.property({type:Number,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],e.default.prototype,"tolerance",void 0),e.default=u=t.__decorate([l.subclass("esri.rest.support.QuantizationParameters")],e.default),e.default}))},"esri/rest/support/spatialRelationships":function(){define(["exports","../../core/jsonMap"],(function(e,t){"use strict";const r=new t.JSONMap({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"});e.spatialRelKebabDict=r,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/rest/support/StatisticDefinition":function(){define(["exports","../../chunks/tslib.es6","../../core/jsonMap","../../core/JSONSupport","../../core/lang","../../core/accessorSupport/decorators/property","../../core/has","../../core/Logger","../../core/accessorSupport/decorators/subclass","../../core/accessorSupport/decorators/writer"],(function(e,t,r,n,i,o,s,a,l,c){"use strict";var u;const d=new r.JSONMap({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete",EnvelopeAggregate:"envelope-aggregate",CentroidAggregate:"centroid-aggregate",ConvexHullAggregate:"convex-hull-aggregate"});return e.default=u=class extends n{constructor(e){super(e),this.maxPointCount=void 0,this.maxRecordCount=void 0,this.maxVertexCount=void 0,this.onStatisticField=null,this.outStatisticFieldName=null,this.statisticType=null,this.statisticParameters=null}writeStatisticParameters(e,t){"percentile-continuous"!==this.statisticType&&"percentile-discrete"!==this.statisticType||(t.statisticParameters=i.clone(e))}clone(){return new u({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:i.clone(this.statisticParameters)})}},t.__decorate([o.property({type:Number,json:{write:!0}})],e.default.prototype,"maxPointCount",void 0),t.__decorate([o.property({type:Number,json:{write:!0}})],e.default.prototype,"maxRecordCount",void 0),t.__decorate([o.property({type:Number,json:{write:!0}})],e.default.prototype,"maxVertexCount",void 0),t.__decorate([o.property({type:String,json:{write:!0}})],e.default.prototype,"onStatisticField",void 0),t.__decorate([o.property({type:String,json:{write:!0}})],e.default.prototype,"outStatisticFieldName",void 0),t.__decorate([o.property({type:String,json:{read:{source:"statisticType",reader:d.read},write:{target:"statisticType",writer:d.write}}})],e.default.prototype,"statisticType",void 0),t.__decorate([o.property({type:Object})],e.default.prototype,"statisticParameters",void 0),t.__decorate([c.writer("statisticParameters")],e.default.prototype,"writeStatisticParameters",null),e.default=u=t.__decorate([l.subclass("esri.rest.support.StatisticDefinition")],e.default),e.default}))},"esri/chunks/TimeExtent":function(){define(["exports","./tslib.es6","../core/JSONSupport","../core/timeUtils","../core/accessorSupport/decorators/property","../core/has","../core/Logger","../core/RandomLCG","../core/accessorSupport/decorators/reader","../core/accessorSupport/decorators/subclass","../core/accessorSupport/decorators/writer","../time/constants"],(function(e,t,r,n,i,o,s,a,l,c,u,d){"use strict";var f;e.TimeExtent=class extends r{static{f=this}static get allTime(){return h}static get empty(){return p}static fromArray(e){return new f({start:null!=e[0]?new Date(e[0]):e[0],end:null!=e[1]?new Date(e[1]):e[1]})}constructor(e){super(e),this.end=null,this.start=null}readEnd(e,t){return null!=t.end?new Date(t.end):null}writeEnd(e,t){t.end=e?.getTime()??null}get isAllTime(){return this.equals(f.allTime)}get isEmpty(){return this.equals(f.empty)}readStart(e,t){return null!=t.start?new Date(t.start):null}writeStart(e,t){t.start=e?.getTime()??null}clone(){return new f({end:this.end,start:this.start})}equals(e){if(!e)return!1;const t=this.start?.getTime()??this.start,r=this.end?.getTime()??this.end,n=e.start?.getTime()??e.start,i=e.end?.getTime()??e.end;return t===n&&r===i}expandTo(e,t=d.system){if(this.isEmpty||this.isAllTime)return this.clone();let r=this.start;r&&(r=n.truncateDate(r,e,t));let i=this.end;if(i){const r=n.truncateDate(i,e,t);i=i.getTime()===r.getTime()?r:n.offsetDate(r,1,e,t)}return new f({start:r,end:i})}intersection(e){if(!e)return this.clone();if(this.isEmpty||e.isEmpty)return f.empty;if(this.isAllTime)return e.clone();if(e.isAllTime)return this.clone();const t=this.start?.getTime()??-1/0,r=this.end?.getTime()??1/0,n=e.start?.getTime()??-1/0,i=e.end?.getTime()??1/0;let o,s;return n>=t&&n<=r?o=n:t>=n&&t<=i&&(o=t),r>=n&&r<=i?s=r:i>=t&&i<=r&&(s=i),null==o||null==s||isNaN(o)||isNaN(s)?f.empty:new f({start:o===-1/0?null:new Date(o),end:s===1/0?null:new Date(s)})}offset(e,t,r=d.system){if(this.isEmpty||this.isAllTime)return this.clone();const i=new f,{start:o,end:s}=this;return null!=o&&(i.start=n.offsetDate(o,e,t,r)),null!=s&&(i.end=n.offsetDate(s,e,t,r)),i}toArray(){return this.isEmpty?[void 0,void 0]:[this.start?.getTime()??null,this.end?.getTime()??null]}union(e){if(!e||e.isEmpty)return this.clone();if(this.isEmpty)return e.clone();if(this.isAllTime||e.isAllTime)return h.clone();const t=null!=this.start&&null!=e.start?new Date(Math.min(this.start.getTime(),e.start.getTime())):null,r=null!=this.end&&null!=e.end?new Date(Math.max(this.end.getTime(),e.end.getTime())):null;return new f({start:t,end:r})}},t.__decorate([i.property({type:Date,json:{write:{allowNull:!0}}})],e.TimeExtent.prototype,"end",void 0),t.__decorate([l.reader("end")],e.TimeExtent.prototype,"readEnd",null),t.__decorate([u.writer("end")],e.TimeExtent.prototype,"writeEnd",null),t.__decorate([i.property({readOnly:!0,json:{read:!1}})],e.TimeExtent.prototype,"isAllTime",null),t.__decorate([i.property({readOnly:!0,json:{read:!1}})],e.TimeExtent.prototype,"isEmpty",null),t.__decorate([i.property({type:Date,json:{write:{allowNull:!0}}})],e.TimeExtent.prototype,"start",void 0),t.__decorate([l.reader("start")],e.TimeExtent.prototype,"readStart",null),t.__decorate([u.writer("start")],e.TimeExtent.prototype,"writeStart",null),e.TimeExtent=f=t.__decorate([c.subclass("esri.time.TimeExtent")],e.TimeExtent);const h=new e.TimeExtent,p=new e.TimeExtent({start:void 0,end:void 0});e.TimeExtent$1=e.TimeExtent}))},"esri/core/timeUtils":function(){define(["exports","../intl/date","../time/constants","../chunks/datetime"],(function(e,t,r,n){"use strict";const i={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8};function o(e,t,r){return 0===e?0:e*i[t]/i[r]}function s(e){switch(e){case"milliseconds":return"millisecond";case"seconds":return"second";case"minutes":return"minute";case"hours":return"hour";case"days":return"day";case"weeks":return"week";case"months":return"month";case"years":return"year"}}e.convertTime=o,e.isValidDate=function(e){return e instanceof Date&&!isNaN(e.getTime())},e.makeUTCTime=function(e,t,r="milliseconds"){const n=new Date(o(t,r,"milliseconds"));return n.setUTCFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),n},e.mergeTimeExtents=function(e,t){return e&&t?e.intersection(t):e||t},e.millisecondsPerTimeUnit=i,e.offsetDate=function(e,i,o,a=r.system){const l=new n.IANAZone(t.resolveTimeZone(a)),c=n.DateTime.fromJSDate(e,{zone:l}),u="decades"===o||"centuries"===o?"year":s(o);return"decades"===o&&(i*=10),"centuries"===o&&(i*=100),c.plus({[u]:i}).toJSDate()},e.offsetDateUTC=function(e,t,r="milliseconds"){const n=e.getTime(),i=o(t,r,"milliseconds");return new Date(n+i)},e.resetUTCDate=function(e,t){const r=new Date(e.getTime());return r.setUTCFullYear(t.getFullYear(),t.getMonth(),t.getDate()),r},e.timeSinceUTCMidnight=function(e,t="milliseconds"){const r=o(e.getUTCHours(),"hours","milliseconds"),n=o(e.getUTCMinutes(),"minutes","milliseconds"),i=o(e.getUTCSeconds(),"seconds","milliseconds");return o(r+n+i+e.getUTCMilliseconds(),"milliseconds",t)},e.truncateDate=function(e,i,o=r.system){const a=new n.IANAZone(t.resolveTimeZone(o)),l=n.DateTime.fromJSDate(e,{zone:a});if("decades"===i||"centuries"===i){const e=l.startOf("year"),{year:t}=e,r=t-t%("decades"===i?10:100);return e.set({year:r}).toJSDate()}const c=s(i);return l.startOf(c).toJSDate()},e.truncateLocalTime=function(e){const t=new Date(0);return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),t},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/intl/date":function(){define(["exports","../core/jsonMap","./locale","../time/constants","../time/timeZoneUtils","../chunks/datetime"],(function(e,t,r,n,i,o){"use strict";const s={year:void 0,month:void 0,day:void 0,weekday:void 0},a={hour:void 0,minute:void 0,second:void 0},l={timeZone:n.utc},c={year:"numeric",month:"numeric",day:"numeric"},u={year:"numeric",month:"long",day:"numeric"},d={year:"numeric",month:"short",day:"numeric"},f={year:"numeric",month:"long",weekday:"long",day:"numeric"},h={hour:"numeric",minute:"numeric"},p={...h,second:"numeric"},y={hourCycle:"h23"},m={...h,...y},g={...p,...y},_={"short-date":c,"short-date-short-time":{...c,...h},"short-date-short-time-24":{...c,...m},"short-date-long-time":{...c,...p},"short-date-long-time-24":{...c,...g},"short-date-le":c,"short-date-le-short-time":{...c,...h},"short-date-le-short-time-24":{...c,...m},"short-date-le-long-time":{...c,...p},"short-date-le-long-time-24":{...c,...g},"long-month-day-year":u,"long-month-day-year-short-time":{...u,...h},"long-month-day-year-short-time-24":{...u,...m},"long-month-day-year-long-time":{...u,...p},"long-month-day-year-long-time-24":{...u,...g},"day-short-month-year":d,"day-short-month-year-short-time":{...d,...h},"day-short-month-year-short-time-24":{...d,...m},"day-short-month-year-long-time":{...d,...p},"day-short-month-year-long-time-24":{...d,...g},"long-date":f,"long-date-short-time":{...f,...h},"long-date-short-time-24":{...f,...m},"long-date-long-time":{...f,...p},"long-date-long-time-24":{...f,...g},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":h,"long-time":p},T=t.strict()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"}),S={ar:"ar-u-nu-latn-ca-gregory",nn:"no-NN"},x=new Intl.DateTimeFormat("bs",{month:"long"}).formatToParts(new Date(2025,2)),b=x.find((({type:e})=>"month"===e))?.value.toLowerCase();function E(){const e=r.getLocale(),t=r.getLocaleParts(e)?.language;return(t&&S[t])??e}"mart"!==b&&(S.bs="sr-Latn-CS");let v=new WeakMap;const w=_["short-date-short-time"];function P(e){let t=v.get(e);if(!t){const r=E(),i=M(e.timeZone??n.system),o={...e,timeZone:i};t=new Intl.DateTimeFormat(r,o),v.set(e,t)}return t}function A(e,t=w){return P(t).format(e)}function M(e){switch(e){case n.system:return n.systemTimeZone;case n.unknown:return n.utc;default:return e}}r.beforeLocaleChange((()=>{v=new WeakMap})),e.convertDateFormatToIntlOptions=function(e){return _[e]},e.dateFormatJSONMap=T,e.formatDate=A,e.formatDateOnly=function(e,t=w){return A(new Date(e),{...t,...l,...a})},e.formatTimeOnly=function(e,t=w){return A(new Date(`1970-01-01T${e}Z`),{...t,...l,...s})},e.formatTimestamp=function(e,t=w){if(t.timeZone)return A(new Date(e),t);const r=o.DateTime.fromISO(e,{setZone:!0}),i=0===r.offset?n.utc:t.timeZone,s={...t,timeZone:i};return r.toLocaleString(s,{locale:E()})},e.getDateTimeFormatter=P,e.getShortOffsetTimeZoneSuffix=function(e,t=new Date){return function(e,t){return new Intl.DateTimeFormat(E(),t).formatToParts(e)}(t,{timeZone:e,timeZoneName:i.shortTimeZoneName}).find((({type:e})=>"timeZoneName"===e))?.value},e.resolveTimeZone=M,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/intl/locale":function(){define(["exports","../core/handleUtils","../core/has"],(function(e,t,r){"use strict";let n,i;const o=globalThis.esriConfig?.locale??globalThis.dojoConfig?.locale,s=globalThis.document?.documentElement;function a(){const e=s?.getAttribute("lang"),t=globalThis.navigator?.language;return o??e??t??"en"}function l(){return void 0===i&&(i=a()),i}const c=/^(?<language>[a-z]{2,3})(?:-[a-z]{3})?(?:-[A-Z][a-z]{3})?(?:-(?<region>[A-Z]{2}|\d{3}))?(?:-.*)?$/;function u(e=l()){return c.exec(e)?.groups}const d=[],f=new Map,h=[];function p(){const e=n??a();i!==e&&([...h].forEach((t=>t(e))),i=e,[...d].forEach((t=>t(e))))}globalThis.addEventListener?.("languagechange",p),s&&new MutationObserver((()=>{p()})).observe(s,{attributeFilter:["lang"]}),e.assertNoLocaleChangeListeners=function(){const e=Array.from(f.values())[0];f.clear();const t=d.length;if(0!==t)throw new Error(`Unexpected ${t} locale change listeners still active.${e?` For example:\n${e}`:" Set enableListenerTracing in esri/intl/locale.ts to include a stack trace."}`)},e.beforeLocaleChange=function(e){return h.push(e),t.makeHandle((()=>h.splice(h.indexOf(e),1)))},e.getDefaultLocale=a,e.getLocale=l,e.getLocaleParts=u,e.onLocaleChange=function(e){return d.push(e),t.makeHandle((()=>{d.splice(d.indexOf(e),1)}))},e.prefersRTL=function(e=l()){const t=u(e)?.language;return"he"===t||"ar"===t},e.setLocale=function(e){n=e||void 0,p()},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/time/constants":function(){define(["exports"],(function(e){"use strict";const t=Intl.DateTimeFormat().resolvedOptions().timeZone;e.system="system",e.systemTimeZone=t,e.unknown="unknown",e.utc="UTC",Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/time/timeZoneUtils":function(){define(["exports","./constants","./legacyTimeZoneMap","../chunks/datetime"],(function(e,t,r,n){"use strict";const i="shortOffset";function o(e,r=t.system){return e?function(e){return"timeZoneIANA"in e}(e)?e.timeZoneIANA:a(e,r):r}function s(e){return{timeZoneIANA:e}}function a(e,i=t.system){if(!e||!r.legacyTimeZoneMap.has(e.timeZone))return i;const o=r.legacyTimeZoneMap.get(e.timeZone);return e.timeZone.startsWith("UTC")||e.respectsDaylightSaving?o:function(e){const t=n.DateTime.local().setZone(e),r=Math.min(t.set({month:1,day:1}).offset,t.set({month:5}).offset);return 0===r?"Etc/UTC":`Etc/GMT${n.FixedOffsetZone.instance(-r).formatOffset(0,"narrow")}`}(o)}e.convertLegacyTimeZone=a,e.fromTimeReference=o,e.getTimeZoneFormattingOptions=function(e,r,n,o,s){if(r&&"date"===s)return{timeZone:t.utc,timeZoneName:void 0};const a=o.timeStyle||o.hour,l="timestamp-offset"===s?void 0:e??t.utc,c=n===t.unknown;return{timeZone:c?l:n,timeZoneName:c&&a?i:void 0}},e.isTimeZoneValid=function(e){const r=new Set(["etc/utc","etc/gmt","gmt"]),n=new Set(Intl.supportedValuesOf("timeZone").map((e=>e.toLowerCase())));return e===t.system||e===t.unknown||r.has(e.toLowerCase())||n.has(e.toLowerCase())},e.shortTimeZoneName=i,e.timeZoneProperty=function(e,t=!1){return{json:{read:{source:e,reader:(t,r)=>r[e]?o(r[e]):null},write:!!t&&{allowNull:!0,writer(t,r){r[e]=t?s(t):null}}}}},e.toTimeReference=s,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/time/legacyTimeZoneMap":function(){define(["exports"],(function(e){"use strict";const t=new Map([["AUS Central Standard Time","Australia/Darwin"],["AUS Eastern Standard Time","Australia/Sydney"],["Afghanistan Standard Time","Asia/Kabul"],["Alaskan Standard Time","America/Anchorage"],["Aleutian Standard Time","America/Adak"],["Altai Standard Time","Asia/Barnaul"],["Arab Standard Time","Asia/Riyadh"],["Arabian Standard Time","Asia/Dubai"],["Arabic Standard Time","Asia/Baghdad"],["Argentina Standard Time","America/Buenos_Aires"],["Astrakhan Standard Time","Europe/Astrakhan"],["Atlantic Standard Time","America/Halifax"],["Aus Central W. Standard Time","Australia/Eucla"],["Azerbaijan Standard Time","Asia/Baku"],["Azores Standard Time","Atlantic/Azores"],["Bahia Standard Time","America/Bahia"],["Bangladesh Standard Time","Asia/Dhaka"],["Belarus Standard Time","Europe/Minsk"],["Bougainville Standard Time","Pacific/Bougainville"],["Canada Central Standard Time","America/Regina"],["Cape Verde Standard Time","Atlantic/Cape_Verde"],["Caucasus Standard Time","Asia/Yerevan"],["Cen. Australia Standard Time","Australia/Adelaide"],["Central America Standard Time","America/Guatemala"],["Central Asia Standard Time","Asia/Bishkek"],["Central Brazilian Standard Time","America/Cuiaba"],["Central Europe Standard Time","Europe/Budapest"],["Central European Standard Time","Europe/Warsaw"],["Central Pacific Standard Time","Pacific/Guadalcanal"],["Central Standard Time","America/Chicago"],["Central Standard Time (Mexico)","America/Mexico_City"],["Chatham Islands Standard Time","Pacific/Chatham"],["China Standard Time","Asia/Shanghai"],["Cuba Standard Time","America/Havana"],["Dateline Standard Time","Etc/GMT+12"],["E. Africa Standard Time","Africa/Nairobi"],["E. Australia Standard Time","Australia/Brisbane"],["E. Europe Standard Time","Europe/Chisinau"],["E. South America Standard Time","America/Sao_Paulo"],["Easter Island Standard Time","Pacific/Easter"],["Eastern Standard Time","America/New_York"],["Eastern Standard Time (Mexico)","America/Cancun"],["Egypt Standard Time","Africa/Cairo"],["Ekaterinburg Standard Time","Asia/Yekaterinburg"],["FLE Standard Time","Europe/Kiev"],["Fiji Standard Time","Pacific/Fiji"],["GMT Standard Time","Europe/London"],["GTB Standard Time","Europe/Bucharest"],["Georgian Standard Time","Asia/Tbilisi"],["Greenland Standard Time","America/Godthab"],["Greenwich Standard Time","Atlantic/Reykjavik"],["Haiti Standard Time","America/Port-au-Prince"],["Hawaiian Standard Time","Pacific/Honolulu"],["India Standard Time","Asia/Calcutta"],["Iran Standard Time","Asia/Tehran"],["Israel Standard Time","Asia/Jerusalem"],["Jordan Standard Time","Asia/Amman"],["Kaliningrad Standard Time","Europe/Kaliningrad"],["Korea Standard Time","Asia/Seoul"],["Libya Standard Time","Africa/Tripoli"],["Line Islands Standard Time","Pacific/Kiritimati"],["Lord Howe Standard Time","Australia/Lord_Howe"],["Magadan Standard Time","Asia/Magadan"],["Magallanes Standard Time","America/Punta_Arenas"],["Marquesas Standard Time","Pacific/Marquesas"],["Mauritius Standard Time","Indian/Mauritius"],["Middle East Standard Time","Asia/Beirut"],["Montevideo Standard Time","America/Montevideo"],["Morocco Standard Time","Africa/Casablanca"],["Mountain Standard Time","America/Denver"],["Mountain Standard Time (Mexico)","America/Mazatlan"],["Myanmar Standard Time","Asia/Rangoon"],["N. Central Asia Standard Time","Asia/Novosibirsk"],["Namibia Standard Time","Africa/Windhoek"],["Nepal Standard Time","Asia/Katmandu"],["New Zealand Standard Time","Pacific/Auckland"],["Newfoundland Standard Time","America/St_Johns"],["Norfolk Standard Time","Pacific/Norfolk"],["North Asia East Standard Time","Asia/Irkutsk"],["North Asia Standard Time","Asia/Krasnoyarsk"],["North Korea Standard Time","Asia/Pyongyang"],["Omsk Standard Time","Asia/Omsk"],["Pacific SA Standard Time","America/Santiago"],["Pacific Standard Time","America/Los_Angeles"],["Pacific Standard Time (Mexico)","America/Tijuana"],["Pakistan Standard Time","Asia/Karachi"],["Paraguay Standard Time","America/Asuncion"],["Qyzylorda Standard Time","Asia/Qyzylorda"],["Romance Standard Time","Europe/Paris"],["Russia Time Zone 10","Asia/Srednekolymsk"],["Russia Time Zone 11","Asia/Kamchatka"],["Russia Time Zone 3","Europe/Samara"],["Russian Standard Time","Europe/Moscow"],["SA Eastern Standard Time","America/Cayenne"],["SA Pacific Standard Time","America/Bogota"],["SA Western Standard Time","America/La_Paz"],["SE Asia Standard Time","Asia/Bangkok"],["Saint Pierre Standard Time","America/Miquelon"],["Sakhalin Standard Time","Asia/Sakhalin"],["Samoa Standard Time","Pacific/Apia"],["Sao Tome Standard Time","Africa/Sao_Tome"],["Saratov Standard Time","Europe/Saratov"],["Singapore Standard Time","Asia/Singapore"],["South Africa Standard Time","Africa/Johannesburg"],["South Sudan Standard Time","Africa/Juba"],["Sri Lanka Standard Time","Asia/Colombo"],["Sudan Standard Time","Africa/Khartoum"],["Syria Standard Time","Asia/Damascus"],["Taipei Standard Time","Asia/Taipei"],["Tasmania Standard Time","Australia/Hobart"],["Tocantins Standard Time","America/Araguaina"],["Tokyo Standard Time","Asia/Tokyo"],["Tomsk Standard Time","Asia/Tomsk"],["Tonga Standard Time","Pacific/Tongatapu"],["Transbaikal Standard Time","Asia/Chita"],["Turkey Standard Time","Europe/Istanbul"],["Turks And Caicos Standard Time","America/Grand_Turk"],["US Eastern Standard Time","America/Indianapolis"],["US Mountain Standard Time","America/Phoenix"],["UTC","Etc/GMT"],["UTC+01","Etc/GMT-1"],["UTC+02","Etc/GMT-2"],["UTC+03","Etc/GMT-3"],["UTC+04","Etc/GMT-4"],["UTC+05","Etc/GMT-5"],["UTC+06","Etc/GMT-6"],["UTC+07","Etc/GMT-7"],["UTC+08","Etc/GMT-8"],["UTC+09","Etc/GMT-9"],["UTC+10","Etc/GMT-10"],["UTC+11","Etc/GMT-11"],["UTC+12","Etc/GMT-12"],["UTC+13","Etc/GMT-13"],["UTC+14","Etc/GMT-14"],["UTC-01","Etc/GMT+1"],["UTC-02","Etc/GMT+2"],["UTC-03","Etc/GMT+3"],["UTC-04","Etc/GMT+4"],["UTC-05","Etc/GMT+5"],["UTC-06","Etc/GMT+6"],["UTC-07","Etc/GMT+7"],["UTC-08","Etc/GMT+8"],["UTC-09","Etc/GMT+9"],["UTC-10","Etc/GMT+10"],["UTC-11","Etc/GMT+11"],["UTC-12","Etc/GMT+12"],["Ulaanbaatar Standard Time","Asia/Ulaanbaatar"],["Venezuela Standard Time","America/Caracas"],["Vladivostok Standard Time","Asia/Vladivostok"],["Volgograd Standard Time","Europe/Volgograd"],["W. Australia Standard Time","Australia/Perth"],["W. Central Africa Standard Time","Africa/Lagos"],["W. Europe Standard Time","Europe/Berlin"],["W. Mongolia Standard Time","Asia/Hovd"],["West Asia Standard Time","Asia/Tashkent"],["West Bank Standard Time","Asia/Hebron"],["West Pacific Standard Time","Pacific/Port_Moresby"],["Yakutsk Standard Time","Asia/Yakutsk"],["Yukon Standard Time","America/Whitehorse"]]);e.legacyTimeZoneMap=t,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"*noref":1}}),require.boot&&require.apply(null,require.boot);