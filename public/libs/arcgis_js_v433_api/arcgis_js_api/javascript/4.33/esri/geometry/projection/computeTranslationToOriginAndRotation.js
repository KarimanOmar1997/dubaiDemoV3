// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.33/esri/copyright.txt for details.
//>>built
define(["exports","../../core/mathUtils","../../core/libs/gl-matrix-2/math/mat4","../../core/libs/gl-matrix-2/factories/vec3f64","./localRotationUtils","./projectors","../support/spatialReferenceUtils"],(function(o,t,e,n,r,i,c){"use strict";function a(o){return o===i.ProjectionID.SPHERICAL_ECEF||o===i.ProjectionID.SPHERICAL_MARS_PCPF||o===i.ProjectionID.SPHERICAL_MOON_PCPF||o===i.ProjectionID.WGS84_ECEF}const l=t.deg2rad(1),P=n.create(),s=n.create();o.computeTranslationToOriginAndRotation=function(o,t,n,j){const u=i.getProjectorClassification(o,j);if(null==u)return!1;const I=u.source.spatialReferenceId,C=u.dest.spatialReferenceId;if(I===C&&!a(C)&&(I!==i.ProjectionID.UNKNOWN||c.equals(o,j)))return e.fromTranslation(n,t),!0;if(a(C)){const o=i.projectionTable[I][i.ProjectionID.LON_LAT],e=i.projectionTable[i.ProjectionID.LON_LAT][C];return null!=o&&null!=e&&(o(t,0,P,0),e(P,0,s,0),r.computeENUToPCPFLocalRotation(l*P[0],l*P[1],n),n[12]=s[0],n[13]=s[1],n[14]=s[2],!0)}const R=a(I);if((C===i.ProjectionID.WEB_MERCATOR||C===i.ProjectionID.PLATE_CARREE||C===i.ProjectionID.WGS84||C===i.ProjectionID.CGCS2000)&&(I===i.ProjectionID.WGS84||R||I===i.ProjectionID.WEB_MERCATOR||I===i.ProjectionID.CGCS2000)){const o=i.projectionTable[I][i.ProjectionID.LON_LAT],c=i.projectionTable[i.ProjectionID.LON_LAT][C];return null!=o&&null!=c&&(o(t,0,P,0),c(P,0,s,0),R?r.computePCPFToENULocalRotation(l*P[0],l*P[1],n):e.identity(n),n[12]=s[0],n[13]=s[1],n[14]=s[2],!0)}return!1},Object.defineProperty(o,Symbol.toStringTag,{value:"Module"})}));