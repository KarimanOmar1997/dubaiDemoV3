// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.33/esri/copyright.txt for details.
//>>built
define(["exports"],(function(t){"use strict";var e;!function(t){t[t.JSON=1313821514]="JSON",t[t.BIN=5130562]="BIN"}(e||(e={}));class i{static{this.HEADER_SIZE=12}static{this.CHUNK_HEADER_SIZE=8}static{this.MAGIC=1179937895}static{this.VERSION=2}constructor(t,h){if(!t)throw new Error("GLB requires a JSON gltf chunk");this._length=i.HEADER_SIZE,this._length+=i.CHUNK_HEADER_SIZE;const s=function(t){return(new TextEncoder).encode(t).buffer}(t);if(this._length+=n(s.byteLength,4),h&&(this._length+=i.CHUNK_HEADER_SIZE,this._length+=h.byteLength,h.byteLength%4))throw new Error("Expected BIN chunk length to be divisible by 4 at this point");this.buffer=new ArrayBuffer(this._length),this._outView=new DataView(this.buffer),this._writeHeader();const r=this._writeChunk(s,12,e.JSON,32);h&&this._writeChunk(h,r,e.BIN)}_writeHeader(){this._outView.setUint32(0,i.MAGIC,!0),this._outView.setUint32(4,i.VERSION,!0),this._outView.setUint32(8,this._length,!0)}_writeChunk(t,e,i,h=0){const s=n(t.byteLength,4);var r,o,u,_;for(this._outView.setUint32(e,s,!0),this._outView.setUint32(e+=4,i,!0),r=this._outView.buffer,o=t,u=e+=4,_=t.byteLength,new Uint8Array(r,u,_).set(new Uint8Array(o,0,_),0),e+=t.byteLength;e%4;)h&&this._outView.setUint8(e,h),e++;return e}}function n(t,e){return e*Math.ceil(t/e)}t.GLB=i,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}));