// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.33/esri/copyright.txt for details.
//>>built
define(["exports","../../core/accessorSupport/PropertyOrigin"],(function(r,e){"use strict";function i(r,e){if(!r?.length||null==e)return!0;const i=e.slice().reverse().flatten((({sublayers:r})=>r&&r.toArray().reverse())).map((r=>r.id)).toArray();if(r.length>i.length)return!1;let n=0;const o=i.length;for(const{id:e}of r){for(;n<o&&i[n]!==e;)n++;if(n>=o)return!1}return!0}r.isExportDynamic=function(r,n,o){return!!r.some((r=>{const i=r.source,n=!i||"map-layer"===i.type&&i.mapLayerId===r.id&&(null==i.gdbVersion||i.gdbVersion===o);r.commitProperty("renderer"),r.commitProperty("labelingInfo"),r.commitProperty("opacity"),r.commitProperty("labelsVisible"),r.commitProperty("orderBy");const t=r.layer?.capabilities?.exportMap?.supportsSublayerOrderBy??!1;return!n||r.originIdOf("renderer")>e.OriginId.SERVICE||r.originIdOf("labelingInfo")>e.OriginId.SERVICE||r.originIdOf("opacity")>e.OriginId.SERVICE||r.originIdOf("labelsVisible")>e.OriginId.SERVICE||t&&r.originIdOf("orderBy")>e.OriginId.SERVICE}))||!i(r,n)},r.isSublayerOverhaul=function(r){return!!r&&r.some((r=>null!=r.minScale||null!=r.layerDefinition?.minScale))},r.shouldWriteSublayerStructure=function(r,e,n){return e.flatten((({sublayers:r})=>r)).length!==r.length||!!r.some((r=>r.originIdOf("minScale")>n||r.originIdOf("maxScale")>n||r.originIdOf("renderer")>n||r.originIdOf("labelingInfo")>n||r.originIdOf("opacity")>n||r.originIdOf("labelsVisible")>n||r.originIdOf("source")>n))||!i(r,e)},Object.defineProperty(r,Symbol.toStringTag,{value:"Module"})}));