// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.33/esri/copyright.txt for details.
//>>built
define(["exports","../../../core/Error","../../../geometry/Multipoint","../../../geometry/Point","../../../geometry/Polygon","../../../geometry/Polyline","./KnowledgeWasmInterface"],(function(e,t,o,s,n,r,a){"use strict";function l(e,o){const s={paths:[],hasM:!1,hasZ:!1},n=h(e,s),{coords:r,geometry_type:a,lengths:l}=e;if(a.value!==o)throw new t("KnowledgeGraph:illegal-geometry-type","Illegal Geometry type for multipath conversion");let i=0;return l.forEach((e=>{const t=[];for(let o=0;o<e;o++){const e=[];for(let t=0;t<n;t++)e[t]=r[i],i++;t.push(e)}s.paths.push(t)})),s}function h(e,t){let o=2;return e.has_z?(t.hasZ=e.has_z,o++):t.hasZ=!1,e.has_m?(t.hasM=e.has_m,o++):t.hasM=!1,o}e.wasmToMultipointGeometry=function(e,t){const s={spatialReference:t},n=h(e,s),r=e.lengths,a=e.coords,l=r[0];s.points=[];let i=0;for(let e=0;e<l;e++){const e=[];for(let t=0;t<n;t++)e[t]=a[i],i++;s.points.push(e)}return new o(s)},e.wasmToPointGeometry=function(e,t){const o={spatialReference:t};let n=2;h(e,o);const r=e.coords;return o.x=r[0],o.y=r[1],e.has_z&&(o.z=r[n],n++),e.has_m&&(o.m=r[n]),new s(o)},e.wasmToPolygonGeometry=function(e,t){const{paths:o,hasM:s,hasZ:r}=l(e,a.WasmGeometryTypeCodes.ESRI_GEOMETRY_POLYGON);return new n({rings:o,hasM:s,hasZ:r,spatialReference:t})},e.wasmToPolylineGeometry=function(e,t){const{paths:o,hasM:s,hasZ:n}=l(e,a.WasmGeometryTypeCodes.ESRI_GEOMETRY_POLYLINE);return new r({paths:o,hasM:s,hasZ:n,spatialReference:t})},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));