// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.33/esri/copyright.txt for details.
//>>built
define(["exports","../../geometry/GeometryCursor","../../geometry/support/TileClipper"],(function(e,t,r){"use strict";let o;e.SimpleEffectCursor=class{constructor(e){this._geometry=e}next(){const e=this._geometry;return this._geometry=null,e}},e.clipCursorToTileExtent=function(e,n,i){if(!e)return null;o||(o=new r.TileClipper(0,0,0,1));const s=i?-1:1,l="esriGeometryPolygon"===e.geometryType,y=l?r.GeometryType.Polygon:r.GeometryType.LineString,u=l?3:2;let p,c;for(o.reset(y),o.setPixelMargin(n+1),o.setExtent(512);e.nextPath();)if(!(e.pathSize<u)){for(e.nextPoint(),p=e.x,c=s*e.y,o.moveTo(p,c);e.nextPoint();)p=e.x,c=s*e.y,o.lineTo(p,c);l&&o.close()}const m=o.result(!1);if(m){const r=t.GeometryCursor.createEmptyOptimizedCIM(e.geometryType);for(const e of m){r.startPath();for(const t of e)r.pushXY(t.x,s*t.y)}return r.reset(),r}return null},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));