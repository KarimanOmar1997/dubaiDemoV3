// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.33/esri/copyright.txt for details.
//>>built
define(["exports","../../core/lang","./SDFHelper","./effects/CIMEffectHelper"],(function(e,t,r,a){"use strict";e.fitVectorMarker=function(e,m){if(!e.frame)return e;const{markerGraphics:f}=e;if(!f||0===f.length)return e;let n=0,o=0,i=0,c=0;for(const e of f){const{geometry:t,symbol:f}=e;if(!t||!f||!("symbolLayers"in f))continue;const{symbolLayers:s}=f;if(s)for(const e of s){const{effects:f}=e,s=a.CIMEffectHelper.applyEffects(f,t,m),x=r.getExtent(s);x&&(n=Math.min(n,x[0]),o=Math.min(o,x[1]),i=Math.max(i,x[2]),c=Math.max(c,x[3]))}}const{xmin:s,ymin:x,xmax:y,ymax:l}=e.frame,M=(y-s)/2,u=(l-x)/2,h=(y+s)/2,p=(l+x)/2;if(M<=0||u<=0)return e;const g=(h-n)/M,b=(i-h)/M,E=(p-o)/u,d=(c-p)/u,H=Math.max(Math.max(g,b),Math.max(E,d));return H<=1.01?e:(e=t.clone(e)).frame?(e.frame.xmin=(e.frame.xmin-h)*H+h,e.frame.ymin=(e.frame.ymin-p)*H+p,e.frame.xmax=(e.frame.xmax-h)*H+h,e.frame.ymax=(e.frame.ymax-p)*H+p,!1!==e.respectFrame&&(e.size*=H),e):e},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));