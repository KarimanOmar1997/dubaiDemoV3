// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.33/esri/copyright.txt for details.
//>>built
define(["exports","../../request","../../core/screenUtils","./previewUtils","./webStyleAcceptedFormats"],(function(e,t,i,n,a){"use strict";e.previewWebStyleSymbol=async function(e,s,l){const o=e.thumbnail?.url;if(o){const e=function(e,t){const a=!/\\.svg$/i.test(e.src)&&t?.disableUpsampling,s=Math.max(e.width,e.height);let l=null!=t?.maxSize?i.pt2px(t.maxSize):n.SymbolSizeDefaults.maxSize;a&&(l=Math.min(s,l));const o="number"==typeof t?.size?t?.size:null,r=Math.min(l,null!=o?i.pt2px(o):s);if(r!==s){const t=0!==e.width&&0!==e.height?e.width/e.height:1;t>=1?(e.width=r,e.height=r/t):(e.width=r*t,e.height=r)}return e}((await t(o,{responseType:"image"})).data,l);return l?.node?(l.node.appendChild(e),l.node):e}const r=await e.fetchSymbol({acceptedFormats:a.defaultAcceptedFormats});return r?s(r,l):null},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));