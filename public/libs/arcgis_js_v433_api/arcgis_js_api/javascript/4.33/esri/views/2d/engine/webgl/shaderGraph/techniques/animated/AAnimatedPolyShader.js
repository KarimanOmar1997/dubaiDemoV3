// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.33/esri/copyright.txt for details.
//>>built
define(["exports","../../../../../../../chunks/tslib.es6","../../GraphShaderModule","../../graph/glsl","./AAnimatedShader","./enums","../markers/markerConstants","../shaders/utils","../shaders/vvUtils"],(function(e,t,o,a,i,l,n,r,s){"use strict";class c extends i.AAnimatedVertexInput{}t.__decorate([o.location(9,a.Vec4)],c.prototype,"tlbr",void 0);class d extends o.ComputeVertexInput{}t.__decorate([o.location(13,a.Vec2)],d.prototype,"nextPos1",void 0),t.__decorate([o.location(14,a.Vec2)],d.prototype,"nextPos2",void 0);class m extends i.AAnimatedFragmentInput{}class u extends i.AAnimatedShader{_fragmentPoly(e){const t=a.mod(e.uv,new a.Float(1)),o=a.mix(e.tlbr.xy,e.tlbr.zw,t);return this._getColor(o,{color:e.color,distanceToPx:e.distanceToPx,isSDF:e.isSDF,outlineColor:e.outlineColor,outlineSize:e.strokeWidth})}_vertexPoly(e){const{position:t,animationPointer:o,evalParams:c,isOutline:d,unscaledDistanceToPx:m,vvScale:u,strokeWidth:p,scaleSymbolsProportionally:x,scale:y,isSDF:P,baseSize:g,clip:h}=this._vertexPreamble(e,new a.Float(0),e.lineLength||new a.Float(0)),V=this._toNdc(t);let b=i.getValue(o,l.AnimationParamIndex.fromColor,c);b=new a.Vec4(b.rgb.multiply(b.a),b.a);let S=i.getValue(o,l.AnimationParamIndex.toColor,c);S=new a.Vec4(S.rgb.multiply(S.a),S.a);let v=i.getValue(o,l.AnimationParamIndex.colorMix,c);v=new a.Vec4(v.rgb.multiply(v.a),v.a);const A=i.getValue(o,l.AnimationParamIndex.toOpacity,c).a,I=i.getValue(o,l.AnimationParamIndex.opacityMix,c).a,_=s.getVisualVariableColor(this,e.id,b,a.or(r.getBitBool(e.bitset,n.MarkerConstants.bitset.colorLocked),new a.Bool(d))),C=a.mix(_,S,v),F=s.getVisualVariableOpacity(this,e.id),k=a.mix(F,A,I),w=C.multiply(k),z=this.clip(e.id,e.zoomRange).add(h.multiply(2)),D=m.multiply(u);return{unscaledDistanceToPx:m,vvScale:u,strokeWidth:p,scaleSymbolsProportionally:x,scale:y,isSDF:P,baseSize:g,ndc:V,color:w,z,isOutline:d,evalParams:c,distanceToPx:D}}}e.AAnimatedPolyShader=u,e.PolyFragmentInput=m,e.PolyHittestVertexInput=d,e.PolyVertexInput=c,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));