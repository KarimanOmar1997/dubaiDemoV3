// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.33/esri/copyright.txt for details.
//>>built
define(["exports","../../../enums","../FeatureTechnique","../featureTechniqueUtils","../TechniqueType","./PieChartShader"],(function(e,t,i,s,r,a){"use strict";class n extends i.FeatureTechnique{constructor(){super(...arguments),this.type=r.TechniqueType.PieChart,this.shaders={geometry:new a.PieChartShader},this.symbologyPlane=t.FeatureSymbologyDrawOrder.MARKER}render(e,t){const{painter:i}=e,{instance:r,target:a}=t,n=this.shaders.geometry,h=r.getInput(),u=h.uniforms.numberOfFields,o=s.isHittest(e),l=s.getFeatureUniforms(e,a),S=s.getSelectionDefines(e);n.setNumberOfFields(u),i.setShader({shader:n,uniforms:{...s.resolveDynamicUniforms(e,t.target,h.uniforms.shader),...l.storage,...l.view,...l.highlight,highlightUniforms:l.highlight,hittestUniforms:l.hittestRequest?{hittestDist:l.hittestRequest?.distance,hittestPos:l.hittestRequest?.position}:null},defines:{VV_SIZE_MIN_MAX_VALUE:!!h.uniforms.shader.visualVariableSizeMinMaxValue,VV_SIZE_SCALE_STOPS:!!h.uniforms.shader.visualVariableSizeScaleStops,VV_SIZE_FIELD_STOPS:!!h.uniforms.shader.visualVariableSizeStops,VV_SIZE_UNIT_VALUE:!!h.uniforms.shader.visualVariableSizeUnitValue,VV_OPACITY:!!h.uniforms.shader.visualVariableOpacity,HITTEST:o,highlight:l.highlight?1:0,...S,numberOfFields:u},optionalAttributes:{},useComputeBuffer:o}),i.setPipelineState(s.getFeaturePipelineState(e)),i.submitDraw(e,t)}}e.PieChartTechnique=n,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));