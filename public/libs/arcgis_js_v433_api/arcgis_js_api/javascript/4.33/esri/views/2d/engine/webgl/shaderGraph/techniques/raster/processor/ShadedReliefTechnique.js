// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.33/esri/copyright.txt for details.
//>>built
define(["exports","../../TechniqueType","./BaseRasterProcessorTechnique","../../shaders/raster/surface","../../shaders/raster/processor/ShadedReliefShader"],(function(e,s,r,t,a){"use strict";class o extends r.BaseRasterProcessorTechnique{constructor(){super(...arguments),this.name="RasterShadedReliefProcessor",this.type=s.RasterTechniqueType.ShadedRelief,this.shaders={shadedRelief:new a.ShadedReliefShader}}_process(e,s,r){const a=e.rasterFunction.parameters,o={isMultidirectional:a.hillshadeType>0},i=s.getRasterCellSize(),d=t.computeZFactor(a,i),n={...a,factor:d},h={colormapTexture:{texture:r,unit:1},colormapOffset:a.offset,colormapMaxIndex:a.indexedColormap.length/4-1},c=this._getCommonConfig(e,s),l={shader:this.shaders.shadedRelief,uniforms:{config:c,hillshadeConfig:n,colormapConfig:h},defines:o,optionalAttributes:null,useComputeBuffer:!1},{painter:u,context:f}=e;u.submitDrawMesh(f,l,u.quadMesh)}}e.ShadedReliefTechnique=o,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));