// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.33/esri/copyright.txt for details.
//>>built
define(["exports","../../../enums","../FeatureTechnique","../featureTechniqueUtils","../TechniqueType","./TextShader"],(function(e,t,s,r,a,i){"use strict";class n extends s.FeatureTechnique{constructor(){super(...arguments),this.type=a.TechniqueType.Text,this.shaders={geometry:new i.TextShader},this.symbologyPlane=t.FeatureSymbologyDrawOrder.TEXT}render(e,t){const{context:s,painter:a}=e,n=r.getSelectionDefines(e),o=t.instance.getInput(),u={shader:this.shaders.geometry,uniforms:{...r.resolveDynamicUniforms(e,t.target,o.uniforms),...r.getFeatureUniforms(e,t.target),mosaicInfo:a.textureManager.getMosaicInfo(s,t.textureKey)},defines:{...n,isBackgroundPass:!0,isLabel:!1,textRenderPassType:i.TextRenderPassType.Color},optionalAttributes:o.optionalAttributes,useComputeBuffer:r.isHittest(e)};a.setShader(u),a.setPipelineState(r.getFeaturePipelineState(e)),a.submitDraw(e,t),a.setShader({...u,defines:{...n,isBackgroundPass:!1,isLabel:!1,textRenderPassType:i.TextRenderPassType.Halo}}),a.submitDraw(e,t),a.setShader({...u,defines:{...n,isBackgroundPass:!1,isLabel:!1,textRenderPassType:i.TextRenderPassType.Outline}}),a.submitDraw(e,t),a.setShader({...u,defines:{...n,isBackgroundPass:!1,isLabel:!1,textRenderPassType:i.TextRenderPassType.Color}}),a.submitDraw(e,t)}}e.TextTechnique=n,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));