// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.33/esri/copyright.txt for details.
//>>built
define(["exports","../../../../core/mathUtils","../../../../renderers/support/lengthUtils","../../../../renderers/visualVariables/support/sizeVariableUtils"],(function(e,n,t,r){"use strict";const a=Math.PI;function i(e,i){switch(i.transformationType){case r.TransformationType.Additive:return function(e,n){return e+(o(n.minSize,e)||n.minDataValue)}(e,i);case r.TransformationType.Constant:return function(e,n){const t=e.stops;let r=t?.length&&t[0].size;return null==r&&(r=e.minSize),o(r,n)}(i,e);case r.TransformationType.ClampedLinear:return function(e,n){const t=n.minDataValue,r=n.maxDataValue,a=(e-t)/(r-t),i=o(n.minSize,e),s=o(n.maxSize,e);return e<=t?i:e>=r?s:i+a*(s-i)}(e,i);case r.TransformationType.Proportional:return function(e,t){const r=e/t.minDataValue,a=o(t.minSize,e),i=o(t.maxSize,e);let s=null;return s=r*a,n.clamp(s,a,i)}(e,i);case r.TransformationType.Stops:return function(e,n){const[t,r,a]=function(e,n){if(!n)return;let t=0,r=n.length-1;return n.some(((n,a)=>e<n?(r=a,!0):(t=a,!1))),[t,r,(e-n[t])/(n[r]-n[t])]}(e,n.cache.ipData);if(t===r)return o(n.stops[t].size,e);{const i=o(n.stops[t].size,e);return i+(o(n.stops[r].size,e)-i)*a}}(e,i);case r.TransformationType.RealWorldSize:return function(e,r){const i=t.meterIn[r.valueUnit],s=o(r.minSize,e),u=o(r.maxSize,e),{valueRepresentation:l}=r;let c=null;return c="area"===l?2*Math.sqrt(e/a)/i:"radius"===l||"distance"===l?2*e/i:e/i,n.clamp(c,s,u)}(e,i);case r.TransformationType.Identity:return e;case r.TransformationType.Unknown:return null}}function o(e,n){return"number"==typeof e?e:i(n,e)}e.getSizeForValueSimple=i,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));