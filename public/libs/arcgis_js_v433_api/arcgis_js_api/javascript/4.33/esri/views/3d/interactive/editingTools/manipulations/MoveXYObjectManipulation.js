// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.33/esri/copyright.txt for details.
//>>built
define(["exports","../../../../../core/handleUtils","../dragEventPipeline3D","../ManipulatorType","./Manipulation","./moveUtils","../../../../interactive/dragEventPipeline"],(function(t,e,a,i,n,o,r){"use strict";class l extends n.Manipulation{constructor(t){super(),this._view=t.view,this._tool=t.tool,this._object=t.object,this._manipulator=this._object.createManipulator?.({selectable:!0,cursor:"move"}),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}destroy(){this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._tool=null,this._view=null,this._manipulator=null}forEachManipulator(t){this._manipulator&&t(this._manipulator,i.ManipulatorType.TRANSLATE_XY)}createManipulatedObjectDragPipeline(t){return o.createManipulatedMoveDragPipeline(this._object,t,(t=>this.createDragPipeline(t)))}createDragPipeline(t){if(!this._manipulator)return e.makeHandle();const i=this._view;return r.createManipulatorDragEventPipeline(this._manipulator,((e,n,o,l,s)=>{const p=this._object.operations?.data.spatialReference,u=n.next((t=>p?t:null)).next(a.screenToMapXYForManipulatedObject(s,i,this._object,p)).next(r.addMapDelta()).next(r.addScreenDelta());t(e,u,o,l,s)}))}}t.MoveXYObjectManipulation=l,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}));