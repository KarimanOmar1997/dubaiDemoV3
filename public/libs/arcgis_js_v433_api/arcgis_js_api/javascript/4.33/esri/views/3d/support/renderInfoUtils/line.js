// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.33/esri/copyright.txt for details.
//>>built
define(["exports","../../../../geometry/projection/projectBuffer","../../../../geometry/support/DoubleArray","../../../../geometry/support/triangulationUtils","../../layers/graphics/elevationAlignmentUtils","../../terrain/OverlayRenderer"],(function(e,o,n,t,r,i){"use strict";function l(e,o,t=null){const r=new Array;for(const{index:i,count:l}of e){if(l<=1)continue;const e=3*i,s=3*l;r.push({position:n.doubleSubArray(o,3*i,3*l),mapPositions:null!=t?n.doubleSubArray(t,e,s):void 0})}return r}e.geometryToRenderInfo=function(e,o,i,s){const u="polygon"===e.type?t.CounterClockwiseMode.CCW_IS_HOLE:t.CounterClockwiseMode.NONE,p="polygon"===e.type?e.rings:e.paths,{position:a,outlines:c}=t.ringsToTriangulationInfo(p,!!e.hasZ,u,e.spatialReference),g=n.newDoubleArray(a.length),y=r.applyPerVertexElevationAlignment(a,e.spatialReference,0,g,0,a,0,a.length/3,o,i,s),f=null!=y;return{lines:f?l(c,a,g):[],projectionSuccess:f,sampledElevation:y}},e.geometryToRenderInfoDraped=function(e,n){const r="polygon"===e.type?t.CounterClockwiseMode.CCW_IS_HOLE:t.CounterClockwiseMode.NONE,s="polygon"===e.type?e.rings:e.paths,{position:u,outlines:p}=t.ringsToTriangulationInfo(s,!1,r),a=o.projectBuffer(u,e.spatialReference,0,u,n,0);for(let e=2;e<u.length;e+=3)u[e]=i.drapedZ;return{lines:a?l(p,u):[],projectionSuccess:a}},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));