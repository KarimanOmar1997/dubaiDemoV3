// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.33/esri/copyright.txt for details.
//>>built
define(["exports","../../../../../chunks/Compositing.glsl","../../shaders/CompositingTechnique","../../shaders/CompositingTechniqueConfiguration","../../../../webgl/enums"],(function(e,i,t,n,s){"use strict";e.Blit=class{constructor(e,s=n.BlitMode.None){this._techniques=e,this._parameters=new i.CompositingPassParameters,this._configuration=new n.CompositingTechniqueConfiguration,this._configuration.blitMode=s,e.precompile(t.CompositingTechnique,this._configuration)}blit(e,i,n,o){e.bindFramebuffer(n.fbo),e.setClearColor(0,0,0,1),e.clear(s.FramebufferBit.COLOR),this._parameters.texture=i.getTexture();const r=this._techniques.get(t.CompositingTechnique,this._configuration);e.bindTechnique(r,o,this._parameters),e.screen.draw()}blend(e,i,n,s,o=1){this._configuration.hasOpacityFactor=o<1;const r=this._techniques.get(t.CompositingTechnique,this._configuration);return!!r.compiled&&(e.bindFramebuffer(n.fbo),this._parameters.texture=i.getTexture(),this._parameters.opacity=o,e.bindTechnique(r,s,this._parameters),e.screen.draw(),!0)}},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));