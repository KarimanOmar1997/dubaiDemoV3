// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.33/esri/copyright.txt for details.
//>>built
define(["exports","../../../../core/libs/gl-matrix-2/math/mat4","../../../../core/libs/gl-matrix-2/factories/mat4f64","../../../../chunks/vec32","../../../../core/libs/gl-matrix-2/factories/vec3f64","../../../../chunks/vec42","../../../../core/libs/gl-matrix-2/factories/vec4f64","../../../../geometry/support/ray","./IntersectorType"],(function(t,r,e,i,s,n,a,o,c){"use strict";function h(t){return null!=t?.distance}const d=s.create(),l=a.create();t.IntersectorResult=class{get ray(){return this._ray}get distanceInRenderSpace(){return null==this.distance?null:(i.scale(d,this.ray.direction,this.distance),i.length(d))}withinDistance(t){return!!h(this)&&this.distanceInRenderSpace<=t}getIntersectionPoint(t){return!!h(this)&&(i.scale(d,this.ray.direction,this.distance),i.add(t,this.ray.origin,d),!0)}getTransformedNormal(t){return i.copy(l,this.normal),l[3]=0,n.transformMat4(l,l,this.transformation),i.copy(t,l),i.normalize(t,t)}constructor(t){this.intersector=c.IntersectorType.OBJECT,this.normal=s.create(),this.transformation=e.create(),this._ray=o.create(),this.init(t)}init(t){this.distance=this.target=this.drapedLayerOrder=this.renderPriority=null,this.intersector=c.IntersectorType.OBJECT,o.copy(t,this._ray)}set(t,n,a,o,c,h,d){this.intersector=t,this.distance=a,i.copy(this.normal,o??s.UNIT_Z),r.copy(this.transformation,c??e.IDENTITY),this.target=n,this.drapedLayerOrder=h,this.renderPriority=d}copy(t){o.copy(t.ray,this._ray),this.intersector=t.intersector,this.distance=t.distance,this.target=t.target,this.drapedLayerOrder=t.drapedLayerOrder,this.renderPriority=t.renderPriority,i.copy(this.normal,t.normal),r.copy(this.transformation,t.transformation)}},t.isValidIntersectorResult=h,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}));