// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.33/esri/copyright.txt for details.
//>>built
define(["exports","../core/shaderLibrary/ShaderOutput","./OITPass","../../../webgl/enums","../../../webgl/renderState"],(function(t,e,n,r,o){"use strict";const s=o.separateBlendingParams(r.BlendFactor.ONE,r.BlendFactor.ZERO,r.BlendFactor.ONE,r.BlendFactor.ONE_MINUS_SRC_ALPHA),a={factor:-1,units:-2};t.OITPolygonOffset=a,t.OITPolygonOffsetLimit=5e5,t.blending=function(t){switch(t){case n.OITPass.NONE:return o.unpremultipliedAlphaToPremultipliedAlpha;case n.OITPass.ColorAlpha:return s;case n.OITPass.FrontFace:case n.OITPass.COUNT:return null}},t.blendingColorAlpha=s,t.depthWrite=function(t){if(t.draped)return null;switch(t.oitPass){case n.OITPass.NONE:case n.OITPass.FrontFace:return t.writeDepth?o.defaultDepthWrite:null;case n.OITPass.ColorAlpha:case n.OITPass.COUNT:return null}},t.getDrawBuffers=function(t,o){const s=e.isColorEmission(o);return t===n.OITPass.ColorAlpha?s?{buffers:[r.ColorAttachment0,r.ColorAttachment1,r.ColorAttachment2]}:{buffers:[r.ColorAttachment0,r.ColorAttachment1]}:s?{buffers:[r.ColorAttachment0,r.ColorAttachment1]}:null},t.oitBlending=function(t){return t===n.OITPass.FrontFace?null:s},t.oitDepthTest=function(t,e=r.CompareFunction.LESS){return t===n.OITPass.NONE||t===n.OITPass.FrontFace?e:r.CompareFunction.LEQUAL},t.oitPolygonOffset=function({oitPass:t,enableOffset:e}){return e&&t===n.OITPass.ColorAlpha?a:null},Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}));