// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.33/esri/copyright.txt for details.
//>>built
require({cache:{"esri/views/3d/support/buffer/workerHelper":function(){define(["exports","./InterleavedLayout"],(function(e,t){"use strict";e.packInterleavedBuffer=function(e,r){return r.push(e.buffer),{buffer:e.buffer,layout:new t.PackedLayout(e.layout)}},e.unpackInterleavedBuffer=function(e){return new t.InterleavedLayout(e.layout).createView(e.buffer)},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/views/3d/support/buffer/InterleavedLayout":function(){define(["exports","../../../../geometry/support/float16","../../../../geometry/support/buffer/BufferView","../../../../geometry/support/buffer/types","../../webgl-engine/lib/Util"],(function(e,t,r,n,i){"use strict";class s{constructor(e,t){this.layout=e,this.buffer="number"==typeof t?new ArrayBuffer(t*e.stride):t;for(const t of e.fields.keys()){const r=e.fields.get(t);this[t]=new r.constructor(this.buffer,r.offset,this.stride)}}get stride(){return this.layout.stride}get count(){return this.buffer.byteLength/this.stride}get byteLength(){return this.buffer.byteLength}getField(e,t){const r=this[e];return r&&r.elementCount===t.ElementCount&&r.elementType===t.ElementType?r:null}slice(e,t){return new s(this.layout,this.buffer.slice(e*this.stride,t*this.stride))}copyFrom(e,t=0,r=0,n=e.count){const i=this.stride;if(i%4==0){const s=new Uint32Array(e.buffer,t*i,n*i/4);new Uint32Array(this.buffer,r*i,n*i/4).set(s)}else{const s=new Uint8Array(e.buffer,t*i,n*i);new Uint8Array(this.buffer,r*i,n*i).set(s)}return this}get cachedMemory(){return this.byteLength}dispose(){}}class u{constructor(e){this._stride=0,this._fields=new Map,e&&(this._stride=e.stride,e.fields.forEach((e=>{return this._fields.set(e[0],{...e[1],constructor:(t=e[1].constructor,a.get(t))});var t})))}freeze(){return this}vec2f16(e,n){return this._appendField(e,t.hasNativeFloat16Array?r.BufferViewVec2f16:r.BufferViewVec2f,n),this}vec2f(e,t){return this._appendField(e,r.BufferViewVec2f,t),this}vec2f64(e,t){return this._appendField(e,r.BufferViewVec2f64,t),this}vec3f16(e,n){return this._appendField(e,t.hasNativeFloat16Array?r.BufferViewVec3f16:r.BufferViewVec3f,n),this}vec3f(e,t){return this._appendField(e,r.BufferViewVec3f,t),this}vec3f64(e,t){return this._appendField(e,r.BufferViewVec3f64,t),this}vec4f16(e,n){return this._appendField(e,t.hasNativeFloat16Array?r.BufferViewVec4f16:r.BufferViewVec4f,n),this}vec4f(e,t){return this._appendField(e,r.BufferViewVec4f,t),this}vec4f64(e,t){return this._appendField(e,r.BufferViewVec4f64,t),this}mat3f(e,t){return this._appendField(e,r.BufferViewMat3f,t),this}mat3f64(e,t){return this._appendField(e,r.BufferViewMat3f64,t),this}mat4f(e,t){return this._appendField(e,r.BufferViewMat4f,t),this}mat4f64(e,t){return this._appendField(e,r.BufferViewMat4f64,t),this}vec4u8(e,t){return this._appendField(e,r.BufferViewVec4u8,t),this}f16(e,n){return this._appendField(e,t.hasNativeFloat16Array?r.BufferViewFloat16:r.BufferViewFloat,n),this}f32(e,t){return this._appendField(e,r.BufferViewFloat,t),this}f64(e,t){return this._appendField(e,r.BufferViewFloat64,t),this}u8(e,t){return this._appendField(e,r.BufferViewUint8,t),this}u16(e,t){return this._appendField(e,r.BufferViewUint16,t),this}i8(e,t){return this._appendField(e,r.BufferViewInt8,t),this}vec2i8(e,t){return this._appendField(e,r.BufferViewVec2i8,t),this}vec2i16(e,t){return this._appendField(e,r.BufferViewVec2i16,t),this}vec2u8(e,t){return this._appendField(e,r.BufferViewVec2u8,t),this}vec2u16(e,t){return this._appendField(e,r.BufferViewVec2u16,t),this}vec4u16(e,t){return this._appendField(e,r.BufferViewVec4u16,t),this}u32(e,t){return this._appendField(e,r.BufferViewUint32,t),this}_appendField(e,t,r){this._fields.has(e)&&i.assert(!1,`${e} already added to vertex buffer layout`);const s=t.ElementCount*n.elementTypeSize(t.ElementType),u=this._stride;this._fields.set(e,{constructor:t,size:s,offset:u,optional:r}),this._alignFields()}_alignFields(){let e=0,t=1;this._fields.forEach((r=>{const i=n.elementTypeSize(r.constructor.ElementType);e=Math.floor((e+i-1)/i)*i,r.offset=e,e+=r.size,t=Math.max(t,i)})),e=Math.floor((e+t-1)/t)*t,this._stride=e}createBuffer(e){return new s(this,e)}createView(e){return new s(this,e)}clone(){const e=new u;return e._stride=this._stride,e._fields=new Map,this._fields.forEach(((t,r)=>e._fields.set(r,t))),e.BufferType=this.BufferType,e}get stride(){return this._stride}get fields(){return this._fields}}const f=[r.BufferViewFloat,r.BufferViewVec2f,r.BufferViewVec3f,r.BufferViewVec4f,r.BufferViewMat3f,r.BufferViewMat4f,r.BufferViewFloat64,r.BufferViewVec2f64,r.BufferViewVec3f64,r.BufferViewVec4f64,r.BufferViewMat3f64,r.BufferViewMat4f64,r.BufferViewUint8,r.BufferViewVec2u8,r.BufferViewVec3u8,r.BufferViewVec4u8,r.BufferViewUint16,r.BufferViewVec2u16,r.BufferViewVec3u16,r.BufferViewVec4u16,r.BufferViewUint32,r.BufferViewVec2u32,r.BufferViewVec3u32,r.BufferViewVec4u32,r.BufferViewInt8,r.BufferViewVec2i8,r.BufferViewVec3i8,r.BufferViewVec4i8,r.BufferViewInt16,r.BufferViewVec2i16,r.BufferViewVec3i16,r.BufferViewVec4i16,r.BufferViewInt32,r.BufferViewVec2i32,r.BufferViewVec3i32,r.BufferViewVec4i32];function o(e){return`${e.ElementType}_${e.ElementCount}`}const a=new Map;f.forEach((e=>a.set(o(e),e))),e.InterleavedBuffer=s,e.InterleavedLayout=u,e.PackedLayout=class{constructor(e){this.fields=new Array,e.fields.forEach(((e,t)=>{const r={...e,constructor:o(e.constructor)};this.fields.push([t,r])})),this.stride=e.stride}},e.newLayout=function(){return new u},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/geometry/support/float16":function(){define(["exports"],(function(e){"use strict";let t=globalThis.Float16Array;e.hasNativeFloat16Array=!!t,e.disableNativeF16Array=function(){t=null,e.hasNativeFloat16Array=!1},e.getFloat16ArrayConstructor=function(){return t},e.makeFloat16Array=function(...e){return new(t??Float32Array)(...e)},e.resetNativeF16Array=function(){t=globalThis.Float16Array,e.hasNativeFloat16Array=!!t},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/geometry/support/buffer/BufferView":function(){define(["exports","../float16","./internals/Mat3","./internals/Mat4","./internals/Scalar","./internals/Vec2","./internals/Vec3","./internals/Vec4","../../../views/3d/webgl-engine/lib/Util"],(function(e,t,r,n,i,s,u,f,o){"use strict";class a extends i.BufferViewScalarImpl{constructor(e,r=0,n,i){o.assert(t.hasNativeFloat16Array),super(t.getFloat16ArrayConstructor(),e,r,n,i),this.elementType="f16"}static{this.ElementType="f16"}}class c extends i.BufferViewScalarImpl{constructor(e,t=0,r,n){super(Float32Array,e,t,r,n),this.elementType="f32"}static{this.ElementType="f32"}}class l extends s.BufferViewVec2Impl{constructor(e,r=0,n,i){o.assert(t.hasNativeFloat16Array),super(t.getFloat16ArrayConstructor(),e,r,n,i),this.elementType="f16"}slice(e,t){return this.sliceBuffer(l,e,t)}static{this.ElementType="f16"}}class d extends s.BufferViewVec2Impl{constructor(e,t=0,r,n){super(Float32Array,e,t,r,n),this.elementType="f32"}slice(e,t){return this.sliceBuffer(d,e,t)}static{this.ElementType="f32"}}class h extends u.BufferViewVec3Impl{constructor(e,r=0,n,i){o.assert(t.hasNativeFloat16Array),super(t.getFloat16ArrayConstructor(),e,r,n,i),this.elementType="f16"}slice(e,t){return this.sliceBuffer(h,e,t)}static{this.ElementType="f16"}}class p extends u.BufferViewVec3Impl{constructor(e,t=0,r,n){super(Float32Array,e,t,r,n),this.elementType="f32"}slice(e,t){return this.sliceBuffer(p,e,t)}static fromTypedArray(e,t){return new p(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}static{this.ElementType="f32"}}class y extends f.BufferViewVec4Impl{constructor(e,r=0,n,i){o.assert(t.hasNativeFloat16Array),super(t.getFloat16ArrayConstructor(),e,r,n,i),this.elementType="f16"}slice(e,t){return this.sliceBuffer(y,e,t)}static{this.ElementType="f16"}}class m extends f.BufferViewVec4Impl{constructor(e,t=0,r,n){super(Float32Array,e,t,r,n),this.elementType="f32"}slice(e,t){return this.sliceBuffer(m,e,t)}static{this.ElementType="f32"}}class g extends r.BufferViewMat3Impl{constructor(e,t=0,r,n){super(Float32Array,e,t,r,n),this.elementType="f32"}slice(e,t){return this.sliceBuffer(g,e,t)}static{this.ElementType="f32"}}class B extends r.BufferViewMat3Impl{constructor(e,t=0,r,n){super(Float64Array,e,t,r,n),this.elementType="f64"}slice(e,t){return this.sliceBuffer(B,e,t)}static{this.ElementType="f64"}}class E extends n.BufferViewMat4Impl{constructor(e,t=0,r,n){super(Float32Array,e,t,r,n),this.elementType="f32"}slice(e,t){return this.sliceBuffer(E,e,t)}static{this.ElementType="f32"}}class V extends n.BufferViewMat4Impl{constructor(e,t=0,r,n){super(Float64Array,e,t,r,n),this.elementType="f64"}slice(e,t){return this.sliceBuffer(V,e,t)}static{this.ElementType="f64"}}class A extends i.BufferViewScalarImpl{constructor(e,t=0,r,n){super(Float64Array,e,t,r,n),this.elementType="f64"}slice(e,t){return this.sliceBuffer(A,e,t)}static{this.ElementType="f64"}}class T extends s.BufferViewVec2Impl{constructor(e,t=0,r,n){super(Float64Array,e,t,r,n),this.elementType="f64"}slice(e,t){return this.sliceBuffer(T,e,t)}static{this.ElementType="f64"}}class w extends u.BufferViewVec3Impl{constructor(e,t=0,r,n){super(Float64Array,e,t,r,n),this.elementType="f64"}slice(e,t){return this.sliceBuffer(w,e,t)}static fromTypedArray(e,t){return new w(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}static{this.ElementType="f64"}}class b extends f.BufferViewVec4Impl{constructor(e,t=0,r,n){super(Float64Array,e,t,r,n),this.elementType="f64"}slice(e,t){return this.sliceBuffer(b,e,t)}static{this.ElementType="f64"}}class S extends i.BufferViewScalarImpl{constructor(e,t=0,r,n){super(Uint8Array,e,t,r,n),this.elementType="u8"}slice(e,t){return this.sliceBuffer(S,e,t)}static{this.ElementType="u8"}}class M extends s.BufferViewVec2Impl{constructor(e,t=0,r,n){super(Uint8Array,e,t,r,n),this.elementType="u8"}slice(e,t){return this.sliceBuffer(M,e,t)}static{this.ElementType="u8"}}class I extends u.BufferViewVec3Impl{constructor(e,t=0,r,n){super(Uint8Array,e,t,r,n),this.elementType="u8"}slice(e,t){return this.sliceBuffer(I,e,t)}static fromTypedArray(e,t){return new I(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}static{this.ElementType="u8"}}class x extends f.BufferViewVec4Impl{constructor(e,t=0,r,n){super(Uint8Array,e,t,r,n),this.elementType="u8"}slice(e,t){return this.sliceBuffer(x,e,t)}static{this.ElementType="u8"}}class N extends i.BufferViewScalarImpl{constructor(e,t=0,r,n){super(Uint16Array,e,t,r,n),this.elementType="u16"}slice(e,t){return this.sliceBuffer(N,e,t)}static{this.ElementType="u16"}}class v extends s.BufferViewVec2Impl{constructor(e,t=0,r,n){super(Uint16Array,e,t,r,n),this.elementType="u16"}slice(e,t){return this.sliceBuffer(v,e,t)}static{this.ElementType="u16"}}class O extends u.BufferViewVec3Impl{constructor(e,t=0,r,n){super(Uint16Array,e,t,r,n),this.elementType="u16"}slice(e,t){return this.sliceBuffer(O,e,t)}static{this.ElementType="u16"}}class L extends f.BufferViewVec4Impl{constructor(e,t=0,r,n){super(Uint16Array,e,t,r,n),this.elementType="u16"}slice(e,t){return this.sliceBuffer(L,e,t)}static{this.ElementType="u16"}}class F extends i.BufferViewScalarImpl{constructor(e,t=0,r,n){super(Uint32Array,e,t,r,n),this.elementType="u32"}slice(e,t){return this.sliceBuffer(F,e,t)}static{this.ElementType="u32"}}class R extends s.BufferViewVec2Impl{constructor(e,t=0,r,n){super(Uint32Array,e,t,r,n),this.elementType="u32"}slice(e,t){return this.sliceBuffer(R,e,t)}static{this.ElementType="u32"}}class _ extends u.BufferViewVec3Impl{constructor(e,t=0,r,n){super(Uint32Array,e,t,r,n),this.elementType="u32"}slice(e,t){return this.sliceBuffer(_,e,t)}static{this.ElementType="u32"}}class P extends f.BufferViewVec4Impl{constructor(e,t=0,r,n){super(Uint32Array,e,t,r,n),this.elementType="u32"}slice(e,t){return this.sliceBuffer(P,e,t)}static{this.ElementType="u32"}}class U extends i.BufferViewScalarImpl{constructor(e,t=0,r,n){super(Int8Array,e,t,r,n),this.elementType="i8"}slice(e,t){return this.sliceBuffer(U,e,t)}static{this.ElementType="i8"}}class C extends s.BufferViewVec2Impl{constructor(e,t=0,r,n){super(Int8Array,e,t,r,n),this.elementType="i8"}slice(e,t){return this.sliceBuffer(C,e,t)}static{this.ElementType="i8"}}class D extends u.BufferViewVec3Impl{constructor(e,t=0,r,n){super(Int8Array,e,t,r,n),this.elementType="i8"}slice(e,t){return this.sliceBuffer(D,e,t)}static{this.ElementType="i8"}}class z extends f.BufferViewVec4Impl{constructor(e,t=0,r,n){super(Int8Array,e,t,r,n),this.elementType="i8"}slice(e,t){return this.sliceBuffer(z,e,t)}static{this.ElementType="i8"}}class q extends i.BufferViewScalarImpl{constructor(e,t=0,r,n){super(Int16Array,e,t,r,n),this.elementType="i16"}slice(e,t){return this.sliceBuffer(q,e,t)}static{this.ElementType="i16"}}class j extends s.BufferViewVec2Impl{constructor(e,t=0,r,n){super(Int16Array,e,t,r,n),this.elementType="i16"}slice(e,t){return this.sliceBuffer(j,e,t)}static{this.ElementType="i16"}}class Y extends u.BufferViewVec3Impl{constructor(e,t=0,r,n){super(Int16Array,e,t,r,n),this.elementType="i16"}slice(e,t){return this.sliceBuffer(Y,e,t)}static{this.ElementType="i16"}}class k extends f.BufferViewVec4Impl{constructor(e,t=0,r,n){super(Int16Array,e,t,r,n),this.elementType="i16"}slice(e,t){return this.sliceBuffer(k,e,t)}static{this.ElementType="i16"}}class X extends i.BufferViewScalarImpl{constructor(e,t=0,r,n){super(Int32Array,e,t,r,n),this.elementType="i32"}slice(e,t){return this.sliceBuffer(X,e,t)}static{this.ElementType="i32"}}class G extends s.BufferViewVec2Impl{constructor(e,t=0,r,n){super(Int32Array,e,t,r,n),this.elementType="i32"}slice(e,t){return this.sliceBuffer(G,e,t)}static{this.ElementType="i32"}}class W extends u.BufferViewVec3Impl{constructor(e,t=0,r,n){super(Int32Array,e,t,r,n),this.elementType="i32"}slice(e,t){return this.sliceBuffer(W,e,t)}static{this.ElementType="i32"}}class H extends f.BufferViewVec4Impl{constructor(e,t=0,r,n){super(Int32Array,e,t,r,n),this.elementType="i32"}slice(e,t){return this.sliceBuffer(H,e,t)}static{this.ElementType="i32"}}e.BufferViewFloat=c,e.BufferViewFloat16=a,e.BufferViewFloat64=A,e.BufferViewInt16=q,e.BufferViewInt32=X,e.BufferViewInt8=U,e.BufferViewMat3f=g,e.BufferViewMat3f64=B,e.BufferViewMat4f=E,e.BufferViewMat4f64=V,e.BufferViewUint16=N,e.BufferViewUint32=F,e.BufferViewUint8=S,e.BufferViewVec2f=d,e.BufferViewVec2f16=l,e.BufferViewVec2f64=T,e.BufferViewVec2i16=j,e.BufferViewVec2i32=G,e.BufferViewVec2i8=C,e.BufferViewVec2u16=v,e.BufferViewVec2u32=R,e.BufferViewVec2u8=M,e.BufferViewVec3f=p,e.BufferViewVec3f16=h,e.BufferViewVec3f64=w,e.BufferViewVec3i16=Y,e.BufferViewVec3i32=W,e.BufferViewVec3i8=D,e.BufferViewVec3u16=O,e.BufferViewVec3u32=_,e.BufferViewVec3u8=I,e.BufferViewVec4f=m,e.BufferViewVec4f16=y,e.BufferViewVec4f64=b,e.BufferViewVec4i16=k,e.BufferViewVec4i32=H,e.BufferViewVec4i8=z,e.BufferViewVec4u16=L,e.BufferViewVec4u32=P,e.BufferViewVec4u8=x,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/geometry/support/buffer/internals/Mat3":function(){define(["exports"],(function(e){"use strict";class t{static{this.ElementCount=9}constructor(e,t,r=0,n,i){this.TypedArrayConstructor=e,this.elementCount=9;const s=this.TypedArrayConstructor;void 0===n&&(n=9*s.BYTES_PER_ELEMENT);const u=0===t.byteLength?0:r;this.typedBuffer=null==i?new s(t,u):new s(t,u,(i-r)/s.BYTES_PER_ELEMENT),this.typedBufferStride=n/s.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(e,t,r=this.count-t){const n=this.typedBuffer.byteOffset+t*this.stride;return new e(this.buffer,n,this.stride,n+r*this.stride)}getMat(e,t){let r=e*this.typedBufferStride;for(let e=0;e<9;e++)t[e]=this.typedBuffer[r++];return t}setMat(e,t){let r=e*this.typedBufferStride;for(let e=0;e<9;e++)this.typedBuffer[r++]=t[e]}get(e,t){return this.typedBuffer[e*this.typedBufferStride+t]}set(e,t,r){this.typedBuffer[e*this.typedBufferStride+t]=r}copyFrom(e,t,r){const n=this.typedBuffer,i=t.typedBuffer;let s=e*this.typedBufferStride,u=r*t.typedBufferStride;for(let e=0;e<9;++e)n[s++]=i[u++]}get buffer(){return this.typedBuffer.buffer}}e.BufferViewMat3Impl=t,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/geometry/support/buffer/internals/Mat4":function(){define(["exports"],(function(e){"use strict";class t{static{this.ElementCount=16}constructor(e,t,r=0,n,i){this.TypedArrayConstructor=e,this.elementCount=16;const s=this.TypedArrayConstructor;void 0===n&&(n=16*s.BYTES_PER_ELEMENT);const u=0===t.byteLength?0:r;this.typedBuffer=null==i?new s(t,u):new s(t,u,(i-r)/s.BYTES_PER_ELEMENT),this.typedBufferStride=n/s.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(e,t,r=this.count-t){const n=this.typedBuffer.byteOffset+t*this.stride;return new e(this.buffer,n,this.stride,n+r*this.stride)}getMat(e,t){let r=e*this.typedBufferStride;for(let e=0;e<16;e++)t[e]=this.typedBuffer[r++];return t}setMat(e,t){let r=e*this.typedBufferStride;for(let e=0;e<16;e++)this.typedBuffer[r++]=t[e]}get(e,t){return this.typedBuffer[e*this.typedBufferStride+t]}set(e,t,r){this.typedBuffer[e*this.typedBufferStride+t]=r}copyFrom(e,t,r){this.copyFromTypedBuffer(e,t.typedBuffer,r*t.typedBufferStride)}copyFromTypedBuffer(e,t,r){const n=this.typedBuffer;let i=e*this.typedBufferStride;for(let e=0;e<16;++e)n[i++]=t[r++]}get buffer(){return this.typedBuffer.buffer}}e.BufferViewMat4Impl=t,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/geometry/support/buffer/internals/Scalar":function(){define(["exports"],(function(e){"use strict";class t{static{this.ElementCount=1}constructor(e,t,r=0,n,i){this.TypedArrayConstructor=e,this.elementCount=1;const s=this.TypedArrayConstructor;void 0===n&&(n=s.BYTES_PER_ELEMENT);const u=0===t.byteLength?0:r;this.typedBuffer=null==i?new s(t,u):new s(t,u,(i-r)/s.BYTES_PER_ELEMENT),this.stride=n,this.typedBufferStride=n/s.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride)}sliceBuffer(e,t,r=this.count-t){const n=this.typedBuffer.byteOffset+t*this.stride;return new e(this.buffer,n,this.stride,n+r*this.stride)}get(e){return this.typedBuffer[e*this.typedBufferStride]}set(e,t){this.typedBuffer[e*this.typedBufferStride]=t}get buffer(){return this.typedBuffer.buffer}}e.BufferViewScalarImpl=t,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/geometry/support/buffer/internals/Vec2":function(){define(["exports","../../../../core/libs/gl-matrix-2/math/vec2"],(function(e,t){"use strict";class r{static{this.ElementCount=2}constructor(e,t,r=0,n,i){this.TypedArrayConstructor=e,this.start=r,this.elementCount=2;const s=this.TypedArrayConstructor;void 0===n&&(n=2*s.BYTES_PER_ELEMENT);const u=0===t.byteLength?0:r;this.typedBuffer=null==i?new s(t,u):new s(t,u,(i-r)/s.BYTES_PER_ELEMENT),this.typedBufferStride=n/s.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(e,t,r=this.count-t){const n=this.typedBuffer.byteOffset+t*this.stride;return new e(this.buffer,n,this.stride,n+r*this.stride)}getVec(e,r){return e*=this.typedBufferStride,t.set(r,this.typedBuffer[e],this.typedBuffer[e+1])}setVec(e,t){e*=this.typedBufferStride,this.typedBuffer[e++]=t[0],this.typedBuffer[e]=t[1]}get(e,t){return this.typedBuffer[e*this.typedBufferStride+t]}set(e,t,r){this.typedBuffer[e*this.typedBufferStride+t]=r}setValues(e,t,r){e*=this.typedBufferStride,this.typedBuffer[e++]=t,this.typedBuffer[e]=r}copyFrom(e,t,r){const n=this.typedBuffer,i=t.typedBuffer;let s=e*this.typedBufferStride,u=r*t.typedBufferStride;n[s++]=i[u++],n[s]=i[u]}get buffer(){return this.typedBuffer.buffer}}e.BufferViewVec2Impl=r,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/core/libs/gl-matrix-2/math/vec2":function(){define(["exports","./common"],(function(e,t){"use strict";function r(e,t){return e[0]=t[0],e[1]=t[1],e}function n(e,t,r){return e[0]=t,e[1]=r,e}function i(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e}function s(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e}function u(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e}function f(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e}function o(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e}function a(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e}function c(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e}function l(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e}function d(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e}function h(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e}function p(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e}function y(e,t){const r=t[0]-e[0],n=t[1]-e[1];return Math.sqrt(r*r+n*n)}function m(e,t){const r=t[0]-e[0],n=t[1]-e[1];return r*r+n*n}function g(e){const t=e[0],r=e[1];return Math.sqrt(t*t+r*r)}function B(e){const t=e[0],r=e[1];return t*t+r*r}function E(e,t){return e[0]=-t[0],e[1]=-t[1],e}function V(e,t){return e[0]=1/t[0],e[1]=1/t[1],e}function A(e,t){const r=t[0],n=t[1];let i=r*r+n*n;return i>0&&(i=1/Math.sqrt(i),e[0]=t[0]*i,e[1]=t[1]*i),e}function T(e,t){return e[0]*t[0]+e[1]*t[1]}function w(e,t,r){const n=t[0]*r[1]-t[1]*r[0];return e[0]=e[1]=0,e[2]=n,e}function b(e,t,r,n){const i=t[0],s=t[1];return e[0]=i+n*(r[0]-i),e[1]=s+n*(r[1]-s),e}function S(e,r=1){const n=2*t.RANDOM()*Math.PI;return e[0]=Math.cos(n)*r,e[1]=Math.sin(n)*r,e}function M(e,t,r){const n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i,e[1]=r[1]*n+r[3]*i,e}function I(e,t,r){const n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i+r[4],e[1]=r[1]*n+r[3]*i+r[5],e}function x(e,t,r){const n=t[0],i=t[1];return e[0]=r[0]*n+r[3]*i+r[6],e[1]=r[1]*n+r[4]*i+r[7],e}function N(e,t,r){const n=t[0],i=t[1];return e[0]=r[0]*n+r[4]*i+r[12],e[1]=r[1]*n+r[5]*i+r[13],e}function v(e,t,r,n){const i=t[0]-r[0],s=t[1]-r[1],u=Math.sin(n),f=Math.cos(n);return e[0]=i*f-s*u+r[0],e[1]=i*u+s*f+r[1],e}function O(e,t){const r=e[0],n=e[1],i=t[0],s=t[1];let u=r*r+n*n;u>0&&(u=1/Math.sqrt(u));let f=i*i+s*s;f>0&&(f=1/Math.sqrt(f));const o=(r*i+n*s)*u*f;return o>1?0:o<-1?Math.PI:Math.acos(o)}function L(e){return"vec2("+e[0]+", "+e[1]+")"}function F(e,t){return e[0]===t[0]&&e[1]===t[1]}function R(e,r){const n=e[0],i=e[1],s=r[0],u=r[1],f=t.getEpsilon();return Math.abs(n-s)<=f*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(i-u)<=f*Math.max(1,Math.abs(i),Math.abs(u))}function _(e,t,r,n,i){let s=t[0]-r[0],u=t[1]-r[1];const f=(n[0]*s+n[1]*u)*(i-1);return s=n[0]*f,u=n[1]*f,e[0]=t[0]+s,e[1]=t[1]+u,e}const P=g,U=s,C=u,D=f,z=y,q=m,j=B,Y=Object.freeze(Object.defineProperty({__proto__:null,add:i,angle:O,ceil:o,copy:r,cross:w,dist:z,distance:y,div:D,divide:f,dot:T,equals:R,exactEquals:F,floor:a,inverse:V,len:P,length:g,lerp:b,max:l,min:c,mul:C,multiply:u,negate:E,normalize:A,projectAndScale:_,random:S,rotate:v,round:d,scale:h,scaleAndAdd:p,set:n,sqrDist:q,sqrLen:j,squaredDistance:m,squaredLength:B,str:L,sub:U,subtract:s,transformMat2:M,transformMat2d:I,transformMat3:x,transformMat4:N},Symbol.toStringTag,{value:"Module"}));e.add=i,e.angle=O,e.ceil=o,e.copy=r,e.cross=w,e.dist=z,e.distance=y,e.div=D,e.divide=f,e.dot=T,e.equals=R,e.exactEquals=F,e.floor=a,e.inverse=V,e.len=P,e.length=g,e.lerp=b,e.max=l,e.min=c,e.mul=C,e.multiply=u,e.negate=E,e.normalize=A,e.projectAndScale=_,e.random=S,e.rotate=v,e.round=d,e.scale=h,e.scaleAndAdd=p,e.set=n,e.sqrDist=q,e.sqrLen=j,e.squaredDistance=m,e.squaredLength=B,e.str=L,e.sub=U,e.subtract=s,e.transformMat2=M,e.transformMat2d=I,e.transformMat3=x,e.transformMat4=N,e.vec2=Y,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/geometry/support/buffer/internals/Vec3":function(){define(["exports","../../../../chunks/vec32"],(function(e,t){"use strict";class r{static{this.ElementCount=3}constructor(e,t,r=0,n,i){this.TypedArrayConstructor=e,this.elementCount=3;const s=this.TypedArrayConstructor;void 0===n&&(n=3*s.BYTES_PER_ELEMENT);const u=0===t.byteLength?0:r;this.typedBuffer=null==i?new s(t,u):new s(t,u,(i-r)/s.BYTES_PER_ELEMENT),this.typedBufferStride=n/s.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(e,t,r=this.count-t){const n=this.typedBuffer.byteOffset+t*this.stride;return new e(this.buffer,n,this.stride,n+r*this.stride)}getVec(e,r){return e*=this.typedBufferStride,t.set(r,this.typedBuffer[e],this.typedBuffer[e+1],this.typedBuffer[e+2])}setVec(e,t){e*=this.typedBufferStride,this.typedBuffer[e++]=t[0],this.typedBuffer[e++]=t[1],this.typedBuffer[e]=t[2]}get(e,t){return this.typedBuffer[e*this.typedBufferStride+t]}set(e,t,r){this.typedBuffer[e*this.typedBufferStride+t]=r}setValues(e,t,r,n){e*=this.typedBufferStride,this.typedBuffer[e++]=t,this.typedBuffer[e++]=r,this.typedBuffer[e]=n}copyFrom(e,t,r){const n=this.typedBuffer,i=t.typedBuffer;let s=e*this.typedBufferStride,u=r*t.typedBufferStride;n[s++]=i[u++],n[s++]=i[u++],n[s]=i[u]}get buffer(){return this.typedBuffer.buffer}}e.BufferViewVec3Impl=r,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/chunks/vec32":function(){define(["exports","../core/libs/gl-matrix-2/factories/vec3f64","../core/libs/gl-matrix-2/math/common"],(function(e,t,r){"use strict";function n(e){const t=e[0],r=e[1],n=e[2];return Math.sqrt(t*t+r*r+n*n)}function i(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function s(e,t,r,n){return e[0]=t,e[1]=r,e[2]=n,e}function u(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e}function f(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e}function o(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e}function a(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e}function c(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}function l(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}function d(e,t){return e[0]=Math.abs(t[0]),e[1]=Math.abs(t[1]),e[2]=Math.abs(t[2]),e}function h(e,t){return e[0]=Math.sign(t[0]),e[1]=Math.sign(t[1]),e[2]=Math.sign(t[2]),e}function p(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e}function y(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e}function m(e,t=0,r=1){return e[0]=Math.min(Math.max(e[0],t),r),e[1]=Math.min(Math.max(e[1],t),r),e[2]=Math.min(Math.max(e[2],t),r),e}function g(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}function B(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e}function E(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e}function V(e,t){const r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2];return Math.sqrt(r*r+n*n+i*i)}function A(e,t){const r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2];return r*r+n*n+i*i}function T(e){const t=e[0],r=e[1],n=e[2];return t*t+r*r+n*n}function w(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function b(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function S(e,t){const r=t[0],n=t[1],i=t[2];let s=r*r+n*n+i*i;return s>0&&(s=1/Math.sqrt(s),e[0]=t[0]*s,e[1]=t[1]*s,e[2]=t[2]*s),e}function M(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function I(e,t,r){const n=t[0],i=t[1],s=t[2],u=r[0],f=r[1],o=r[2];return e[0]=i*o-s*f,e[1]=s*u-n*o,e[2]=n*f-i*u,e}function x(e,t,r){const n=t[0],i=t[1],s=t[2],u=r[0],f=r[1],o=r[2],a=i*o-s*f,c=s*u-n*o,l=n*f-i*u,d=Math.sqrt(a*a+c*c+l*l);return e[0]=a/d,e[1]=c/d,e[2]=l/d,e}function N(e,t,r,n){const i=t[0],s=t[1],u=t[2];return e[0]=i+n*(r[0]-i),e[1]=s+n*(r[1]-s),e[2]=u+n*(r[2]-u),e}function v(e,t,r,n,i,s){const u=s*s,f=u*(2*s-3)+1,o=u*(s-2)+s,a=u*(s-1),c=u*(3-2*s);return e[0]=t[0]*f+r[0]*o+n[0]*a+i[0]*c,e[1]=t[1]*f+r[1]*o+n[1]*a+i[1]*c,e[2]=t[2]*f+r[2]*o+n[2]*a+i[2]*c,e}function O(e,t,r,n,i,s){const u=1-s,f=u*u,o=s*s,a=f*u,c=3*s*f,l=3*o*u,d=o*s;return e[0]=t[0]*a+r[0]*c+n[0]*l+i[0]*d,e[1]=t[1]*a+r[1]*c+n[1]*l+i[1]*d,e[2]=t[2]*a+r[2]*c+n[2]*l+i[2]*d,e}function L(e,t=1){const n=r.RANDOM,i=2*n()*Math.PI,s=2*n()-1,u=Math.sqrt(1-s*s)*t;return e[0]=Math.cos(i)*u,e[1]=Math.sin(i)*u,e[2]=s*t,e}function F(e,t,r){const n=t[0],i=t[1],s=t[2];return e[0]=r[0]*n+r[4]*i+r[8]*s+r[12],e[1]=r[1]*n+r[5]*i+r[9]*s+r[13],e[2]=r[2]*n+r[6]*i+r[10]*s+r[14],e}function R(e,t,r){const n=t[0],i=t[1],s=t[2];return e[0]=n*r[0]+i*r[3]+s*r[6],e[1]=n*r[1]+i*r[4]+s*r[7],e[2]=n*r[2]+i*r[5]+s*r[8],e}function _(e,t,r){const n=r[0],i=r[1],s=r[2],u=r[3],f=t[0],o=t[1],a=t[2],c=i*a-s*o,l=s*f-n*a,d=n*o-i*f,h=i*d-s*l,p=s*c-n*d,y=n*l-i*c,m=2*u;return e[0]=f+c*m+2*h,e[1]=o+l*m+2*p,e[2]=a+d*m+2*y,e}function P(e,t,r,n){const i=[],s=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],s[0]=i[0],s[1]=i[1]*Math.cos(n)-i[2]*Math.sin(n),s[2]=i[1]*Math.sin(n)+i[2]*Math.cos(n),e[0]=s[0]+r[0],e[1]=s[1]+r[1],e[2]=s[2]+r[2],e}function U(e,t,r,n){const i=[],s=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],s[0]=i[2]*Math.sin(n)+i[0]*Math.cos(n),s[1]=i[1],s[2]=i[2]*Math.cos(n)-i[0]*Math.sin(n),e[0]=s[0]+r[0],e[1]=s[1]+r[1],e[2]=s[2]+r[2],e}function C(e,t,r,n){const i=[],s=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],s[0]=i[0]*Math.cos(n)-i[1]*Math.sin(n),s[1]=i[0]*Math.sin(n)+i[1]*Math.cos(n),s[2]=i[2],e[0]=s[0]+r[0],e[1]=s[1]+r[1],e[2]=s[2]+r[2],e}function D(e,t){S(z,e),S(q,t);const r=M(z,q);return r>1?0:r<-1?Math.PI:Math.acos(r)}const z=t.create(),q=t.create();function j(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"}function Y(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function k(e,t){if(e===t)return!0;const n=e[0],i=e[1],s=e[2],u=t[0],f=t[1],o=t[2],a=r.getEpsilon();return Math.abs(n-u)<=a*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(i-f)<=a*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(s-o)<=a*Math.max(1,Math.abs(s),Math.abs(o))}function X(e,t,r){const n=r[0]-t[0],i=r[1]-t[1],s=r[2]-t[2];let u=n*n+i*i+s*s;return u>0?(u=1/Math.sqrt(u),e[0]=n*u,e[1]=i*u,e[2]=s*u,e):(e[0]=0,e[1]=0,e[2]=0,e)}const G=f,W=o,H=a,Z=V,$=A,K=n,Q=T,J=Object.freeze(Object.defineProperty({__proto__:null,abs:d,add:u,angle:D,bezier:O,ceil:c,clamp:m,copy:i,cross:I,crossAndNormalize:x,direction:X,dist:Z,distance:V,div:H,divide:a,dot:M,equals:k,exactEquals:Y,floor:l,hermite:v,inverse:b,len:K,length:n,lerp:N,max:y,min:p,mul:W,multiply:o,negate:w,normalize:S,random:L,rotateX:P,rotateY:U,rotateZ:C,round:g,scale:B,scaleAndAdd:E,set:s,sign:h,sqrDist:$,sqrLen:Q,squaredDistance:A,squaredLength:T,str:j,sub:G,subtract:f,transformMat3:R,transformMat4:F,transformQuat:_},Symbol.toStringTag,{value:"Module"}));e.abs=d,e.add=u,e.angle=D,e.bezier=O,e.ceil=c,e.clamp=m,e.copy=i,e.cross=I,e.crossAndNormalize=x,e.direction=X,e.dist=Z,e.distance=V,e.div=H,e.divide=a,e.dot=M,e.equals=k,e.exactEquals=Y,e.floor=l,e.hermite=v,e.inverse=b,e.len=K,e.length=n,e.lerp=N,e.max=y,e.min=p,e.mul=W,e.multiply=o,e.negate=w,e.normalize=S,e.random=L,e.rotateX=P,e.rotateY=U,e.rotateZ=C,e.round=g,e.scale=B,e.scaleAndAdd=E,e.set=s,e.sign=h,e.sqrDist=$,e.sqrLen=Q,e.squaredDistance=A,e.squaredLength=T,e.str=j,e.sub=G,e.subtract=f,e.transformMat3=R,e.transformMat4=F,e.transformQuat=_,e.vec3=J}))},"esri/geometry/support/buffer/internals/Vec4":function(){define(["exports","../../../../chunks/vec42"],(function(e,t){"use strict";class r{static{this.ElementCount=4}constructor(e,t,r=0,n,i){this.TypedArrayConstructor=e,this.start=r,this.elementCount=4;const s=this.TypedArrayConstructor;void 0===n&&(n=4*s.BYTES_PER_ELEMENT);const u=0===t.byteLength?0:r;this.typedBuffer=null==i?new s(t,u):new s(t,u,(i-r)/s.BYTES_PER_ELEMENT),this.typedBufferStride=n/s.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(e,t,r=this.count-t){const n=this.typedBuffer.byteOffset+t*this.stride;return new e(this.buffer,n,this.stride,n+r*this.stride)}getVec(e,r){return e*=this.typedBufferStride,t.set(r,this.typedBuffer[e++],this.typedBuffer[e++],this.typedBuffer[e++],this.typedBuffer[e])}setVec(e,t){e*=this.typedBufferStride,this.typedBuffer[e++]=t[0],this.typedBuffer[e++]=t[1],this.typedBuffer[e++]=t[2],this.typedBuffer[e]=t[3]}get(e,t){return this.typedBuffer[e*this.typedBufferStride+t]}set(e,t,r){this.typedBuffer[e*this.typedBufferStride+t]=r}setValues(e,t,r,n,i){e*=this.typedBufferStride,this.typedBuffer[e++]=t,this.typedBuffer[e++]=r,this.typedBuffer[e++]=n,this.typedBuffer[e]=i}copyFrom(e,t,r){const n=this.typedBuffer,i=t.typedBuffer;let s=e*this.typedBufferStride,u=r*t.typedBufferStride;n[s++]=i[u++],n[s++]=i[u++],n[s++]=i[u++],n[s]=i[u]}get buffer(){return this.typedBuffer.buffer}}e.BufferViewVec4Impl=r,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/views/3d/webgl-engine/lib/Util":function(){define(["exports","../../../../core/libs/gl-matrix-2/factories/vec2f64","../../../../chunks/vec42","../../../../core/libs/gl-matrix-2/factories/vec4f64"],(function(e,t,r,n){"use strict";const i=n.create();class s{constructor(e){this.message=e}toString(){return`AssertException: ${this.message}`}}function u(e,t="Assertion"){if(!e){const e=new Error(t).stack;throw new s(`${t} at ${e}`)}}e.assert=u,e.isTranslationMatrix=function(e){return 1===e[0]&&0===e[1]&&0===e[2]&&0===e[3]&&0===e[4]&&1===e[5]&&0===e[6]&&0===e[7]&&0===e[8]&&0===e[9]&&1===e[10]&&0===e[11]&&1===e[15]},e.logWithBase=function(e,t){return Math.log(e)/Math.log(t)},e.project=function(e,t,n,s,f){i[0]=e[0],i[1]=e[1],i[2]=e[2],i[3]=1,r.transformMat4(i,i,t),f.length>2&&(f[2]=-i[2]),r.transformMat4(i,i,n),u(0!==i[3]),f[0]=i[0]/i[3],f[1]=i[1]/i[3],f[2]=i[2]/i[3],f[0]=(.5*f[0]+.5)*s[2]+s[0],f[1]=(.5*f[1]+.5)*s[3]+s[1]},e.rayBoxTest=function(e,t,r,n){let i,s=(r[0]-e[0])/t[0],u=(n[0]-e[0])/t[0];s>u&&(i=s,s=u,u=i);let f=(r[1]-e[1])/t[1],o=(n[1]-e[1])/t[1];if(f>o&&(i=f,f=o,o=i),s>o||f>u)return!1;f>s&&(s=f),o<u&&(u=o);let a=(r[2]-e[2])/t[2],c=(n[2]-e[2])/t[2];return a>c&&(i=a,a=c,c=i),!(s>c||a>u||(c<u&&(u=c),u<0))},e.rayRay2D=function(e,r,n,i,s,u=t.create()){const f=(i[s]-n[s])*(r[0]-e[0])-(i[0]-n[0])*(r[s]-e[s]),o=(i[0]-n[0])*(e[s]-n[s])-(i[s]-n[s])*(e[0]-n[0]);if(0===f)return!1;const a=o/f;return u[0]=e[0]+a*(r[0]-e[0]),u[1]=e[s]+a*(r[s]-e[s]),!0},e.setMatrixTranslation3=function(e,t,r,n){e[12]=t,e[13]=r,e[14]=n},e.verify=function(e,t){e||(t=t||"",console.warn("Verify failed: "+t+"\n"+new Error("verify").stack))},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/core/libs/gl-matrix-2/factories/vec2f64":function(){define(["exports"],(function(e){"use strict";function t(){return[0,0]}function r(e){return[e[0],e[1]]}function n(e,t){return[e,t]}function i(e,t){return[e,t]}function s(e,t=[0,0]){const r=Math.min(2,e.length);for(let n=0;n<r;++n)t[n]=e[n];return t}function u(){return[0,0]}function f(){return n(1,1)}function o(){return n(1,0)}function a(){return n(0,1)}const c=[0,0],l=f(),d=o(),h=a(),p=Object.freeze(Object.defineProperty({__proto__:null,ONES:l,UNIT_X:d,UNIT_Y:h,ZEROS:c,clone:r,create:t,freeze:i,fromArray:s,fromValues:n,ones:f,unitX:o,unitY:a,zeros:u},Symbol.toStringTag,{value:"Module"}));e.ONES=l,e.UNIT_X=d,e.UNIT_Y=h,e.ZEROS=c,e.clone=r,e.create=t,e.freeze=i,e.fromArray=s,e.fromValues=n,e.ones=f,e.unitX=o,e.unitY=a,e.vec2f64=p,e.zeros=u,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/geometry/support/buffer/types":function(){define(["exports"],(function(e){"use strict";e.elementTypeSize=function(e){switch(e){case"u8":case"i8":return 1;case"u16":case"i16":case"f16":return 2;case"u32":case"i32":case"f32":return 4;case"f64":return 8}},e.isInteger=function(e){switch(e){case"u8":case"u16":case"u32":case"i8":case"i16":case"i32":return!0;case"f16":case"f32":case"f64":return!1}},e.isSigned=function(e){switch(e){case"u8":case"u16":case"u32":return!1;case"i8":case"i16":case"i32":case"f16":case"f32":case"f64":return!0}},e.maximumValue=function(e){switch(e){case"u8":return 255;case"u16":return 65535;case"u32":return 4294967295;case"i8":return 127;case"i16":return 32767;case"i32":return 2147483647;case"f16":return 65504;case"f32":return 3402823e32;case"f64":return 179769e303}},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/views/3d/webgl-engine/lib/edgeRendering/bufferLayouts":function(){define(["exports","../../../support/buffer/glUtil","../../../support/buffer/InterleavedLayout","../VertexAttribute"],(function(e,t,r,n){"use strict";const i=r.newLayout().vec3f(n.VertexAttribute.POSITION).u16(n.VertexAttribute.COMPONENTINDEX).freeze(),s=r.newLayout().vec2u8(n.VertexAttribute.SIDENESS).freeze(),u=t.glLayout(s),f=r.newLayout().vec3f(n.VertexAttribute.POSITION0).vec3f(n.VertexAttribute.POSITION1).vec2i16(n.VertexAttribute.NORMALCOMPRESSED).u16(n.VertexAttribute.COMPONENTINDEX).u8(n.VertexAttribute.VARIANTOFFSET,{glNormalized:!0}).u8(n.VertexAttribute.VARIANTSTROKE).u8(n.VertexAttribute.VARIANTEXTENSION,{glNormalized:!0}).freeze(),o=r.newLayout().vec3f(n.VertexAttribute.POSITION0).vec3f(n.VertexAttribute.POSITION1).vec2i16(n.VertexAttribute.NORMALCOMPRESSED).vec2i16(n.VertexAttribute.NORMAL2COMPRESSED).u16(n.VertexAttribute.COMPONENTINDEX).u8(n.VertexAttribute.VARIANTOFFSET,{glNormalized:!0}).u8(n.VertexAttribute.VARIANTSTROKE).u8(n.VertexAttribute.VARIANTEXTENSION,{glNormalized:!0}).freeze(),a=new Map([[n.VertexAttribute.POSITION0,0],[n.VertexAttribute.POSITION1,1],[n.VertexAttribute.COMPONENTINDEX,2],[n.VertexAttribute.VARIANTOFFSET,3],[n.VertexAttribute.VARIANTSTROKE,4],[n.VertexAttribute.VARIANTEXTENSION,5],[n.VertexAttribute.NORMALCOMPRESSED,6],[n.VertexAttribute.NORMAL2COMPRESSED,7],[n.VertexAttribute.SIDENESS,8]]);e.EdgeInputBufferLayout=i,e.RegularEdgeInstancesLayout=f,e.SilhouetteEdgeInstancesLayout=o,e.VertexLayout=s,e.glVertexLayout=u,e.vertexAttributeLocations=a,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/views/3d/support/buffer/glUtil":function(){define(["exports","../../../webgl/enums","../../../webgl/VertexElementDescriptor"],(function(e,t,r){"use strict";const n={u8:t.DataType.UNSIGNED_BYTE,u16:t.DataType.UNSIGNED_SHORT,u32:t.DataType.UNSIGNED_INT,i8:t.DataType.BYTE,i16:t.DataType.SHORT,i32:t.DataType.INT,f16:t.DataType.HALF_FLOAT,f32:t.DataType.FLOAT};e.glLayout=function(e,t=0){const i=e.stride;return Array.from(e.fields.keys()).map((s=>{const u=e.fields.get(s),f=u.constructor.ElementCount,o=function(e){const t=n[e];if(t)return t;throw new Error("BufferType not supported in WebGL")}(u.constructor.ElementType),a=u.offset,c=u.optional?.glNormalized??!1;return new r.VertexElementDescriptor(s,f,o,a,i,c,t)}))},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/views/3d/webgl-engine/lib/VertexAttribute":function(){define(["exports"],(function(e){"use strict";var t;e.VertexAttribute=void 0,(t=e.VertexAttribute||(e.VertexAttribute={})).POSITION="position",t.NORMAL="normal",t.NORMALCOMPRESSED="normalCompressed",t.UV0="uv0",t.UVI="uvi",t.COLOR="color",t.SYMBOLCOLOR="symbolColor",t.SIZE="size",t.ROTATION="rotation",t.TANGENT="tangent",t.OFFSET="offset",t.PERSPECTIVEDIVIDE="perspectiveDivide",t.CENTEROFFSETANDDISTANCE="centerOffsetAndDistance",t.LENGTH="length",t.NEXTDELTA="nextDelta",t.PREVIOUSDELTA="previousDelta",t.U0="u0",t.LINEPARAMETERS="lineParameters",t.COLORFEATUREATTRIBUTE="colorFeatureAttribute",t.SIZEFEATUREATTRIBUTE="sizeFeatureAttribute",t.OPACITYFEATUREATTRIBUTE="opacityFeatureAttribute",t.DISTANCETOSTART="distanceToStart",t.UVMAPSPACE="uvMapSpace",t.BOUNDINGRECT="boundingRect",t.UVREGION="uvRegion",t.PROFILERIGHT="profileRight",t.PROFILEUP="profileUp",t.PROFILEVERTEXANDNORMAL="profileVertexAndNormal",t.PROFILEAUXDATA="profileAuxData",t.INSTANCEMODELORIGINHI="instanceModelOriginHi",t.INSTANCEMODELORIGINLO="instanceModelOriginLo",t.INSTANCEMODEL="instanceModel",t.INSTANCEMODELNORMAL="instanceModelNormal",t.INSTANCECOLOR="instanceColor",t.INSTANCEFEATUREATTRIBUTE="instanceFeatureAttribute",t.LOCALTRANSFORM="localTransform",t.GLOBALTRANSFORM="globalTransform",t.BOUNDINGSPHERE="boundingSphere",t.MODELORIGIN="modelOrigin",t.MODELSCALEFACTORS="modelScaleFactors",t.FEATUREATTRIBUTE="featureAttribute",t.STATE="state",t.LODLEVEL="lodLevel",t.POSITION0="position0",t.POSITION1="position1",t.NORMAL2COMPRESSED="normal2Compressed",t.COMPONENTINDEX="componentIndex",t.VARIANTOFFSET="variantOffset",t.VARIANTSTROKE="variantStroke",t.VARIANTEXTENSION="variantExtension",t.SIDENESS="sideness",t.START="start",t.END="end",t.UP="up",t.START_UP="startUp",t.END_UP="endUp",t.EXTRUDE="extrude",t.OLIDCOLOR="objectAndLayerIdColor",t.INSTANCEOBJECTANDLAYERIDCOLOR="instanceObjectAndLayerIdColor",e.affectsGeometry=function(t){return t===e.VertexAttribute.POSITION},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/views/3d/webgl-engine/lib/edgeRendering/edgePreprocessing":function(){define(["exports","../../../../../core/mathUtils","../../../../../core/PooledArray","../../../../../chunks/vec32","../../../../../core/libs/gl-matrix-2/factories/vec3f64","./Edge"],(function(e,t,r,n,i,s){"use strict";class u{constructor(){this.index=0,this.length=0}}const f=new r({allocator:e=>e||new u,deallocator:null}),o=new r({deallocator:null}),a=new r({deallocator:null}),c=new s.Edge,l=i.create(),d=i.create(),h=i.create(),p=i.create(),y=i.create(),m=t.deg2rad(4),g=Math.cos(m),B=t.deg2rad(35),E=Math.cos(B);e.extractEdges=function(e,r,i){const s=e.vertices.position,u=e.vertices.componentIndex,B=c.position0,V=c.position1,A=c.faceNormal0,T=c.faceNormal1,{edges:w,normals:b}=function(e){const t=e.faces.length/3,r=e.faces,i=e.neighbors,s=e.vertices.position;o.length=a.length=0;for(let e=0;e<t;e++){const t=3*e,u=i[t],f=i[t+1],c=i[t+2],l=r[t],d=r[t+1],m=r[t+2];s.getVec(l,h),s.getVec(d,p),s.getVec(m,y),n.subtract(p,p,h),n.subtract(y,y,h),n.cross(h,p,y),n.normalize(h,h),a.pushArray(h),(-1===u||l<d)&&(o.push(l),o.push(d),o.push(e),o.push(u)),(-1===f||d<m)&&(o.push(d),o.push(m),o.push(e),o.push(f)),(-1===c||m<l)&&(o.push(m),o.push(l),o.push(e),o.push(c))}return{edges:o,normals:a}}(e),S=w.length/4,M=r.allocate(S);let I=0;const x=S,N=i?.allocate(x);let v=0,O=0,L=0;f.length=0;for(let e=0;e<S;++e){const t=4*e;s.getVec(w.data[t],B),s.getVec(w.data[t+1],V);const r=f.pushNew();r.index=4*e,r.length=n.distance(B,V)}f.sort(((e,t)=>t.length-e.length));const F=new Array,R=new Array;f.forAll((({length:e,index:f})=>{const o=w.data[f],a=w.data[f+1],h=w.data[f+2],p=w.data[f+3],y=-1===p;if(s.getVec(o,B),s.getVec(a,V),y){const e=3*h;n.set(A,b.data[e],b.data[e+1],b.data[e+2]),n.copy(T,A),c.componentIndex=u.get(o),c.cosAngle=n.dot(A,T)}else{let e=3*h;if(n.set(A,b.data[e],b.data[e+1],b.data[e+2]),e=3*p,n.set(T,b.data[e],b.data[e+1],b.data[e+2]),c.componentIndex=u.get(o),c.cosAngle=n.dot(A,T),S=g,c.cosAngle>S)return;c.cosAngle<-.9999&&n.copy(T,A)}var S,x;O+=e,L++,y||(x=E,c.cosAngle<x)?(r.write(M,I++,c),F.push(e)):function(e,r){const i=t.acosClamped(e.cosAngle);return n.direction(d,e.position1,e.position0),i*(n.dot(n.cross(l,e.faceNormal0,e.faceNormal1),d)>0?-1:1)>r}(c,m)&&(N&&i&&i.write(N,v++,c),R.push(e))}));const _=new Float32Array(F.reverse()),P=new Float32Array(R.reverse()),U=N&&i?{instancesData:N.slice(0,v),lodInfo:{lengths:P}}:void 0;return{regular:{instancesData:M.slice(0,I),lodInfo:{lengths:_}},silhouette:U,averageEdgeLength:O/L}},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/views/3d/webgl-engine/lib/edgeRendering/Edge":function(){define(["exports","../../../../../core/libs/gl-matrix-2/factories/vec3f64"],(function(e,t){"use strict";e.Edge=class{constructor(){this.position0=t.create(),this.position1=t.create(),this.faceNormal0=t.create(),this.faceNormal1=t.create(),this.componentIndex=0,this.cosAngle=0}},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/views/3d/webgl-engine/lib/edgeRendering/edgeProcessing":function(){define(["exports","../../../../../geometry/support/meshUtils/deduplicate","../../../support/meshProcessing","../../../support/buffer/InterleavedLayout","../VertexAttribute","./bufferLayouts","./edgeBufferWriters","./edgePreprocessing"],(function(e,t,r,n,i,s,u,f){"use strict";function o(e,n,i,u){if(n){const t=r.computeNeighbors(i,u,e.count);return new a(i,u,t,e)}const f=t.deduplicate(e.buffer,e.stride/4,{originalIndices:i}),o=r.computeNeighbors(f.indices,u,f.uniqueCount);return{faces:f.indices,facesLength:f.indices.length,neighbors:o,vertices:s.EdgeInputBufferLayout.createView(f.buffer)}}class a{constructor(e,t,r,n){this.faces=e,this.facesLength=t,this.neighbors=r,this.vertices=n}}const c=new u.RegularEdgeBufferWriter,l=new u.SilhouetteEdgeBufferWriter,d=n.newLayout().vec3f(i.VertexAttribute.POSITION0).vec3f(i.VertexAttribute.POSITION1),h=n.newLayout().vec3f(i.VertexAttribute.POSITION0).vec3f(i.VertexAttribute.POSITION1).u16(i.VertexAttribute.COMPONENTINDEX);e.extract=function(e){const t=o(e.data,e.skipDeduplicate,e.indices,e.indicesLength);return c.updateSettings(e.writerSettings),l.updateSettings(e.writerSettings),f.extractEdges(t,c,l)},e.extractComponentsEdgeLocationsLayout=h,e.extractEdgeInformation=o,e.extractEdgeLocationsLayout=d,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/geometry/support/meshUtils/deduplicate":function(){define(["exports","../../../core/mathUtils","../Indices"],(function(e,t,r){"use strict";function n(e,t,r,n){for(let i=0;i<n;i++)if(e[t+i]!==e[r+i])return!1;return!0}function i(e,t,r,n,i){for(let s=0;s<i;s++)r[n+s]=e[t+s]}function s(e,t,r){let n=0;for(let i=0;i<r;i++)n=e[t+i]+n|0,n=n+(n<<11)+(n>>>2)|0;return n>>>0}let u=null;e.deduplicate=function(e,f,o){const a=Array.isArray(e),c=a?e.length/f:e.byteLength/(4*f),l=a?e:new Uint32Array(e,0,c*f),d=o?.minReduction??0,h=o?.originalIndices||null,p=h?h.length:0,y=o?.componentOffsets||null;let m=0;if(y)for(let e=0;e<y.length-1;e++){const t=y[e+1]-y[e];t>m&&(m=t)}else m=c;const g=Math.floor(1.1*m)+1;(null==u||u.length<2*g)&&(u=new Uint32Array(t.nextHighestPowerOfTwo(2*g)));for(let e=0;e<2*g;e++)u[e]=0;let B=0;const E=!!y&&!!h,V=E?p:c;let A=r.newIndexArray(c);const T=new Uint32Array(p),w=1.96;let b=0!==d?Math.ceil(4*w*w/(d*d)*d*(1-d)):V,S=1,M=y?y[1]:V;for(let e=0;e<V;e++){if(e===b){const t=1-B/e;if(t+w*Math.sqrt(t*(1-t)/e)<d)return null;b*=2}if(e===M){for(let e=0;e<2*g;e++)u[e]=0;if(h)for(let e=y[S-1];e<y[S];e++)T[e]=A[h[e]];M=y[++S]}const t=E?h[e]:e,r=t*f,i=s(l,r,f);let o=i%g,a=B;for(;0!==u[2*o+1];){if(u[2*o]===i){const e=u[2*o+1]-1;if(n(l,r,e*f,f)){a=A[e];break}}o++,o>=g&&(o-=g)}a===B&&(u[2*o]=i,u[2*o+1]=t+1,B++),A[t]=a}if(0!==d&&1-B/c<d)return null;if(E){for(let e=y[S-1];e<T.length;e++)T[e]=A[h[e]];A=r.compactMeshIndices(T)}const I=a?new Array(B):new Uint32Array(B*f);B=0;for(let e=0;e<V;e++)A[e]===B&&(i(l,(E?h[e]:e)*f,I,B*f,f),B++);if(h&&!E){const e=new Uint32Array(p);for(let t=0;t<e.length;t++)e[t]=A[h[t]];A=r.compactMeshIndices(e)}return{buffer:Array.isArray(I)?I:I.buffer,indices:A,uniqueCount:B}},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/geometry/support/Indices":function(){define(["exports","../../core/typedArrayUtil"],(function(e,t){"use strict";function r(e,r){if(Array.isArray(e)){if(e.length<t.nativeArrayMaxSize)return e}else if(e.length<t.nativeArrayMaxSize)return Array.from(e);let n=!0,i=!0;return e.some(((e,t)=>(n=n&&0===e,i=i&&e===t,!n&&!i))),n?a(e.length):i?u(e.length):t.isTypedArray(e)&&e.BYTES_PER_ELEMENT===Uint16Array.BYTES_PER_ELEMENT?e:function(e,r){for(const n of e){if(n>=65536)return t.isTypedArray(e)?e:new Uint32Array(e);n>=256&&(r=!1)}return r?new Uint8Array(e):new Uint16Array(e)}(e,!r)}let n=f(131072);const i=[0],s=(()=>{const e=new Uint16Array(65536);for(let t=0;t<e.length;++t)e[t]=t;return e})();function u(e){return 1===e?i:e<t.nativeArrayMaxSize?Array.from(new Uint16Array(s.buffer,0,e)):e<s.length?new Uint16Array(s.buffer,0,e):(e>n.length&&(n=f(Math.max(2*n.length,e))),new Uint32Array(n.buffer,0,e))}function f(e){const t=new Uint32Array(e);for(let e=0;e<t.length;e++)t[e]=e;return t}let o=new Uint8Array(65536);function a(e){if(1===e)return i;if(e<t.nativeArrayMaxSize)return new Array(e).fill(0);if(e>o.length){const t=Math.max(2*o.length,e);o=new Uint8Array(t)}return new Uint8Array(o.buffer,0,e)}e.compactIndices=r,e.compactMeshIndices=function(e){return r(e,!0)},e.getContinuousIndexArray=u,e.getZeroIndexArray=a,e.newIndexArray=function(e){return e<=t.nativeArrayMaxSize?new Array(e):e<=65536?new Uint16Array(e):new Uint32Array(e)},e.newIntArray=function(e){return e<=t.nativeArrayMaxSize?new Array(e):new Uint32Array(e)},e.pruneIndexArrays=function(){n=f(131072),o=new Uint8Array(65536)},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/views/3d/support/meshProcessing":function(){define(["exports"],(function(e){"use strict";e.computeNeighbors=function(e,t,r){const n=t/3,i=new Uint32Array(r+1),s=new Uint32Array(r+1),u=(e,t)=>{e<t?i[e+1]++:s[t+1]++};for(let t=0;t<n;t++){const r=e[3*t],n=e[3*t+1],i=e[3*t+2];u(r,n),u(n,i),u(i,r)}let f=0,o=0;for(let e=0;e<r;e++){const t=i[e+1],r=s[e+1];i[e+1]=f,s[e+1]=o,f+=t,o+=r}const a=new Uint32Array(6*n),c=i[r],l=(e,t,r)=>{if(e<t){const n=i[e+1]++;a[2*n]=t,a[2*n+1]=r}else{const n=s[t+1]++;a[2*c+2*n]=e,a[2*c+2*n+1]=r}};for(let t=0;t<n;t++){const r=e[3*t],n=e[3*t+1],i=e[3*t+2];l(r,n,t),l(n,i,t),l(i,r,t)}const d=(e,t)=>{const r=2*e,n=t-e;for(let e=1;e<n;e++){const t=a[r+2*e],n=a[r+2*e+1];let i=e-1;for(;i>=0&&a[r+2*i]>t;i--)a[r+2*i+2]=a[r+2*i],a[r+2*i+3]=a[r+2*i+1];a[r+2*i+2]=t,a[r+2*i+3]=n}};for(let e=0;e<r;e++)d(i[e],i[e+1]),d(c+s[e],c+s[e+1]);const h=new Int32Array(3*n),p=(t,r)=>t===e[3*r]?0:t===e[3*r+1]?1:t===e[3*r+2]?2:-1,y=(e,t)=>{const r=p(e,t);h[3*t+r]=-1},m=(e,t,r,n)=>{const i=p(e,t);h[3*t+i]=n;const s=p(r,n);h[3*n+s]=t};for(let e=0;e<r;e++){let t=i[e];const r=i[e+1];let n=s[e];const u=s[e+1];for(;t<r&&n<u;){const r=a[2*t],i=a[2*c+2*n];r===i?(m(e,a[2*t+1],i,a[2*c+2*n+1]),t++,n++):r<i?(y(e,a[2*t+1]),t++):(y(i,a[2*c+2*n+1]),n++)}for(;t<r;)y(e,a[2*t+1]),t++;for(;n<u;)y(a[2*c+2*n],a[2*c+2*n+1]),n++}return h},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/views/3d/webgl-engine/lib/edgeRendering/edgeBufferWriters":function(){define(["exports","../../../../../core/RandomLCG","../../../../../chunks/vec32","../../../../../core/libs/gl-matrix-2/factories/vec3f64","../../../support/buffer/glUtil","../Normals","./bufferLayouts"],(function(e,t,r,n,i,s,u){"use strict";class f{updateSettings(e){this.settings=e,this._edgeHashFunction=e.reducedPrecision?d:l}write(e,t,r){B.seed=this._edgeHashFunction(r);const n=B.getIntRange(0,255),i=B.getIntRange(0,this.settings.variants-1),s=B.getFloat();var u;const f=255*(.5*(u=-(1-Math.min(s/.7,1))+Math.max(0,s-.7)/(1-.7),Math.abs(u)**1.2*Math.sign(u))+.5);e.position0.setVec(t,r.position0),e.position1.setVec(t,r.position1),e.componentIndex.set(t,r.componentIndex),e.variantOffset.set(t,n),e.variantStroke.set(t,i),e.variantExtension.set(t,f)}}const o=new Float32Array(6),a=new Uint32Array(o.buffer),c=new Uint32Array(1);function l(e){return o[0]=e.position0[0],o[1]=e.position0[1],o[2]=e.position0[2],o[3]=e.position1[0],o[4]=e.position1[1],o[5]=e.position1[2],c[0]=31*(31*(31*(31*(31*(166811+a[0])+a[1])+a[2])+a[3])+a[4])+a[5],c[0]}function d(e){const t=o;t[0]=p(e.position0[0]),t[1]=p(e.position0[1]),t[2]=p(e.position0[2]),t[3]=p(e.position1[0]),t[4]=p(e.position1[1]),t[5]=p(e.position1[2]),c[0]=5381;for(let e=0;e<a.length;e++)c[0]=31*c[0]+a[e];return c[0]}const h=1e4;function p(e){return Math.round(e*h)/h}class y{constructor(){this._commonWriter=new f}updateSettings(e){this._commonWriter.updateSettings(e)}allocate(e){return u.RegularEdgeInstancesLayout.createBuffer(e)}write(e,t,n){this._commonWriter.write(e,t,n),r.add(g,n.faceNormal0,n.faceNormal1),r.normalize(g,g);const{typedBuffer:i,typedBufferStride:u}=e.normalCompressed;s.compressNormal(i,t,g[0],g[1],g[2],u)}static{this.Layout=u.RegularEdgeInstancesLayout}static{this.glLayout=i.glLayout(u.RegularEdgeInstancesLayout,1)}}class m{constructor(){this._commonWriter=new f}updateSettings(e){this._commonWriter.updateSettings(e)}allocate(e){return u.SilhouetteEdgeInstancesLayout.createBuffer(e)}write(e,t,r){this._commonWriter.write(e,t,r);{const{typedBuffer:n,typedBufferStride:i}=e.normalCompressed;s.compressNormal(n,t,r.faceNormal0[0],r.faceNormal0[1],r.faceNormal0[2],i)}{const{typedBuffer:n,typedBufferStride:i}=e.normal2Compressed;s.compressNormal(n,t,r.faceNormal1[0],r.faceNormal1[1],r.faceNormal1[2],i)}}static{this.Layout=u.SilhouetteEdgeInstancesLayout}static{this.glLayout=i.glLayout(u.SilhouetteEdgeInstancesLayout,1)}}const g=n.create(),B=new t;e.RegularEdgeBufferWriter=y,e.SilhouetteEdgeBufferWriter=m,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/views/3d/webgl-engine/lib/Normals":function(){define(["exports","../../../../core/mathUtils","../../../../chunks/vec32","../../../../core/libs/gl-matrix-2/factories/vec3f64","../../../../geometry/support/FloatArray","../../../../geometry/support/ShortArray"],(function(e,t,r,n,i,s){"use strict";function u(e,t,r,n,i,s=2){const u=1/(Math.abs(r)+Math.abs(n)+Math.abs(i)),f=r*u,a=n*u,c=i<=0?(f>=0?1:-1)*(1-Math.abs(a)):f,l=i<=0?(a>=0?1:-1)*(1-Math.abs(f)):a,d=t*s;e[d]=o(c),e[d+1]=o(l)}function f(e,t,n,i=2){const s=n*i,u=a(t[s]),f=a(t[s+1]),o=1-Math.abs(u)-Math.abs(f);return e[2]=o,o<0?(e[0]=(u>=0?1:-1)*(1-Math.abs(f)),e[1]=(f>=0?1:-1)*(1-Math.abs(u))):(e[0]=u,e[1]=f),r.normalize(e,e)}function o(e){return t.clamp(Math.round(32767*e),-32767,32767)}function a(e){return t.clamp(e/32767,-1,1)}e.compressAndTransformNormals=function(e,t){const i=e.length/3,s=new Int16Array(2*i);let f=0;const o=n.create();for(let n=0;n<i;++n)o[0]=e[f++],o[1]=e[f++],o[2]=e[f++],r.transformMat3(o,o,t),u(s,n,o[0],o[1],o[2]);return s},e.compressNormal=u,e.compressNormals=function(e){const t=e.length/3,r=s.newShortArray(2*t);let n=0;for(let i=0;i<t;++i)u(r,i,e[n++],e[n++],e[n++]);return r},e.decodeInt16=a,e.decompressNormal=f,e.decompressNormals=function(e,t=2){const r=e.length/t,s=i.newFloatArray(3*r),u=n.create();let o=0;for(let n=0;n<r;++n)f(u,e,n,t),s[o++]=u[0],s[o++]=u[1],s[o++]=u[2];return s},e.encodeInt16=o,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/geometry/support/FloatArray":function(){define(["exports","../../core/typedArrayUtil"],(function(e,t){"use strict";e.compactFloatArray=function(e){return Array.isArray(e)?e.length<t.nativeArrayMaxSize?e:new Float32Array(e):e.length<t.nativeArrayMaxSize?Array.from(e):e},e.floatArrayFrom=function(e){return(Array.isArray(e)?e.length:e.byteLength/8)<=t.nativeArrayMaxSize?Array.from(e):new Float32Array(e)},e.floatSubArray=function(e,t,r){return Array.isArray(e)?e.slice(t,t+r):e.subarray(t,t+r)},e.newFloatArray=function(e,r=!1){return e<=t.nativeArrayMaxSize?r?new Array(e).fill(0):new Array(e):new Float32Array(e)},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"esri/geometry/support/ShortArray":function(){define(["exports","../../core/typedArrayUtil"],(function(e,t){"use strict";e.compactShortArray=function(e){return Array.isArray(e)?e.length<t.nativeArrayMaxSize?e:new Int16Array(e):e.length<t.nativeArrayMaxSize?Array.from(e):e},e.newShortArray=function(e){return e<=t.nativeArrayMaxSize?new Array(e):new Int16Array(e)},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"*noref":1}}),define(["../../../support/buffer/workerHelper","./bufferLayouts","./edgePreprocessing","./edgeProcessing"],(function(e,t,r,n){"use strict";function i(e){return{data:t.EdgeInputBufferLayout.createView(e.dataBuffer),indices:"Uint32Array"===e.indicesType?new Uint32Array(e.indices):"Uint16Array"===e.indicesType?new Uint16Array(e.indices):e.indices,indicesLength:e.indicesLength,writerSettings:e.writerSettings,skipDeduplicate:e.skipDeduplicate}}const s=new class{allocate(e){return n.extractEdgeLocationsLayout.createBuffer(e)}trim(e,t){return e.slice(0,t)}write(e,t,r){e.position0.setVec(t,r.position0),e.position1.setVec(t,r.position1)}},u=new class{allocate(e){return n.extractComponentsEdgeLocationsLayout.createBuffer(e)}trim(e,t){return e.slice(0,t)}write(e,t,r){e.position0.setVec(t,r.position0),e.position1.setVec(t,r.position1),e.componentIndex.set(t,r.componentIndex)}};return class{async extract(t){const r=i(t),s=n.extract(r),u=[r.data.buffer],f=function(t,r){return r.push(t.regular.lodInfo.lengths.buffer),r.push(t.silhouette.lodInfo.lengths.buffer),{regular:{instancesData:e.packInterleavedBuffer(t.regular.instancesData,r),lodInfo:{lengths:t.regular.lodInfo.lengths.buffer}},silhouette:{instancesData:e.packInterleavedBuffer(t.silhouette.instancesData,r),lodInfo:{lengths:t.silhouette.lodInfo.lengths.buffer}},averageEdgeLength:t.averageEdgeLength}}(s,u);return{result:f,transferList:u}}async extractComponentsEdgeLocations(t){const s=i(t),f=n.extractEdgeInformation(s.data,s.skipDeduplicate,s.indices,s.indicesLength),o=r.extractEdges(f,u),a=[];return{result:e.packInterleavedBuffer(o.regular.instancesData,a),transferList:a}}async extractEdgeLocations(t){const u=i(t),f=n.extractEdgeInformation(u.data,u.skipDeduplicate,u.indices,u.indicesLength),o=r.extractEdges(f,s),a=[];return{result:e.packInterleavedBuffer(o.regular.instancesData,a),transferList:a}}}}));