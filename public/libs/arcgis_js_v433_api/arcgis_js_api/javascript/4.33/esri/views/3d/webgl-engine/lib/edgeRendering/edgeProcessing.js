// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.33/esri/copyright.txt for details.
//>>built
define(["exports","../../../../../geometry/support/meshUtils/deduplicate","../../../support/meshProcessing","../../../support/buffer/InterleavedLayout","../VertexAttribute","./bufferLayouts","./edgeBufferWriters","./edgePreprocessing"],(function(e,t,r,i,n,s,u,o){"use strict";function c(e,i,n,u){if(i){const t=r.computeNeighbors(n,u,e.count);return new a(n,u,t,e)}const o=t.deduplicate(e.buffer,e.stride/4,{originalIndices:n}),c=r.computeNeighbors(o.indices,u,o.uniqueCount);return{faces:o.indices,facesLength:o.indices.length,neighbors:c,vertices:s.EdgeInputBufferLayout.createView(o.buffer)}}class a{constructor(e,t,r,i){this.faces=e,this.facesLength=t,this.neighbors=r,this.vertices=i}}const f=new u.RegularEdgeBufferWriter,d=new u.SilhouetteEdgeBufferWriter,g=i.newLayout().vec3f(n.VertexAttribute.POSITION0).vec3f(n.VertexAttribute.POSITION1),p=i.newLayout().vec3f(n.VertexAttribute.POSITION0).vec3f(n.VertexAttribute.POSITION1).u16(n.VertexAttribute.COMPONENTINDEX);e.extract=function(e){const t=c(e.data,e.skipDeduplicate,e.indices,e.indicesLength);return f.updateSettings(e.writerSettings),d.updateSettings(e.writerSettings),o.extractEdges(t,f,d)},e.extractComponentsEdgeLocationsLayout=p,e.extractEdgeInformation=c,e.extractEdgeLocationsLayout=g,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));