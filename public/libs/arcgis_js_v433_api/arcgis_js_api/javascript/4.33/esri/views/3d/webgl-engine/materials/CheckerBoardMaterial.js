// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.33/esri/copyright.txt for details.
//>>built
define(["exports","../../../../core/libs/gl-matrix-2/factories/vec2f64","../../../../core/libs/gl-matrix-2/factories/vec4f64","../core/shaderLibrary/ShaderOutput","../lib/GLMaterial","../lib/Material","../lib/RenderSlot","./DefaultBufferWriter","./DefaultLayouts","./TriangleMaterial","../shaders/CheckerBoardTechnique","../shaders/CheckerBoardTechniqueConfiguration","../../../../webscene/support/AlphaCutoff"],(function(e,r,t,i,a,s,o,n,l,u,h,c,f){"use strict";class p extends u.TriangleMaterial{constructor(e){super(e,T),this._configuration=new c.CheckerBoardTechniqueConfiguration,this.produces=new Map([[o.RenderSlot.OPAQUE_MATERIAL,e=>i.isColor(e)&&!this.transparent],[o.RenderSlot.TRANSPARENT_MATERIAL,e=>i.isColor(e)&&this.transparent&&this.parameters.writeDepth],[o.RenderSlot.TRANSPARENT_MATERIAL_WITHOUT_DEPTH,e=>i.isColor(e)&&this.transparent&&!this.parameters.writeDepth]])}getConfiguration(e,r){return super.getConfiguration(e,r,this._configuration),this._configuration.transparent=this.transparent,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.polygonOffset=this.parameters.polygonOffset,this._configuration.oitPass=r.oitPass,this._configuration.terrainDepthTest=r.terrainDepthTest,this._configuration.cullAboveTerrain=r.cullAboveTerrain,this._configuration}get visible(){return this.parameters.color1[3]>=f.alphaCutoff||this.parameters.color2[3]>=f.alphaCutoff}get transparent(){return this.parameters.color1[3]<1||this.parameters.color2[3]<1}createGLMaterial(e){return new g(e)}createBufferWriter(){return new n.DefaultBufferWriter(l.PositionUvLayout)}}class g extends a{beginSlot(e){return this.getTechnique(h.CheckerBoardTechnique,e)}}class T extends s.MaterialParameters{constructor(){super(...arguments),this.size=r.fromValues(1,1),this.color1=t.fromValues(.75,.75,.75,1),this.color2=t.fromValues(.5,.5,.5,1),this.writeDepth=!0,this.polygonOffset=!1}}e.CheckerBoardMaterial=p,e.Parameters=T,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));