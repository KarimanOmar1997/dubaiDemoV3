// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.33/esri/copyright.txt for details.
//>>built
define(["require","exports","../../../../core/libs/gl-matrix-2/factories/vec3f64","../../../../symbols/support/materialUtils","../core/shaderLibrary/ShaderOutput","../core/shaderLibrary/attributes/PathVertexPosition.glsl","../core/shaderLibrary/shading/Normals.glsl","../core/shaderTechnique/ReloadableShaderModule","../core/shaderTechnique/ShaderTechnique","../lib/OITPass","../lib/OrderIndependentTransparency","../lib/StencilUtils","../lib/VertexAttribute","./pbrUtils","../../../../chunks/Path.glsl","../../../webgl/renderState"],(function(e,t,r,s,i,a,l,o,n,u,c,d,h,b,P,T){"use strict";class O extends a.PathVertexPositionPassParameters{constructor(){super(...arguments),this.ambient=r.freeze(.2,.2,.2),this.diffuse=r.freeze(.8,.8,.8),this.opacity=1,this.origin=r.create(),this.modelTransformation=null,this.mrrFactors=b.advancedMRRFactors,this.emissiveStrength=0,this.emissiveSource=s.EmissiveSourceMode.Color,this.emissiveBaseColor=r.ZEROS}}class f extends n.ShaderTechnique{constructor(t,r){super(t,r,new o.ReloadableShaderModule(P.Path,(()=>new Promise(((t,r)=>e(["../shaders/Path.glsl"],t,r))))),A)}initializePipeline(e){const{output:t,transparent:r,hasSlicePlane:s,doubleSidedMode:a,hasOccludees:o,oitPass:h}=e,b=h===u.OITPass.NONE,P=h===u.OITPass.FrontFace;return T.makePipelineState({blending:i.isColorOrColorEmission(t)&&r?c.blending(h):null,culling:s&&!r&&a!==l.NormalsDoubleSidedMode.None?T.frontFaceCullingParams:null,depthTest:{func:c.oitDepthTest(h)},depthWrite:b||P?T.defaultDepthWrite:null,drawBuffers:n.depthOnlyOutputBuffersOr(t,c.getDrawBuffers(h,t)),colorWrite:T.defaultColorWrite,stencilWrite:o?d.stencilWriteMaskOn:null,stencilTest:o?d.stencilBaseAllZerosParams:null,polygonOffset:b||P?null:c.OITPolygonOffset})}}const A=new Map([[h.VertexAttribute.POSITION,0],[h.VertexAttribute.PROFILEVERTEXANDNORMAL,1],[h.VertexAttribute.PROFILERIGHT,2],[h.VertexAttribute.PROFILEUP,3],[h.VertexAttribute.SIZEFEATUREATTRIBUTE,4],[h.VertexAttribute.COLORFEATUREATTRIBUTE,5],[h.VertexAttribute.OPACITYFEATUREATTRIBUTE,6],[h.VertexAttribute.OLIDCOLOR,7],[h.VertexAttribute.PROFILEAUXDATA,8]]);t.PathPassParameters=O,t.PathTechnique=f,t.vertexAttributeLocations=A,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}));