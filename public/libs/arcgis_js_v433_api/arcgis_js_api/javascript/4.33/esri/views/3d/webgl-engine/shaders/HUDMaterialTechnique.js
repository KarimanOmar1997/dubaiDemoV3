// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.33/esri/copyright.txt for details.
//>>built
define(["require","exports","../core/shaderLibrary/ShaderOutput","../core/shaderTechnique/ReloadableShaderModule","../core/shaderTechnique/ShaderTechnique","../lib/OITPass","../lib/OrderIndependentTransparency","../../../../chunks/HUDMaterial.glsl","../../../webgl/enums","../../../webgl/renderState"],(function(e,r,i,t,l,a,n,s,o,u){"use strict";class d extends l.ShaderTechnique{constructor(r,i){super(r,i,new t.ReloadableShaderModule(s.HUDMaterial,(()=>new Promise(((r,i)=>e(["./HUDMaterial.glsl"],r,i)))))),this.primitiveType=i.occlusionPass?o.PrimitiveType.POINTS:o.PrimitiveType.TRIANGLES}initializePipeline(e){const{oitPass:r,hasPolygonOffset:t,draped:l,output:s,depthTestEnabled:d,occlusionPass:h}=e,p=r===a.OITPass.NONE,T=r===a.OITPass.ColorAlpha,f=s===i.ShaderOutput.Highlight,P=d&&!l&&!T&&!h&&!f;return u.makePipelineState({blending:i.isColorOrColorEmission(s)?p?u.premultipliedAlpha:n.oitBlending(r):null,depthTest:d&&!l?{func:o.CompareFunction.LEQUAL}:null,depthWrite:P?u.defaultDepthWrite:null,drawBuffers:n.getDrawBuffers(r,s),colorWrite:u.defaultColorWrite,polygonOffset:t?c:null})}}const c={factor:0,units:-4};r.HUDMaterialTechnique=d,Object.defineProperty(r,Symbol.toStringTag,{value:"Module"})}));