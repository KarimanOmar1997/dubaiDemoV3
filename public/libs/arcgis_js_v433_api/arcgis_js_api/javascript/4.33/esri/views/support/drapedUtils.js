// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.33/esri/copyright.txt for details.
//>>built
define(["exports","../../core/unitUtils","../../geometry/Extent","../../renderers/support/clickToleranceUtils"],(function(e,t,n,r){"use strict";function a(e,r,a,i=new n){let s=0;if("2d"===a.type)s=r*(a.resolution??0);else if("3d"===a.type){const n=a.overlayPixelSizeInMapUnits(e),i=a.basemapSpatialReference;s=null==i||i.equals(a.spatialReference)?r*n:t.getMetersPerUnitForSR(i)/t.getMetersPerUnitForSR(a.spatialReference)}const l=e.x-s,o=e.y-s,c=e.x+s,u=e.y+s,{spatialReference:p}=a;return i.xmin=Math.min(l,c),i.ymin=Math.min(o,u),i.xmax=Math.max(l,c),i.ymax=Math.max(o,u),i.spatialReference=p,i}const i=new n;e.createQueryGeometry=a,e.intersectsDrapedGeometry=function(e,t,n){const s=n.toMap(e);return null!=s&&a(s,r.calculateTolerance(),n,i).intersects(t)},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));