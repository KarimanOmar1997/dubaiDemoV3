// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.33/esri/copyright.txt for details.
//>>built
define(["exports","../../core/libs/gl-matrix-2/factories/vec2f64","./enums","./Texture","./TextureDescriptor"],(function(e,t,r,a,i){"use strict";e.createColormapTexture=function(e,t){const n=new i.TextureDescriptor;return n.internalFormat=r.PixelFormat.RGBA,n.width=t.length/4,n.height=1,n.samplingMode=r.TextureSamplingMode.NEAREST,n.wrapMode=r.TextureWrapMode.CLAMP_TO_EDGE,new a.Texture(e,n,t)},e.createPixelMaskTexture=function(e,t,n){const o=new i.TextureDescriptor;return o.internalFormat=r.PixelFormat.ALPHA,o.pixelFormat=r.PixelFormat.ALPHA,o.dataType=r.PixelType.UNSIGNED_BYTE,o.width=n[0],o.height=n[1],o.samplingMode=r.TextureSamplingMode.NEAREST,o.wrapMode=r.TextureWrapMode.CLAMP_TO_EDGE,new a.Texture(e,o,t)},e.createRasterTexture=function(e,t,n="nearest",o=!1){const u=!(o&&"u8"===t.pixelType),s=u?r.PixelType.FLOAT:r.PixelType.UNSIGNED_BYTE,l=null==t.pixels||0===t.pixels.length?null:u?t.getAsRGBAFloat():t.getAsRGBA(),m=e.capabilities.textureFloatLinear,p=new i.TextureDescriptor;return p.width=t.width,p.height=t.height,p.internalFormat=u?r.SizedPixelFormat.RGBA32F:r.PixelFormat.RGBA,p.samplingMode=!m||"bilinear"!==n&&"cubic"!==n?r.TextureSamplingMode.NEAREST:r.TextureSamplingMode.LINEAR,p.dataType=s,p.wrapMode=r.TextureWrapMode.CLAMP_TO_EDGE,new a.Texture(e,p,l)},e.createTransformTexture=function(e,t){const{spacing:n,offsets:o,coefficients:u,size:[s,l]}=t,m=n[0]>1,p=new i.TextureDescriptor;p.width=m?4*s:s,p.height=l,p.internalFormat=r.SizedPixelFormat.RGBA32F,p.dataType=r.PixelType.FLOAT,p.samplingMode=r.TextureSamplingMode.NEAREST,p.wrapMode=r.TextureWrapMode.CLAMP_TO_EDGE;const c=new Float32Array(m?s*l*16:2*o.length);if(m&&null!=u)for(let e=0,t=0;e<u.length;e++)c[t++]=u[e],e%3==2&&(c[t++]=1);else for(let e=0;e<l;e++)for(let t=0;t<s;t++){const r=4*(e*s+t),a=2*(t*l+e);c[r]=o[a],c[r+1]=o[a+1],c[r+3]=-1===o[a]?0:1}return new a.Texture(e,p,c)},e.getColormapUniforms=function(e,t){return{u_colormapOffset:t||0,u_colormapMaxIndex:e?e.length/4-1:0}},e.getCommonUniforms=function(e,r,a,i=1,n=!0){return{u_flipY:n,u_applyTransform:!!e,u_opacity:i,u_transformSpacing:e?e.spacing:t.ZEROS,u_transformGridSize:e?e.size:t.ZEROS,u_targetImageSize:r,u_srcImageSize:a}},e.getShadedReliefUniforms=function(e){return{u_hillshadeType:e.hillshadeType,u_sinZcosAs:e.sinZcosAs,u_sinZsinAs:e.sinZsinAs,u_cosZs:e.cosZs,u_weights:e.weights,u_factor:e.factor,u_minValue:e.minValue,u_maxValue:e.maxValue}},e.getStretchUniforms=function(e){return{u_bandCount:e.bandCount,u_minOutput:e.minOutput,u_maxOutput:e.maxOutput,u_minCutOff:e.minCutOff,u_maxCutOff:e.maxCutOff,u_factor:e.factor,u_useGamma:e.useGamma,u_gamma:e.gamma,u_gammaCorrection:e.gammaCorrection}},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));