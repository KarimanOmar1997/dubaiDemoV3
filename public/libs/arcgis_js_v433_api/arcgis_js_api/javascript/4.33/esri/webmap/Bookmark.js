// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.33/esri/copyright.txt for details.
//>>built
define(["../chunks/tslib.es6","../Viewpoint","../core/Error","../core/Identifiable","../core/JSONSupport","../core/lang","../core/Logger","../core/accessorSupport/decorators/property","../core/accessorSupport/decorators/cast","../core/accessorSupport/decorators/reader","../core/accessorSupport/decorators/subclass","../core/accessorSupport/decorators/writer","../core/accessorSupport/ensureType","../webdoc/support/SlideThumbnail","../webdoc/support/timeProperties"],(function(e,t,r,o,i,n,s,p,a,l,c,u,d,w,m){"use strict";var h;let y=h=class extends(o.IdentifiableMixin(i)){constructor(e){super(e),this.name=null,this.thumbnail=new w.SlideThumbnail,this.timeExtent=null}castThumbnail(e){return"string"==typeof e?new w.SlideThumbnail({url:e}):d.ensureType(w.SlideThumbnail,e)}set viewpoint(e){const{targetGeometry:t,scale:r}=e;null!=t&&"point"===t.type&&null==r&&s.getLogger(this).warn("Bookmark.viewpoint should include 'scale' when its targetGeometry is a point.",e),this._set("viewpoint",e)}readViewpoint(e,r){const{extent:o,viewpoint:i}=r;return t.fromJSON(i||{targetGeometry:o})}writeViewpoint(e,t,o,i){if(!e)return;const{targetGeometry:n}=e;if(null==n||"extent"===n.type)null!=n&&(t.extent=n.toJSON()),t[o]=e.toJSON();else{const e="Bookmark.viewpoint cannot be written to JSON when the viewpoint's targetGeometry is not an extent.";i?.messages?i.messages.push(new r("property:unsupported",e)):s.getLogger(this).error(e)}}clone(){return new h(n.clone({name:this.name,thumbnail:this.thumbnail,timeExtent:this.timeExtent,viewpoint:this.viewpoint}))}};return e.__decorate([p.property({type:String,nonNullable:!0,json:{write:{isRequired:!0}}})],y.prototype,"name",void 0),e.__decorate([p.property({type:w.SlideThumbnail,json:{write:{overridePolicy:e=>({enabled:!(!e||!e.url)})}}})],y.prototype,"thumbnail",void 0),e.__decorate([a.cast("thumbnail")],y.prototype,"castThumbnail",null),e.__decorate([p.property(m.timeExtent)],y.prototype,"timeExtent",void 0),e.__decorate([p.property({type:t,nonNullable:!0,json:{write:!0}})],y.prototype,"viewpoint",null),e.__decorate([l.reader("viewpoint",["extent","viewpoint"])],y.prototype,"readViewpoint",null),e.__decorate([u.writer("viewpoint")],y.prototype,"writeViewpoint",null),y=h=e.__decorate([c.subclass("esri.webmap.Bookmark")],y),y}));